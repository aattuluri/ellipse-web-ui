(this.webpackJsonpellipsereactapp=this.webpackJsonpellipsereactapp||[]).push([[0],{189:function(e,a,t){e.exports=t.p+"static/media/logo.50ff3dd8.svg"},289:function(e,a,t){e.exports=t.p+"static/media/google-play-badge.1a0c1f51.png"},344:function(e,a,t){e.exports=t(622)},621:function(e,a,t){},622:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(20),o=t.n(l),i=t(162),c=t(16),s=t(14),m=t.n(s),u=t(12),p=t(23),d=t(2),g=t(739),f=t(163),h=t(682),b=t(326),E=t(680),v=t(730),y=t(681),O=t(101),j=t.n(O),C=t(43),k=t(8),x=t(77),S=Object(x.a)((function(e){var a;return{root:{display:"flex",height:"100vh"},wrapper:{margin:e.spacing(1),position:"relative"},paperRight:Object(k.a)({margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(0),paddingBottom:e.spacing(4),borderRadius:30,height:"80vh"},e.breakpoints.down("sm"),{margin:e.spacing(0,1),paddingBottom:e.spacing(2)}),paperLeft:(a={margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},Object(k.a)(a,e.breakpoints.down("sm"),{margin:e.spacing(3,1)}),Object(k.a)(a,e.breakpoints.up("md"),{height:"80vh"}),a),paperimage:{margin:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center"},avatar:{margin:e.spacing(),marginTop:e.spacing(8),backgroundColor:e.palette.primary.main},form:Object(k.a)({width:"90%",margin:e.spacing(5)},e.breakpoints.down("sm"),{margin:e.spacing(2)}),submit:{margin:e.spacing(3,0,2)},iPhoneImage:Object(k.a)({},e.breakpoints.down("sm"),{display:"none"}),title:{fontFamily:"Gugi",color:e.palette.primary.dark,fontWeight:"bold"},hidden:Object(k.a)({},e.breakpoints.down("sm"),{display:"none"})}})),w=t(289),N=t.n(w);var D=function(){return r.a.createElement(C.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(E.a,{color:"inherit",href:"https://ellipseapp.com/"},"ellipseapp.com")," ",(new Date).getFullYear(),".")},T=t(738),I=t(734),z=t(688);function _(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}var W=Object(c.g)((function(e){var a=e.history,t=S(),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(d.a)(n,2),o=l[0],i=l[1],s=r.a.useState(!1),O=Object(d.a)(s,2),k=O[0],x=O[1],w=o.vertical,I=o.horizontal,W=o.open,B=o.message,P=o.type,F=o.autoHide,R=r.a.useState(null),A=Object(d.a)(R,2),H=A[0],M=A[1],L=r.a.useState(null),q=Object(d.a)(L,2),G=q[0],U=q[1],V=r.a.useState(null),J=Object(d.a)(V,2),Y=J[0],K=J[1],X=new AbortController,Z=function(){var e=Object(p.a)(m.a.mark((function e(t,n){var r,l,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clickaway"!==n){e.next=2;break}return e.abrupt("return");case 2:if("Signedin successfully"===B)if(localStorage.setItem("token",H),G)localStorage.setItem("token",H),(r=localStorage.getItem("eventid"))?(X.abort(),a.push("/event/".concat(r))):(X.abort(),a.push("/home"));else try{new FormData,c={email:Y},l=JSON.stringify(c),fetch("https://ellipseapp.com/api/users/sendverificationemail",{signal:X.signal,headers:{Authorization:"Bearer ".concat(H),"Content-Type":"application/json"},method:"POST",body:l}).then((function(e){e.json().then((function(e){"success"===e.message&&(X.abort(),localStorage.setItem("token",H),a.push("/otpverification"),i({open:!0,vertical:"top",horizontal:"center",message:"Signedup successfully",type:"success",autoHide:300}))}))}))}catch(t){x(!1),i({open:!0,vertical:"top",horizontal:"center",message:t.message,type:"error",autoHide:3e3})}i(Object(u.a)(Object(u.a)({},o),{},{open:!1}));case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();function Q(){return(Q=Object(p.a)(m.a.mark((function e(a){var t,n,r,l,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),x(!0),t=a.target.elements,n=t.email,r=t.password;try{new FormData,o={email:n.value,password:r.value},l=JSON.stringify(o),fetch("https://ellipseapp.com/api/users/login",{signal:X.signal,headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:l}).then((function(e){200===e.status?e.json().then((function(e){M(e.token),U(e.isVerified),K(e.useremail),x(!1),i({open:!0,vertical:"top",horizontal:"center",message:"Signedin successfully",type:"success",autoHide:200})})):(x(!1),i({open:!0,vertical:"top",horizontal:"center",message:"invalid credentials",type:"error",autoHide:6e3}))}))}catch(c){x(!1),i({open:!0,vertical:"top",horizontal:"center",message:c.message,type:"error",autoHide:6e3})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return localStorage.getItem("token")?r.a.createElement(c.a,{to:"/home"}):r.a.createElement(y.a,{container:!0,component:"main",className:t.root},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:w,horizontal:I},open:W,autoHideDuration:F,onClose:Z,key:w+I},r.a.createElement(_,{onClose:Z,severity:P},B)),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:7,elevation:6},r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"flex-start",m:1,p:1,className:t.paperLeft},r.a.createElement(C.a,{className:t.title,component:"h1",variant:"h2"},"Ellipse"),r.a.createElement(C.a,{component:"h1",variant:"h6"},"Kill time for what matters"),r.a.createElement("br",null),r.a.createElement("img",{className:t.hidden,src:N.a,alt:"playstore"}),r.a.createElement("br",null))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:5,elevation:6},r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"center",m:1,p:1,className:t.paperRight},r.a.createElement(g.a,{className:t.avatar},r.a.createElement(j.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,onSubmit:function(e){return Q.apply(this,arguments)}},r.a.createElement(b.a,{name:"email",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",autoComplete:"email",autoFocus:!0}),r.a.createElement(b.a,{name:"password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement("div",{className:t.wrapper},r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:k,className:t.submit},k?r.a.createElement(z.a,{color:"primary",size:24}):"Sign In")),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:!0},r.a.createElement(E.a,{href:"/forgotpassword",variant:"body2"},"Forgot password?")),r.a.createElement(y.a,{item:!0},r.a.createElement(E.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up")))),r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"flex-end"},r.a.createElement(D,null)))))})),B=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},closeButton:Object(k.a)({position:"absolute",right:e.spacing(1),top:e.spacing(7)},e.breakpoints.down("md"),{top:e.spacing(12)})}})),P=t(690),F=t(735),R=t(689);function A(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}var H=Object(c.g)((function(e){var a=e.history,t=B(),n=r.a.useState(""),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),s=Object(d.a)(c,2),O=s[0],k=s[1],x=r.a.useState(!1),S=Object(d.a)(x,2),w=S[0],N=S[1],I=O.vertical,_=O.horizontal,W=O.open,H=O.message,M=O.type,L=O.autoHide,q=r.a.useState(!1),G=Object(d.a)(q,2),U=G[0],V=G[1],J=r.a.useState(!1),Y=Object(d.a)(J,2),K=Y[0],X=Y[1],Z=r.a.useState(!1),Q=Object(d.a)(Z,2),$=Q[0],ee=Q[1],ae=function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Signedup successfully"===H&&(localStorage.setItem("token",o),a.replace("/otpverification")),k(Object(u.a)(Object(u.a)({},O),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();function te(){return(te=Object(p.a)(m.a.mark((function e(a){var t,n,r,l,o,c,s,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),N(!0),t=a.target.elements,n=t.fullName,r=t.email,l=t.password,o=t.username,c=t.terms;try{c.checked?(new FormData,u={name:n.value,email:r.value,password:l.value,username:o.value},s=JSON.stringify(u),fetch("https://ellipseapp.com/api/users/signup",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:s}).then((function(e){200===e.status?e.json().then((function(e){i(e.token);var a=new FormData,t={email:e.useremail};a=JSON.stringify(t);var n=e.token;fetch("https://ellipseapp.com/api/users/sendverificationemail",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},method:"POST",body:a}).then((function(e){e.json().then((function(e){"success"===e.message&&k({open:!0,vertical:"top",horizontal:"center",message:"Signedup successfully",type:"success",autoHide:300})}))}))})):401===e.status&&(N(!1),k({open:!0,vertical:"top",horizontal:"center",message:"Email already registered",type:"error",autoHide:3e3}))}))):(N(!1),k({open:!0,vertical:"top",horizontal:"center",message:"Please agress the terms and condiitons",type:"error"}))}catch(m){N(!1),k({open:!0,vertical:"top",horizontal:"center",message:m.message,type:"error"})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(R.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:I,horizontal:_},open:W,autoHideDuration:L,onClose:ae,key:I+_},r.a.createElement(A,{onClose:ae,severity:M},H)),r.a.createElement("div",{className:t.paper},r.a.createElement(g.a,{className:t.avatar},r.a.createElement(j.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,onSubmit:function(e){return te.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{autoComplete:"fullName",name:"fullName",variant:"outlined",required:!0,fullWidth:!0,id:"fullName",label:"Full Name",autoFocus:!0,inputProps:{pattern:"[a-zA-Z ]+"},onInvalid:function(){V(!0)},helperText:U&&"Name should only contain alphabet and spaces",onInput:function(){V(!1)},error:U})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",type:"email",autoComplete:"email"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"User Name",onChange:function(e){var a=e.target.value,t=new FormData,n={username:a};t=JSON.stringify(n),X(!1),ee(!1),fetch("https://ellipseapp.com/api/check_username",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){e.json().then((function(e){"user already exists"===e.message&&(X(!0),ee(!0))}))}))},name:"username",error:K,helperText:K&&"username already exists"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(P.a,{control:r.a.createElement(F.a,{color:"primary",name:"terms"}),label:"I accept the terms and conditions"}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:w||$,className:t.submit},w?r.a.createElement(z.a,{color:"primary",size:24}):"Sign Up"),r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(E.a,{href:"/",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(v.a,{mt:2},r.a.createElement(D,null)))}));function M(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}var L=Object(c.g)((function(e){var a=e.history,t=B(),n=r.a.useState(null),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(null),s=Object(d.a)(c,2),u=s[0],O=s[1],k=r.a.useState(null),x=Object(d.a)(k,2),S=x[0],w=x[1],N=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),I=Object(d.a)(N,2),_=I[0],W=I[1],P=r.a.useState(!1),F=Object(d.a)(P,2),A=F[0],H=F[1],L=r.a.useState(!1),q=Object(d.a)(L,2),G=q[0],U=q[1],V=_.vertical,J=_.horizontal,Y=_.open,K=_.message,X=_.type,Z=_.autoHide;function Q(){return(Q=Object(p.a)(m.a.mark((function e(a){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),H(!0);try{new FormData,n={email:o},t=JSON.stringify(n),fetch("https://ellipseapp.com/api/users/sendverificationemail",{headers:{"Content-Type":"application/json"},method:"POST",body:t}).then((function(e){console.log(e),e.json().then((function(e){"success"===e.message&&(H(!1),W({open:!0,vertical:"top",horizontal:"center",message:"Check your email for OTP and enter below",type:"success",autoHide:2e3}))}))}))}catch(r){H(!1),W({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(p.a)(m.a.mark((function e(a){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),U(!0);try{new FormData,n={email:o,otp:u,nPassword:S},t=JSON.stringify(n),fetch("https://ellipseapp.com/api/users/forgotpassword",{headers:{"Content-Type":"application/json"},method:"POST",body:t}).then((function(e){console.log(e),e.json().then((function(e){"success"===e.message&&(U(!1),W({open:!0,vertical:"top",horizontal:"center",message:"Succesfull Login to continue",type:"success",autoHide:300}))}))}))}catch(r){U(!1),W({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){"Succesfull Login to continue"===K&&a.replace("/")}return r.a.createElement(R.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:V,horizontal:J},open:Y,autoHideDuration:Z,onClose:ee,key:V+J},r.a.createElement(M,{onClose:ee,severity:X},K)),r.a.createElement("div",{className:t.paper},r.a.createElement(g.a,{className:t.avatar},r.a.createElement(j.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Enter your email to receive OTP"),r.a.createElement("form",{className:t.form,onSubmit:function(e){return Q.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:o,onChange:function(e){return i(e.target.value)},autoComplete:"email"}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:A,className:t.submit},A?r.a.createElement(z.a,{color:"primary",size:24}):"Send OTP")),r.a.createElement("form",{className:t.form,onSubmit:function(e){return $.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"outlined",required:!0,fullWidth:!0,id:"otp",label:"OTP",name:"otp",value:u,onChange:function(e){return O(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"outlined",required:!0,fullWidth:!0,id:"password",label:"New Password",name:"password",value:S,type:"password",onChange:function(e){return w(e.target.value)}}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:G,className:t.submit},G?r.a.createElement(z.a,{color:"primary",size:24}):"Reset Password")),r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(E.a,{href:"/",variant:"body2"},"Instead? Sign in")))),r.a.createElement(v.a,{mt:2},r.a.createElement(D,null)))})),q=r.a.createContext(),G=function(e){var a=e.children,t=Object(n.useState)(null),l=Object(d.a)(t,2),o=l[0],i=l[1],c=Object(n.useState)(!0),s=Object(d.a)(c,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){i(localStorage.getItem("user")),u(!1)}),[]),m?r.a.createElement(r.a.Fragment,null,"Loading..."):r.a.createElement(q.Provider,{value:{currentUser:o}},a)};function U(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}var V=Object(c.g)((function(e){var a=e.history,t=B(),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!1),s=Object(d.a)(c,2),m=s[0],u=s[1],p=o.vertical,E=o.horizontal,O=o.open,k=o.message,x=o.type,S=o.autoHide;function w(){"verified"===k&&a.replace("/userinfo")}return r.a.createElement(R.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:p,horizontal:E},open:O,autoHideDuration:S,onClose:w,key:p+E},r.a.createElement(U,{onClose:w,severity:x},k)),r.a.createElement("div",{className:t.paper},r.a.createElement(g.a,{className:t.avatar},r.a.createElement(j.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Email Verification"),r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault(),u(!0);var a=e.target.elements.otp;try{var t=new FormData,n={otp:a.value};t=JSON.stringify(n);var r=localStorage.getItem("token");fetch("https://ellipseapp.com/api/users/verifyotp",{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){e.json().then((function(e){"verified"===e.message?(u(!1),i({open:!0,vertical:"top",horizontal:"center",message:"verified",type:"success",autoHide:300})):"Not verified"===e.message?(u(!1),i({open:!0,vertical:"top",horizontal:"center",message:"incorrect otp",type:"error",autoHide:3e3})):(u(!1),i({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong try again",type:"error",autoHide:3e3}))}))}))}catch(l){u(!1),i({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error"})}}},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"outlined",required:!0,fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp"})),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:m,className:t.submit},m?r.a.createElement(z.a,{color:"primary",size:24}):"Continue"))),r.a.createElement(v.a,{mt:2},r.a.createElement(D,null)))})),J=t(732),Y=t(687),K=t(686),X=t(691),Z=t(82),Q=t.n(Z),$=t(237),ee=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main,width:e.spacing(20),height:e.spacing(20)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},textArea:{width:e.spacing(58),margin:e.spacing(2),borderRadius:e.spacing(2),backgroundColor:e.palette.secondary.main,color:e.palette.primary.dark}}}));function ae(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}var te=Object(c.g)((function(e){var a=e.history,t=localStorage.getItem("token"),n=ee(),l=r.a.useState(""),o=Object(d.a)(l,2),i=o[0],c=o[1],s=r.a.useState(null),E=Object(d.a)(s,2),O=E[0],j=E[1],k=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),x=Object(d.a)(k,2),S=x[0],w=x[1],N=r.a.useState(!1),I=Object(d.a)(N,2),_=I[0],W=I[1],B=S.vertical,P=S.horizontal,F=S.open,A=S.message,H=S.type,M=S.autoHide,L=r.a.useState([]),q=Object(d.a)(L,2),G=q[0],U=q[1],V=function(){var e=Object(p.a)(m.a.mark((function e(t,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"successful"===A&&((r=localStorage.getItem("eventid"))?a.push("/event/".concat(r)):a.replace("/home")),w(Object(u.a)(Object(u.a)({},S),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();function Z(){return(Z=Object(p.a)(m.a.mark((function e(a){var n,r,l,o,i,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),W(!0),n=a.target.elements,r=n.gender,l=n.designation,o=n.collegeId,i=n.bio;try{new FormData,s={gender:r.value,designation:l.value,college_id:o.value,bio:i.value},c=JSON.stringify(s),fetch("https://ellipseapp.com/api/users/userdetails",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:c}).then((function(e){200===e.status&&e.json().then((function(e){if(null!=O){var a=new FormData;a.append("image",O),fetch("https://ellipseapp.com/api/users/uploadImage",{headers:{Authorization:"Bearer ".concat(t)},method:"POST",body:a}).then((function(e){200===e.status&&(W(!1),w({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else W(!1),w({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300})}))}))}catch(m){W(!1),w({open:!0,vertical:"top",horizontal:"center",message:m.message,type:"error",autoHide:3e3})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.useEffect((function(){fetch("https://ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){U(e)}))}))}),[t]),r.a.createElement(R.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:B,horizontal:P},open:F,autoHideDuration:M,onClose:V,key:B+P},r.a.createElement(ae,{onClose:V,severity:H},A)),r.a.createElement("div",{className:n.paper},r.a.createElement(C.a,{component:"h1",variant:"h3"},"Welcome"),r.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){j(e.target.files[0]);var a=URL.createObjectURL(e.target.files[0]);c(a)}},style:{display:"none"}}),r.a.createElement(X.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement($.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(Q.a,null)))},r.a.createElement(g.a,{className:n.avatar,sizes:"100",alt:"",src:i})),r.a.createElement("form",{className:n.form,onSubmit:function(e){return Z.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Bio",autoComplete:"off",required:!0,id:"bio",name:"bio",label:"Bio",fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(K.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(Y.a,{htmlFor:"outlined-age-native-simple"},"Gender"),r.a.createElement(J.a,{fullWidth:!0,native:!0,label:"Age",inputProps:{name:"gender",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Others"},"Others")))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(K.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(Y.a,{htmlFor:"outlined-age-native-simple"},"You are"),r.a.createElement(J.a,{fullWidth:!0,native:!0,label:"You are",inputProps:{name:"designation",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"WorkingProfessional"},"Working Professional"),r.a.createElement("option",{value:"Club/Organisation"},"Club/Organisation")))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(K.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(Y.a,{htmlFor:"outlined-age-native-simple"},"Your College"),r.a.createElement(J.a,{fullWidth:!0,native:!0,label:"College",inputProps:{name:"collegeId",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),G.map((function(e,a){return r.a.createElement("option",{key:a,value:e._id},e.name)})))))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:_,className:n.submit},_?r.a.createElement(z.a,{color:"primary",size:24}):"Continue"))),r.a.createElement(v.a,{mt:2},r.a.createElement(D,null)))})),ne=t(630),re=t(197),le=t(731),oe=t(702),ie=t(233),ce=t.n(ie),se=t(706),me=t(634),ue=t(704),pe=t(290),de=t(299),ge=t.n(de),fe=t(190),he=t.n(fe),be=t(231),Ee=t.n(be),ve=t(15),ye=Object(x.a)((function(e){var a,t,n;return{"@global":{"*::-webkit-scrollbar":{width:"0.5em",height:"0.5em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 1px rgba(0,0,0,0.00)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#ad9d9d",outline:"1px solid slategrey"}},paper:{marginTop:e.spacing(0),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30,marginBottom:e.spacing(5)},root:{display:"flex",flexGrow:1,maxWidth:800,background:e.palette.secondary.main,alignItems:"center"},grow:{flexGrow:1,alignItems:"center"},title:(a={display:"none"},Object(k.a)(a,e.breakpoints.up("sm"),{display:"block"}),Object(k.a)(a,"fontFamily","Gugi"),Object(k.a)(a,"color",e.palette.primary.dark),Object(k.a)(a,"fontWeight","bold"),a),mobileTitle:Object(k.a)({},e.breakpoints.up("sm"),{display:"none"}),titleButton:(t={display:"none"},Object(k.a)(t,e.breakpoints.up("sm"),{display:"inline-block"}),Object(k.a)(t,"margin",e.spacing(0)),Object(k.a)(t,"padding",e.spacing(0)),Object(k.a)(t,"textTransform","none"),t),mobileTitleButton:(n={display:"none"},Object(k.a)(n,e.breakpoints.down("xs"),{display:"inline-block",width:"fit-content"}),Object(k.a)(n,"margin",e.spacing(0)),Object(k.a)(n,"padding",e.spacing(0)),n),search:Object(k.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ve.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ve.c)(e.palette.common.white,.25)},marginRight:e.spacing(1),marginLeft:e.spacing(1),width:"230px"},e.breakpoints.up("md"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(k.a)({borderBottom:"none",padding:e.spacing(.5,.5,.5,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"30ch"}),sectionDesktop:Object(k.a)({},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(k.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),tabs:Object(k.a)({display:"none"},e.breakpoints.up("lg"),{display:"flex",flexDirection:"row",marginLeft:e.spacing(15)}),mobiletab:Object(k.a)({display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.up("lg"),{display:"none"}),tabPanel:{marginBottom:e.spacing(3)},flex_section:{flexGrow:1,display:"flex",flexDirection:"row"},flex_col_scroll:{flexGrow:1,overflow:"auto"},rpaper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(2)},postButton:{borderRadius:e.spacing(50)}}})),Oe=t(232),je=t.n(Oe),Ce=t(140),ke=t.n(Ce),xe=t(161),Se=t.n(xe),we=t(737),Ne=t(632),De=t(631),Te=t(692),Ie=t(629),ze=t(298),_e=t.n(ze),We=t(47),Be=t(103),Pe=t.n(Be),Fe=t(291),Re=t.n(Fe);function Ae(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}function He(e){var a=Object(We.a)(),t=r.a.useState(null),n=Object(d.a)(t,2),l=n[0],o=n[1],i=e.event,c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),s=Object(d.a)(c,2),g=s[0],h=s[1],E=g.vertical,v=g.horizontal,O=g.open,j=g.message,C=g.type,k=g.autoHide;r.a.useEffect((function(){o("https://ellipseapp.com/un/event/".concat(i._id))}),[i._id]);var x=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(a);case 3:h({open:!0,vertical:"top",horizontal:"center",message:"Copied to clipboard",type:"success",autoHide:3e3}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),h({open:!0,vertical:"top",horizontal:"center",message:e.t0.message,type:"error",autoHide:4e3});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:E,horizontal:v},open:O,autoHideDuration:k,onClose:x,key:E+v},r.a.createElement(Ae,{onClose:x,severity:C},j)),r.a.createElement(Ie.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Te.a,{id:"form-dialog-title"},i.name),r.a.createElement(De.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:11},r.a.createElement(b.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:l,required:!0,onChange:function(e){o(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:1},r.a.createElement($.a,{onClick:function(){return S(l)}},r.a.createElement(Re.a,null))))),r.a.createElement(Ne.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Dismiss"))))}var Me=t(26),Le=t(41),qe=t(106),Ge=t(741),Ue=Object(x.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"}}}));var Ve=function(e){var a=Ue(),t=(e.children,e.value),n=(e.url,e.index),l=Object(Le.a)(e,["children","value","url","index"]),o=e.event,i=o.tags,c=r.a.useState("Registration Ends in"),s=Object(d.a)(c,2),m=s[0],u=s[1],p=function(){var e=+new Date(o.registration_end_time)-+new Date,a={};return e<0&&(e=+new Date(o.start_time)-+new Date),e<0&&(e=+new Date(o.finish_time)-+new Date),e>0&&(a={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),a},g=r.a.useState(p()),f=Object(d.a)(g,2),h=f[0],b=f[1];r.a.useEffect((function(){var e=setTimeout((function(){u(function(){var e=+new Date(o.registration_end_time)-+new Date,a="Registration ends in";return e<0&&(a="Starts in",e=+new Date(o.start_time)-+new Date),e<0&&(a="Ends in",e=+new Date(o.finish_time)-+new Date),a}()),b(p())}),1e3);return function(){Object(qe.a)(),clearTimeout(e)}}));var E=[];return Object.keys(h).forEach((function(e){h[e]&&E.push(r.a.createElement("span",{key:e},h[e]," ",e," "))})),r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement("div",{className:a.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:4},r.a.createElement("img",{style:{maxWidth:"250px"},alt:"event poster",src:"https://ellipseapp.com"+"/api/image?id=".concat(o.poster_url)})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(C.a,null,o.description," This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like."),r.a.createElement(C.a,{style:{marginTop:"20px",marginBottom:"20"}},m),r.a.createElement(C.a,{variant:"h5"},E.length?E:r.a.createElement("span",null,"Time's up!")),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(Ge.a,{variant:"outlined",color:"inherit",label:o.event_type}),r.a.createElement(Ge.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:o.fee_type}),r.a.createElement(Ge.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:o.event_mode}),null!=i&&i.map((function(e){return r.a.createElement(Ge.a,{key:e,style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:e})})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(C.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h4"},"About"),r.a.createElement(C.a,{color:"textSecondary",variant:"body2"},Object(Me.a)(new Array(5)).map((function(){return"Cras mattis consectetur purus sit amet fermentum. \n                                    Cras justo odio, dapibus ac facilisis in, egestas eget quam.\n                                    Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n                                    Praesent commodo cursus magna, vel scelerisque nisl consectetur et."})).join("\n"))),r.a.createElement(y.a,{item:!0,xs:12}),r.a.createElement(y.a,null))))},Je=t(693),Ye=t(694),Ke=t(696),Xe=t(698),Ze=t(699),Qe=t(695),$e=t(697),ea=t(195),aa=t.n(ea),ta=Object(x.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));var na=function(e){var a=ta(),t=(e.children,e.value),n=(e.url,e.index),l=Object(Le.a)(e,["children","value","url","index"]),o=e.event,i=new Date(o.start_time),c=new Date(o.finish_time),s=new Date(o.registration_end_time);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement("div",{className:a.root},r.a.createElement(Je.a,{align:"alternate"},r.a.createElement(Ye.a,null,r.a.createElement(Qe.a,null,r.a.createElement(C.a,{variant:"body2",color:"textSecondary"},s.toDateString()," "+s.toLocaleTimeString())),r.a.createElement(Ke.a,null,r.a.createElement($e.a,{color:"primary"},r.a.createElement(aa.a,null)),r.a.createElement(Xe.a,null)),r.a.createElement(Ze.a,null,r.a.createElement(re.a,{elevation:3,className:a.paper},r.a.createElement(C.a,{variant:"h6",component:"h1"},"Registration Ends"),r.a.createElement(C.a,null,"Your oppurtunity to participate came to an end")))),r.a.createElement(Ye.a,null,r.a.createElement(Qe.a,null,r.a.createElement(C.a,{variant:"body2",color:"textSecondary"},i.toDateString()," "+i.toLocaleTimeString())),r.a.createElement(Ke.a,null,r.a.createElement($e.a,{color:"primary",variant:"outlined"},r.a.createElement(aa.a,null)),r.a.createElement(Xe.a,null)),r.a.createElement(Ze.a,null,r.a.createElement(re.a,{elevation:3,className:a.paper},r.a.createElement(C.a,{variant:"h6",component:"h1"},"Starts"),r.a.createElement(C.a,null,"Party begins")))),r.a.createElement(Ye.a,null,r.a.createElement(Qe.a,null,r.a.createElement(C.a,{variant:"body2",color:"textSecondary"},c.toDateString()," "+c.toLocaleTimeString())),r.a.createElement(Ke.a,null,r.a.createElement($e.a,{color:"primary"},r.a.createElement(aa.a,null)),r.a.createElement(Xe.a,{className:a.secondaryTail})),r.a.createElement(Ze.a,null,r.a.createElement(re.a,{elevation:3,className:a.paper},r.a.createElement(C.a,{variant:"h6",component:"h1"},"Ends"),r.a.createElement(C.a,null,"Chill,event came to an end")))))))},ra=Object(x.a)((function(e){return{root:{display:"flex",alignItems:"flex-start",alignContent:"flex-start",width:"100%"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main},timiline:{},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"}}}));function la(e){var a=localStorage.getItem("token"),t=ra(),n=(e.children,e.value),l=(e.url,e.index),o=Object(Le.a)(e,["children","value","url","index"]),i=e.event,c=r.a.useState([]),s=Object(d.a)(c,2),m=s[0],u=s[1];return r.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event/get_announcements?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){u(e)}))}))}),[a,i._id]),r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l},o),n===l&&r.a.createElement("div",null,m.map((function(e,a){var n=new Date(e.time);return r.a.createElement(v.a,{m:1,p:1,key:a,className:t.root3},r.a.createElement(v.a,{className:t.root2,whiteSpace:"normal"},r.a.createElement(C.a,{className:t.title},e.title),r.a.createElement(C.a,{className:t.pos},e.description)),r.a.createElement(v.a,{className:t.root5},r.a.createElement(C.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())))}))))}var oa=t(633),ia=t(701),ca=t(88),sa=t.n(ca),ma=t(700),ua=t(296),pa=t.n(ua),da=Object(x.a)((function(e){return{root:{position:"fixed",width:"75%",height:"100vh",backgroundColor:e.palette.primary.light},large:{width:e.spacing(7),height:e.spacing(7)},inline:{whiteSpace:"pre-line"},date:{display:"flex",justifyContent:"flex-end"}}}));var ga=function(e){var a=da(),t=e.message,l=r.a.useState(""),o=Object(d.a)(l,2),i=o[0],c=o[1],s=new Date(t.date);return Object(n.useEffect)((function(){e.adminId===t.id&&c("Admin")}),[e.adminId,t.id]),r.a.createElement(oa.a,{alignItems:"flex-start"},r.a.createElement(ma.a,{style:{display:"none"}},r.a.createElement(sa.a,null)),r.a.createElement(ia.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{component:"h6",variant:"body2"},t.user_name),r.a.createElement(C.a,{component:"span",variant:"body2",color:"textSecondary"},i)),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{component:"span",variant:"body1",color:"textPrimary",className:a.inline},r.a.createElement(pa.a,{componentDecorator:function(e,a,t){return r.a.createElement("a",{target:"blank",style:{color:"red",fontWeight:"bold"},href:e,key:t},a)}},t.message)),r.a.createElement(v.a,null,r.a.createElement(C.a,{component:"span",variant:"body2",color:"textSecondary",className:a.date},"   "+s.toLocaleTimeString([],{timeStyle:"short"}))))}))},fa=r.a.createContext(null),ha=t(3),ba=t(297),Ea=t.n(ba),va=Object(x.a)((function(e){return{bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(4),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},open:{position:"fixed",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(34),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},close:{position:"fixed",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(13),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)}}}));function ya(e){var a=va(),t=r.a.useState(!0),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(null),c=Object(d.a)(i,2),s=c[0],m=c[1],u=r.a.useState(a.bottomBar),p=Object(d.a)(u,2),g=p[0],f=p[1];r.a.useEffect((function(){var t;void 0!==e.open&&f(Object(ha.a)((t={},Object(k.a)(t,a.open,e.open),Object(k.a)(t,a.close,!e.open),t)))}),[e.open]);return r.a.createElement(v.a,{className:g,display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(b.a,{disabled:e.loading,fullWidth:!0,placeholder:"Type your message",multiline:!0,onChange:function(e){m(e.target.value),o(!1),""===e.target.value&&o(!0)},value:s||"",rowsMax:"3",onKeyUp:function(a){null!==s&&""!==s&&(13!==a.keyCode||a.shiftKey||(a.preventDefault(),e.handleSend(s),o(!0),m("")))}}),r.a.createElement($.a,{onClick:function(a){e.handleSend(s),o(!0),m("")},disabled:l,className:a.sendIcon},r.a.createElement(Ea.a,null)))}var Oa=t(628),ja=t(188),Ca=t.n(ja),ka=t(187),xa=t.n(ka),Sa=t(324),wa=Object(x.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{backgroundColor:e.palette.background.paper,borderRadius:e.spacing(1),textDecorationColor:e.palette.secondary.light,maxWidth:"65%",minWidth:"20%",overflow:"auto"},root3:{display:"flex",justifyContent:"flex-end",minWidth:e.spacing(30)},root6:{display:"flex",justifyContent:"center"},topBar:{},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"}}}));function Na(e){e.children;var a=e.value,t=(e.url,e.index),n=Object(Le.a)(e,["children","value","url","index"]),l=r.a.useContext(fa),o=localStorage.getItem("token"),i=e.event,c=e.open,s=r.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1],f=r.a.useState(!1),h=Object(d.a)(f,2),b=h[0],E=h[1],y=r.a.useState(null),O=Object(d.a)(y,2),j=O[0],k=O[1],x=r.a.useState([]),S=Object(d.a)(x,2),w=S[0],N=S[1],D=wa(),T=null,I=r.a.useState(null),_=Object(d.a)(I,2),W=_[0],B=_[1],P=function(){var e=new WebSocket("wss://ellipseapp.com/ws/");e.onopen=function(){console.log("connected"),B(e),e.onmessage=function(e){var a=JSON.parse(e.data),t=a.msg;a.event_id===i._id&&N((function(e){return[].concat(Object(Me.a)(e),[t])}))},E(!1)},e.onclose=function(){F(),console.log("closed")}};r.a.useEffect((function(){return E(!0),fetch("https://ellipseapp.com"+"/api/chat/load_messages?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){N(e),P()}))})),null!=j&&j.scrollIntoView({behavior:"smooth"}),function(){N([]),Object(qe.a)()}}),[i._id,o]),r.a.useEffect((function(){null!=j&&j.scrollIntoView({behavior:"smooth"})}),[b]),r.a.useEffect((function(){return null!=j&&j.scrollIntoView({behavior:"smooth"}),function(){Object(qe.a)()}}),[w,j]);var F=function(){W&&W.readyState!==WebSocket.readyState||(console.log("checking"),P())};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==t},n),a===t&&r.a.createElement("div",null,r.a.createElement("div",{className:D.progress},r.a.createElement(Sa.a,{in:b,unmountOnExit:!0},r.a.createElement(z.a,null))),r.a.createElement(Ie.a,{onClose:function(){p(!1)},"aria-labelledby":"simple-dialog-title",open:u},r.a.createElement(Oa.a,null,r.a.createElement(oa.a,{button:!0},r.a.createElement(ma.a,null,r.a.createElement(g.a,null,r.a.createElement(xa.a,null))),r.a.createElement(ia.a,{primary:"Reply"})),r.a.createElement(oa.a,{autoFocus:!0,button:!0},r.a.createElement(ma.a,null,r.a.createElement(g.a,null,r.a.createElement(Ca.a,null))),r.a.createElement(ia.a,{primary:"Delete"})))),r.a.createElement(v.a,{className:D.topBar},w.map((function(e,a){var t=new Date,n=new Date(e.date);return n.toDateString()!==T?(T=n.toDateString(),e.user_id===l.user_id?r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(v.a,{m:1,p:1,key:a,position:"sticky",className:D.root6},r.a.createElement(C.a,{variant:"body2"},t.toDateString()===n.toDateString()?"Today":n.toDateString())),r.a.createElement(v.a,{m:1,p:1,key:a+1,className:D.root3},r.a.createElement(v.a,{className:D.root2,whiteSpace:"normal",onClick:function(){return p(!1)}},r.a.createElement(ga,{message:e})),r.a.createElement(v.a,{className:D.root5},r.a.createElement(g.a,{alt:e.userName,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{m:1,p:1,key:a,className:D.root6},r.a.createElement(C.a,{variant:"body2"},t.toDateString()===n.toDateString()?"Today":n.toDateString())),r.a.createElement(v.a,{m:1,key:a,className:D.root},r.a.createElement(v.a,{className:D.root4},r.a.createElement(g.a,{alt:e.userName,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:D.root2,whiteSpace:"normal"},r.a.createElement(ga,{message:e}))))):e.user_id===l.user_id?r.a.createElement(v.a,{m:1,p:1,key:a,className:D.root3},r.a.createElement(v.a,{className:D.root2,onClick:function(){return p(!1)},whiteSpace:"normal"},r.a.createElement(ga,{message:e})),r.a.createElement(v.a,{className:D.root5},r.a.createElement(g.a,{alt:e.userName,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.user_pic)}))):r.a.createElement(v.a,{m:1,key:a,className:D.root},r.a.createElement(v.a,{className:D.root4},r.a.createElement(g.a,{alt:e.userName,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:D.root2,whiteSpace:"normal"},r.a.createElement(ga,{message:e})))})),r.a.createElement("div",{style:{float:"left",clear:"both",paddingBottom:"60px"},ref:function(e){k(e)}}),r.a.createElement("div",null,r.a.createElement(ya,{loading:b,open:c,handleSend:function(e){var a=new Date;W.send(JSON.stringify({action:"send_message",event_id:i._id,msg:{id:l.user_id+Date.now(),user_id:l.user_id,user_name:l.name,user_pic:l.profile_pic,message:e,date:a.toISOString()}})),null!=j&&j.scrollIntoView({behavior:"smooth"})}})))))}function Da(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Ta=Object(x.a)((function(e){return{icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root:{},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(1)},bottomBar:{display:"flex",width:"90%",backgroundColor:e.palette.secondary.main},field:{width:"100%"},action:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},dialogContent:Object(k.a)({},e.breakpoints.down("md"),{padding:e.spacing(1)})}}));var Ia=function(e){var a=e.event,t=localStorage.getItem("theme"),n=r.a.useState(0),l=Object(d.a)(n,2),o=l[0],i=l[1],c=Ta(),s=Object(We.a)(),m=r.a.useState(!1),u=Object(d.a)(m,2),p=u[0],g=u[1];function h(){e.handleClose()}return r.a.createElement(Ie.a,{open:e.open,onClose:h,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:s.palette.secondary.main,boxShadow:"none"}},classes:{paper:c.dialog}},r.a.createElement(Te.a,{id:"scroll-dialog-title"},a.name,r.a.createElement("div",{className:c.icons},r.a.createElement($.a,{"aria-label":"share",onClick:function(){g(!0)}},r.a.createElement(_e.a,null)),r.a.createElement($.a,{"aria-label":"close",className:c.closeButton,onClick:h},r.a.createElement(Pe.a,{fontSize:"large"}))),r.a.createElement("div",{className:c.root},r.a.createElement(re.a,{className:c.root2},r.a.createElement(le.a,{value:o,onChange:function(e,a){i(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(oe.a,Object.assign({label:"About"},Da(0))),r.a.createElement(oe.a,Object.assign({label:"Schedule"},Da(1))),r.a.createElement(oe.a,Object.assign({label:"Announcements"},Da(2))),r.a.createElement(oe.a,Object.assign({label:"Chat"},Da(3))))))),r.a.createElement(De.a,{className:c.dialogContent,dividers:!0},r.a.createElement(He,{event:a,open:p,handleClose:function(){g(!1)}}),r.a.createElement(Ve,{value:o,index:0,event:e.event}),r.a.createElement(na,{value:o,index:1,event:e.event}),r.a.createElement(la,{value:o,index:2,event:e.event}),3===o&&(a.registered||"form"!==a.regMode)&&r.a.createElement(Na,{value:o,index:3,event:e.event}),3===o&&"form"===a.reg_mode&&!0!==a.registered&&r.a.createElement(C.a,{align:"center",variant:"h5"},"Register for the event to continue")),r.a.createElement(Ne.a,{className:c.action},r.a.createElement(v.a,{className:c.bottomBar,display:"flex",alignItems:"center",justifyContent:"center",hidden:3!==o}),r.a.createElement("div",{role:"tabpanel",hidden:3===o},3!==o&&r.a.createElement("div",{className:c.buttonDiv},"form"===a.reg_mode?r.a.createElement(f.a,{disabled:!!a.registered,size:"small",color:"primary",variant:"contained",className:c.button,onClick:function(){e.handleReg(a)}},a.registered?"Registered":"Register"):r.a.createElement(f.a,{disabled:!!a.registered,size:"small",color:"primary",variant:"contained",className:c.button},"light"===t?r.a.createElement("a",{href:a.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register"):r.a.createElement("a",{href:a.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register"))))))},za=r.a.createContext(null),_a=t(703),Wa=Object(x.a)((function(e){return{dialog:{minHeight:"90vh",maxHeight:"90vh"},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));function Ba(e){var a=Wa(),t=Object(We.a)(),n=localStorage.getItem("token"),l=r.a.useState([]),o=Object(d.a)(l,2),i=o[0],c=o[1];return r.a.useEffect((function(){fetch("https://ellipseapp.com/api/get_notifications",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){c(e)}))}))}),[n]),r.a.createElement("div",null,r.a.createElement(Ie.a,{scroll:"paper",open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title",classes:{paper:a.dialog}},r.a.createElement(Te.a,{id:"form-dialog-title"},"Notifications"),r.a.createElement(_a.a,null),r.a.createElement(De.a,null,i.map((function(e,t){var n=new Date(e.time);return r.a.createElement(v.a,{m:1,p:1,className:a.root3},r.a.createElement(v.a,{className:a.root2,whiteSpace:"normal"},r.a.createElement(C.a,{className:a.title},e.title),r.a.createElement(C.a,{className:a.pos},e.description)),r.a.createElement(v.a,{className:a.root5},r.a.createElement(C.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())))})))))}var Pa=t(705),Fa=t(189),Ra=t.n(Fa),Aa=Object(c.g)((function(e){var a=e.history,t=ye(),l=r.a.useState(null),o=Object(d.a)(l,2),i=o[0],c=o[1],s=localStorage.getItem("theme"),m=r.a.useState("light"!==s),u=Object(d.a)(m,2),p=u[0],g=u[1],h=r.a.useState(0),E=Object(d.a)(h,2),v=E[0],y=E[1],O=r.a.useState([]),j=Object(d.a)(O,2),k=j[0],x=j[1],S=Boolean(i),w=r.a.useState(!1),N=Object(d.a)(w,2),D=N[0],T=N[1],I=r.a.useState(!1),z=Object(d.a)(I,2),_=z[0],W=z[1],B=r.a.useContext(za);Object(n.useEffect)((function(){if(null!=localStorage.getItem("tabIndex")){var e=parseInt(localStorage.getItem("tabIndex"));null!=e&&y(e)}}),[]);var P=function(e,a){y(a),localStorage.setItem("tabIndex",a)},F=localStorage.getItem("token");F||a.replace("/");var R="primary-search-account-menu",A=r.a.createElement(pe.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:R,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:S,onClose:function(){c(null)}},r.a.createElement(ue.a,null," Dark Theme ",r.a.createElement(Pa.a,{checked:p,onChange:function(e){console.log(e.target.checked),g(e.target.checked),e.target.checked?(localStorage.setItem("theme","dark"),window.location.reload(!1)):(localStorage.setItem("theme","light"),window.location.reload(!1))},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement(ue.a,{onClick:function(e){fetch("https://ellipseapp.com/api/users/logout",{headers:{Authorization:"Bearer ".concat(F),"Content-Type":"application/json"},method:"POST"}).then((function(e){e.json().then((function(e){"success"===e.message&&(localStorage.removeItem("token"),localStorage.removeItem("tabIndex"),a.replace("/"))}))}))}},"Log Out"));function H(e){e.preventDefault(),a.push("/events")}function M(){a.push("/home")}function L(){a.push("/profile")}function q(){a.push("/yourevents")}var G=function(){T(!1),W(!1)};function U(){localStorage.setItem("tabIndex",0),y(0),a.push("/home")}return r.a.createElement("div",{className:t.grow},r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{position:"sticky",color:"secondary"},r.a.createElement(me.a,null,r.a.createElement("img",{src:Ra.a,alt:"logo",onClick:U,className:t.mobileTitle}),r.a.createElement(f.a,{className:t.titleButton,onClick:U},r.a.createElement(C.a,{className:t.title,variant:"h5",noWrap:!0},"Ellipse")),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(ge.a,null)),r.a.createElement(we.a,{freeSolo:!0,id:"search",placeholder:"search..",options:B,getOptionLabel:function(e){return e.name},onChange:function(e,a){a&&(x(a),T(!0))},renderInput:function(e){return r.a.createElement(b.a,Object.assign({},e,{placeholder:"search..",className:t.inputInput}))}})),r.a.createElement("div",{className:t.tabs},r.a.createElement(re.a,{square:!0,className:t.root},r.a.createElement(le.a,{value:v,onChange:P,variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon"},r.a.createElement(oe.a,{onClick:M,icon:r.a.createElement(Se.a,null),"aria-label":"home"}),r.a.createElement(oe.a,{onClick:H,icon:r.a.createElement(Ee.a,null),"aria-label":"event"}),r.a.createElement(oe.a,{onClick:q,icon:r.a.createElement(je.a,null),"aria-label":"person"}),r.a.createElement(oe.a,{onClick:L,icon:r.a.createElement(ce.a,null),"aria-label":"person"})))),r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement($.a,{"aria-label":"notifications",color:"inherit",onClick:function(){W(!0)}},r.a.createElement(X.a,{badgeContent:0,color:"secondary"},r.a.createElement(he.a,null))),r.a.createElement($.a,{edge:"end","aria-label":"account of current user","aria-controls":R,"aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit"},r.a.createElement(ke.a,null))))),A,r.a.createElement(se.a,{position:"sticky",color:"secondary"},r.a.createElement("div",{className:t.mobiletab},r.a.createElement(re.a,{square:!0,className:t.root,position:"sticky"},r.a.createElement(le.a,{value:v,onChange:P,variant:"fullWidth",indicatorColor:"primary",textColor:"primary"},r.a.createElement(oe.a,{onClick:M,icon:r.a.createElement(Se.a,null),"aria-label":"home"}),r.a.createElement(oe.a,{onClick:H,icon:r.a.createElement(Ee.a,null),"aria-label":"event"}),r.a.createElement(oe.a,{onClick:q,icon:r.a.createElement(je.a,null),"aria-label":"explore"}),r.a.createElement(oe.a,{onClick:L,icon:r.a.createElement(ce.a,null),"aria-label":"person"}))))),r.a.createElement("div",null,D&&r.a.createElement(Ia,{open:D,event:k,handleReg:function(e){T(!1)},handleClose:G}),r.a.createElement(Ba,{open:_,handleClose:G}))))})),Ha=r.a.createContext(null),Ma=Object(x.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},root:{background:"white",position:"sticky",top:0,bottom:0,zIndex:5}}}));var La=function(e){var a=localStorage.getItem("token"),t=Ma(),n=r.a.useState([]),l=Object(d.a)(n,2),o=l[0],i=l[1],s=r.a.useState([]),m=Object(d.a)(s,2),u=m[0],p=m[1],g=r.a.useState(null),f=Object(d.a)(g,2),h=f[0],b=f[1],E=r.a.useState(!0),v=Object(d.a)(E,2),y=v[0],O=v[1],j=r.a.useState(!0),C=Object(d.a)(j,2),k=C[0],x=C[1],S=r.a.useState(!0),w=Object(d.a)(S,2),N=w[0],D=w[1];return r.a.useEffect((function(){fetch("https://ellipseapp.com/api/users/me",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){b(e[0]),null===e[0].college_name&&D(!1),O(!1)})):401===e.status&&(localStorage.removeItem("token"),x(!1))})),fetch("https://ellipseapp.com/api/events",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){e.sort((function(e,a){return new Date(e.start_time)-new Date(a.start_time)})),i(e),p(e.filter((function(e){return new Date<new Date(e.finish_time)})))})):401===e.status&&(localStorage.removeItem("token"),x(!1))}))}),[a]),a&&k?N?r.a.createElement(fa.Provider,{value:h},r.a.createElement(za.Provider,{value:o},r.a.createElement(Ha.Provider,{value:u},null!=h&&r.a.createElement("div",null,r.a.createElement(re.a,{className:t.root},r.a.createElement(Aa,null)),r.a.createElement("div",null,e.children)),null==h&&r.a.createElement(ne.a,{className:t.backdrop,open:y},r.a.createElement(z.a,{color:"inherit"}))))):r.a.createElement(c.a,{to:"/userinfo"}):r.a.createElement(c.a,{to:"/"})},qa=t(301),Ga=t(302),Ua=(t(621),t(708)),Va=t(104),Ja=t.n(Va),Ya=Object(x.a)((function(e){var a,t;return{root:{height:"300px"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(k.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(k.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(t={borderRadius:e.spacing(50)},Object(k.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(k.a)(t,"backgroundColor",e.palette.primary.main),Object(k.a)(t,"color",e.palette.primary.light),t),fab:Object(k.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(k.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"})}}));var Ka=function(e){var a=e.history;localStorage.setItem("tabIndex",1);var t=Ya(),l=r.a.useState([]),o=Object(d.a)(l,2),i=o[0],c=o[1],s=r.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1],h=r.a.useState([]),b=Object(d.a)(h,2),E=b[0],v=b[1],O=r.a.useState([]),j=Object(d.a)(O,2),k=j[0],x=j[1],S=r.a.useContext(Ha);Object(n.useEffect)((function(){S.forEach((function(e){c((function(a){return[].concat(Object(Me.a)(a),[{id:JSON.stringify(e),title:e.name,start:e.start_time,end:e.finish_time}])}))})),x(S.filter((function(e){return!0===e.registered})))}),[S]);var w=function(){a.push("/post")},N=function(e){return function(){v(e),p(!0)}};return r.a.createElement("div",null,r.a.createElement("div",{className:t.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:3,lg:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8},r.a.createElement(qa.a,{eventBackgroundColor:"#1C1C1E",eventBorderColor:"#00bdaa",events:i,eventClick:function(e){v(JSON.parse(e.event.id)),p(!0)},defaultView:"dayGridMonth",plugins:[Ga.a],backgroundColor:"black",buttonIcons:!1})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:!1,lg:2},r.a.createElement(Ua.a,{color:"primary","aria-label":"add",className:t.fab,onClick:w},r.a.createElement(Ja.a,null)),r.a.createElement(re.a,{className:t.rpaper},r.a.createElement(re.a,{className:t.subRpaper},r.a.createElement(f.a,{onClick:w,variant:"contained",fullWidth:!0,size:"large",className:t.postButton},"Post Event"),r.a.createElement(Oa.a,{className:t.sideList},r.a.createElement(C.a,{variant:"body2"},"Registered Events"),k.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(oa.a,{onClick:N(e),key:a,button:!0},r.a.createElement(ma.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(ia.a,{primary:e.name})),r.a.createElement(_a.a,null))}))))))),r.a.createElement("div",null,r.a.createElement(Ia,{open:u,event:E,handleClose:function(){p(!1)},handleReg:function(e){p(!1),a.push("/event/register/"+e._id)}}))))},Xa=t(709),Za=t(710),Qa=t(711),$a=t(712),et=t(304),at=t.n(et),tt=t(303),nt=t.n(tt),rt=t(707),lt=t(627),ot=t(683),it=t(624);function ct(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}function st(e){var a=Object(We.a)(),t=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!1),s=Object(d.a)(c,2),g=s[0],h=s[1],E=o.vertical,v=o.horizontal,O=o.open,j=o.message,C=o.type,k=o.autoHide,x=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(u.a)(Object(u.a)({},o),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),S=r.a.useState(null),w=Object(d.a)(S,2),N=w[0],D=w[1],I=r.a.useState(null),_=Object(d.a)(I,2),W=_[0],B=_[1],P=e.event;return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:E,horizontal:v},open:O,autoHideDuration:k,onClose:x,key:E+v},r.a.createElement(ct,{onClose:x,severity:C},j)),r.a.createElement(Ie.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Te.a,{id:"form-dialog-title"},"Report(",P.name,")"),r.a.createElement(De.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:N||"",required:!0,onChange:function(e){D(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:W||"",required:!0,onChange:function(e){B(e.target.value)}})))),r.a.createElement(Ne.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){h(!0);try{var a=new FormData,n={event_id:P._id,title:N,description:W};a=JSON.stringify(n),fetch("https://ellipseapp.com/api/event/report",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},method:"POST",body:a}).then((function(a){a.json().then((function(a){"success"===a.message&&(h(!1),e.handleClose(),i({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3}))}))}))}catch(r){h(!1),i({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}},color:"primary"},g?r.a.createElement(z.a,{color:"primary",size:24}):"Send"))))}var mt=Object(x.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},morePopup:{zIndex:"5"}}}));var ut=function(e){var a=mt(),t=e.event,n=localStorage.getItem("theme"),l=new Date(t.start_time),o=new Date(t.finish_time),i=new Date(t.registration_end_time),c=r.a.useState(!1),s=Object(d.a)(c,2),m=s[0],u=s[1],p=r.a.useRef(null),g=r.a.useState(!1),h=Object(d.a)(g,2),b=h[0],E=h[1],v=r.a.useState(!1),y=Object(d.a)(v,2),O=y[0],j=y[1],k=r.a.useState(!1),x=Object(d.a)(k,2),S=x[0],w=x[1],N=function(e){p.current&&p.current.contains(e.target)||u(!1)};function D(e){"Tab"===e.key&&(e.preventDefault(),u(!1))}var T=r.a.useRef(m);function I(){j(!0)}function z(){w(!0)}return r.a.useEffect((function(){!0===T.current&&!1===m&&p.current.focus(),T.current=m}),[m]),r.a.createElement(Xa.a,{className:a.root},r.a.createElement(Za.a,{avatar:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{style:{display:b?"block":"none"},onClick:function(){},onLoad:function(){return E(!0)},alt:"Event Poster",height:"160",width:"150",src:"https://ellipseapp.com"+"/api/image?id=".concat(t.poster_url)}),!b&&r.a.createElement("div",{style:{height:"160px",width:"150px"}},r.a.createElement(nt.a,{color:"disabled",style:{height:"160px",width:"150px"}}))),action:r.a.createElement("div",null,r.a.createElement($.a,{ref:p,"aria-controls":m?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){u((function(e){return!e}))}},r.a.createElement(at.a,null)),r.a.createElement(rt.a,{className:a.morePopup,open:m,anchorEl:p.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,t=e.placement;return r.a.createElement(it.a,Object.assign({},a,{style:{transformOrigin:"bottom"===t?"center top":"center bottom"}}),r.a.createElement(re.a,null,r.a.createElement(ot.a,{onClickAway:N},r.a.createElement(lt.a,{autoFocusItem:m,id:"menu-list-grow",onKeyDown:D},r.a.createElement(ue.a,{onClick:z},"Share"),r.a.createElement(ue.a,{onClick:I},"Report")))))}))),title:r.a.createElement(C.a,{variant:"h5",color:"textPrimary",component:"p"},e.name),subheader:r.a.createElement(C.a,{variant:"body1",color:"textSecondary",component:"p"},"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.")}),r.a.createElement(Qa.a,null,r.a.createElement(st,{event:t,open:O,handleClose:function(){j(!1)}}),r.a.createElement(He,{event:t,open:S,handleClose:function(){w(!1)}}),r.a.createElement(Ge.a,{variant:"outlined",color:"inherit",size:"small",label:t.event_mode}),r.a.createElement(Ge.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:t.fee_type}),r.a.createElement(Ge.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:t.event_type}),r.a.createElement(Ge.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Reg ends at "+i.toDateString()}),r.a.createElement(Ge.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Starts at "+l.toDateString()}),r.a.createElement(Ge.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Ends at  "+o.toDateString()})),r.a.createElement($a.a,{disableSpacing:!0},r.a.createElement("div",{className:a.buttonDiv},r.a.createElement(f.a,{size:"small",color:"primary",variant:"outlined",className:a.button,onClick:function(){e.click(e.eventId)}},"See More"),"form"===t.reg_mode?r.a.createElement(f.a,{disabled:!!t.registered,size:"small",color:"primary",variant:"contained",className:a.button,onClick:function(){e.handleReg(e.eventId)}},t.registered?"Registered":"Register"):r.a.createElement(f.a,{disabled:!!t.registered,size:"small",color:"primary",variant:"contained",className:a.button},"light"===n?r.a.createElement("a",{href:t.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register"):r.a.createElement("a",{href:t.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register")))))},pt=t(714),dt=t(53),gt=t(33),ft=t(713),ht=t(733),bt=t(715),Et=Object(x.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",top:e.spacing(10),zIndex:3},root:Object(k.a)({background:e.palette.primary.light,position:"sticky",marginLeft:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),root2:{marginTop:e.spacing(5),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,borderRadius:e.spacing(2)},filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50),backgroundColor:e.palette.primary.main}}}));var vt=function(e){var a=Et(),t=r.a.useContext(fa),n=function(a){return function(){var t=e.modeChecked.indexOf(a),n=Object(Me.a)(e.modeChecked);-1===t?n.push(a):n.splice(t,1),e.setModeChecked(n)}},l=function(a){return function(){var t=e.feeChecked.indexOf(a),n=Object(Me.a)(e.feeChecked);-1===t?n.push(a):n.splice(t,1),e.setFeeChecked(n)}};return r.a.createElement("div",null,r.a.createElement(re.a,{className:a.root},r.a.createElement(C.a,{index:0},"Filters"),r.a.createElement(gt.a,{utils:dt.a},r.a.createElement(ft.a,{fullWidth:!0,variant:"dialog",format:"dd MMM yyyy",margin:"normal",id:"startDate",label:"From",name:"startDate",value:e.sortStartDate,onChange:e.handleSortDateChange}),r.a.createElement(ft.a,{fullWidth:!0,variant:"dialog",format:"dd MMM yyyy",margin:"normal",id:"endDate",label:"To",name:"endDate",value:e.sortEndDate,onChange:e.handleEndSortDateChange})),r.a.createElement(C.a,{style:{paddingTop:"10px"}},"Event Mode"),r.a.createElement(Oa.a,{className:a.root},["Online","Offline"].map((function(a){var t="checkbox-list-label-".concat(a);return r.a.createElement(oa.a,{key:a,role:void 0,dense:!0,button:!0,onClick:n(a)},r.a.createElement(pt.a,null,r.a.createElement(F.a,{edge:"start",color:"default",checked:-1!==e.modeChecked.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(ia.a,{id:t,primary:a}))}))),r.a.createElement(C.a,{style:{paddingTop:"10px"}},"Event Cost"),r.a.createElement(Oa.a,{className:a.root},["Free","Paid"].map((function(a){var t="checkbox-list-label-".concat(a);return r.a.createElement(oa.a,{key:a,role:void 0,dense:!0,button:!0,onClick:l(a)},r.a.createElement(pt.a,null,r.a.createElement(F.a,{edge:"start",color:"default",checked:-1!==e.feeChecked.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(ia.a,{id:t,primary:a}))}))),r.a.createElement(C.a,null,"College"),r.a.createElement(bt.a,{"aria-label":"address",name:"address",defaultValue:"All",onChange:e.handleSortCollegeChange,style:{display:"inline"}},r.a.createElement(Oa.a,{className:a.root},["All","".concat(t.college_name)].map((function(e){return r.a.createElement(oa.a,{key:e,role:void 0,dense:!0,button:!0},r.a.createElement(pt.a,null,r.a.createElement(P.a,{value:e,control:r.a.createElement(ht.a,{color:"default"}),label:e})))})))),r.a.createElement(f.a,{className:a.filterButton,onClick:e.handleSortApplyButton,variant:"contained"}," Apply "),r.a.createElement(f.a,{className:a.filterButton,onClick:e.handlesortDiscardButton,variant:"contained"},"Discard")),r.a.createElement("div",null))},yt=Object(x.a)((function(e){return{root:{background:e.palette.secondary.main,position:"sticky",top:e.spacing(10),marginLeft:e.spacing(1)},filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50)}}}));var Ot=function(e){var a=yt(),t=r.a.useContext(fa),n=function(a){return function(){var t=e.modeChecked.indexOf(a),n=Object(Me.a)(e.modeChecked);-1===t?n.push(a):n.splice(t,1),e.setModeChecked(n)}},l=function(a){return function(){var t=e.feeChecked.indexOf(a),n=Object(Me.a)(e.feeChecked);-1===t?n.push(a):n.splice(t,1),e.setFeeChecked(n)}};return r.a.createElement("div",null,r.a.createElement(re.a,{className:a.root},r.a.createElement(C.a,{index:0},"Filters"),r.a.createElement(gt.a,{utils:dt.a},r.a.createElement(ft.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy",margin:"normal",id:"startDate",label:"From",name:"startDate",defaultValue:"",value:e.sortStartDate,onChange:e.handleSortDateChange}),r.a.createElement(ft.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy",margin:"normal",id:"endDate",label:"To",name:"endDate",defaultValue:"",value:e.sortEndDate,onChange:e.handleEndSortDateChange,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(C.a,{style:{paddingTop:"10px"}},"Event Mode"),r.a.createElement(Oa.a,null,["online","offline"].map((function(a){var t="checkbox-list-label-".concat(a);return r.a.createElement(oa.a,{key:a,role:void 0,dense:!0,button:!0,onClick:n(a)},r.a.createElement(pt.a,null,r.a.createElement(F.a,{edge:"start",color:"default",checked:-1!==e.modeChecked.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(ia.a,{id:t,primary:a}))}))),r.a.createElement(C.a,{style:{paddingTop:"10px"}},"Event Cost"),r.a.createElement(Oa.a,{className:a.root},["Free","Paid"].map((function(a){var t="checkbox-list-label-".concat(a);return r.a.createElement(oa.a,{key:a,role:void 0,dense:!0,button:!0,onClick:l(a)},r.a.createElement(pt.a,null,r.a.createElement(F.a,{edge:"start",color:"default",checked:-1!==e.feeChecked.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(ia.a,{id:t,primary:a}))}))),r.a.createElement(C.a,null,"College"),r.a.createElement(bt.a,{"aria-label":"address",name:"address",defaultValue:"All",onChange:e.handleSortCollegeChange,style:{display:"inline"}},r.a.createElement(Oa.a,{className:a.root},["All","".concat(t.collegeName)].map((function(e){return r.a.createElement(oa.a,{key:e,role:void 0,dense:!0,button:!0},r.a.createElement(pt.a,null,r.a.createElement(P.a,{value:e,control:r.a.createElement(ht.a,{color:"default"}),label:e})))})))),r.a.createElement(f.a,{className:a.filterButton,onClick:e.handleSortApplyButton,variant:"contained"}," Apply "),r.a.createElement(f.a,{className:a.filterButton,onClick:e.handlesortDiscardButton,variant:"contained"},"Discard")),r.a.createElement("div",null))};var jt=function(e){return r.a.createElement("div",null,r.a.createElement(Ie.a,{open:e.open,onClose:function(){e.handleClose()},scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:"#1C1C1E",boxShadow:"none"}}},r.a.createElement(Te.a,null,"Hello"),r.a.createElement(De.a,null,r.a.createElement("img",{src:e.image,alt:"profile pic"}))))},Ct=t(719),kt=t(716),xt=t(717),St=t(718),wt=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"auto",backgroundColor:e.palette.primary.light,padding:e.spacing(2)},gridList:{flexWrap:"nowrap",color:e.palette.background.paper,transform:"translateZ(0)"},title:{color:e.palette.primary.main},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},img:{height:355,maxWidth:400,overflow:"hidden",display:"block",width:"100%"}}}));function Nt(e){var a=e.events,t=wt(),n=function(a){return function(){e.click(a,"")}};return r.a.createElement("div",{className:t.root},r.a.createElement(kt.a,{className:t.gridList,cols:2.5},a.map((function(e){return r.a.createElement(xt.a,{key:e._id,rows:1},r.a.createElement("img",{src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url),alt:e.name,className:t.img}),r.a.createElement(St.a,{title:e.name,classes:{root:t.titleBar,title:t.title},actionIcon:r.a.createElement($.a,{"aria-label":"star ".concat(e.name),onClick:n(e)},r.a.createElement(sa.a,{className:t.title}))}))}))))}var Dt=Object(x.a)((function(e){var a,t;return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"89vh"},Object(k.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(k.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(t={borderRadius:e.spacing(50)},Object(k.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(k.a)(t,"backgroundColor",e.palette.primary.main),t),root:Object(k.a)({background:e.palette.primary.light,position:"sticky",top:e.spacing(10),marginLeft:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),leftSubPaper:Object(k.a)({backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},e.breakpoints.down("md"),{maxHeight:"78vh"}),root2:Object(k.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"}),filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50)},fab:Object(k.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),mobileFilterButton:Object(k.a)({},e.breakpoints.up("md"),{display:"none"}),skeleton:{textDecorationColor:e.palette.primary.dark}}}));var Tt=Object(c.g)((function(e){var a=e.history;localStorage.setItem("tabIndex",0);var t=localStorage.getItem("token"),n=r.a.useContext(fa),l=Dt(),o=r.a.useState(!1),i=Object(d.a)(o,2),c=i[0],s=i[1],u=r.a.useState(!1),h=Object(d.a)(u,2),b=h[0],E=h[1],v=r.a.useState(""),O=Object(d.a)(v,2),j=O[0],k=O[1],x=r.a.useState(null),S=Object(d.a)(x,2),w=S[0],N=S[1],D=r.a.useState(null),T=Object(d.a)(D,2),I=T[0],z=T[1],_=r.a.useState(""),W=Object(d.a)(_,2),B=W[0],P=W[1],F=r.a.useState([]),R=Object(d.a)(F,2),A=R[0],H=R[1],M=r.a.useState(!1),L=Object(d.a)(M,2),q=L[0],G=L[1],U=r.a.useState([0]),V=Object(d.a)(U,2),J=V[0],Y=V[1],K=r.a.useState([0]),X=Object(d.a)(K,2),Z=X[0],Q=X[1],$=r.a.useState(!1),ee=Object(d.a)($,2),ae=ee[0],te=ee[1],ne=r.a.useState(null),le=Object(d.a)(ne,2),oe=le[0],ie=le[1],ce=r.a.useContext(Ha),se=r.a.useState([]),me=Object(d.a)(se,2),ue=me[0],pe=me[1];r.a.useEffect((function(){pe(ce.filter((function(e){return!0===e.registered})))}),[ce]),t||a.replace("/");var de=function(e,a){k(e),ie(a),s(!0)},ge=function(){a.push("/post")},fe=function(e){console.log(e),N(e)},he=function(e){z(e)};function be(e,a){P(a)}function Ee(){return ve.apply(this,arguments)}function ve(){return(ve=Object(p.a)(m.a.mark((function e(){var a,t,r,l,o,i,c,s,u,p,d,g,f,h,b,E,v,y;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te(!1),null==w||null==I){e.next=8;break}a=ye(w,I,ce),H(a),G(!0),Z.length>1?(console.log(je(a)),t=je(a),H(t),G(!0),J.length>1&&(r=Ce(t),H(r),G(!0),B===n.college_name&&(l=ke(r),H(l),G(!0)))):J.length>1?(o=Ce(a),H(o),G(!0),B===n.college_name&&(i=ke(o),H(i),G(!0))):B===n.collegeName&&(c=ke(a),H(c),G(!0)),e.next=18;break;case 8:if(null==w){e.next=17;break}return e.next=11,Oe(w,ce);case 11:s=e.sent,H(s),G(!0),Z.length>1?(console.log(je(s)),u=je(s),H(u),G(!0),J.length>1&&(p=Ce(s),H(p),G(!0),B===n.collegeName&&(d=ke(p),H(d),G(!0)))):J.length>1?(g=Ce(s),H(g),G(!0),B===n.collegeName&&(f=ke(g),H(f),G(!0))):B===n.collegeName&&(h=ke(s),H(h),G(!0)),e.next=18;break;case 17:Z.length>1?(b=je(ce),console.log(je(ce)),H(b),G(!0),J.length>1&&(E=Ce(b),H(E),G(!0))):J.length>1?(v=Ce(ce),H(v),G(!0)):B===n.collegeName&&(y=ke(ce),H(y),G(!0));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,a,t){var n=[];return t.forEach((function(t){var r=new Date(t.start_time);e.getTime()<=r.getTime()&&r.getTime()<=a.getTime()&&n.push(t)})),n}function Oe(e,a){var t=[];return a.forEach(function(){var a=Object(p.a)(m.a.mark((function a(n){var r,l,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r="".concat(e.getDate())+e.getMonth()+e.getFullYear(),l=new Date(n.start_time),o="".concat(l.getDate())+l.getMonth()+l.getFullYear(),console.log(o),r===o&&(console.log(n),t.push(n)),console.log(A);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),console.log(t),t}function je(e){var a=[];return e.forEach((function(e){Z.includes(e.event_mode)&&(console.log("ddd"),a.push(e))})),console.log(a),a}function Ce(e){var a=[];return e.forEach((function(e){J.includes(e.fee_type)&&a.push(e)})),a}function ke(e){var a=[];return e.forEach((function(e){n.collegeName===e.college&&a.push(e)})),a}function xe(){Q([0]),Y([0]),H([]),N(null),z(null),G(!1),te(!1)}function Se(e){}function we(e){k(e),a.push("/event/register/"+e._id)}var Ne=function(e){return function(){k(e),s(!0)}};return r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:!1,md:3,lg:2,style:{padding:"10px"}},r.a.createElement(re.a,{className:l.root},r.a.createElement(re.a,{className:l.leftSubPaper},r.a.createElement(vt,{handleSortDateChange:fe,sortStartDate:w,handleEndSortDateChange:he,sortEndDate:I,handleSortCollegeChange:be,feeChecked:J,modeChecked:Z,setFeeChecked:Y,setModeChecked:Q,handleSortApplyButton:Ee,handlesortDiscardButton:xe}))),r.a.createElement(f.a,{className:l.mobileFilterButton,variant:"outlined",onClick:function(){te(!0)}},"Filters")),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8},r.a.createElement(C.a,{variant:"h5",style:{paddingTop:"5px"}},"Your College Events"),r.a.createElement(Nt,{click:de,events:ce.filter((function(e){return e.college_name===n.college_name}))}),r.a.createElement(C.a,{variant:"h5",style:{paddingTop:"5px",paddingBottom:"7px"}},"Active Events"),0===ce.length&&r.a.createElement("div",null,r.a.createElement(Ct.a,{variant:"rect",animation:"wave",height:118}),r.a.createElement(Ct.a,{animation:"wave"}),r.a.createElement(Ct.a,{animation:"wave"}),r.a.createElement(Ct.a,{animation:"wave"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ct.a,{variant:"rect",animation:"wave",height:118}),r.a.createElement(Ct.a,{animation:"wave"}),r.a.createElement(Ct.a,{animation:"wave"}),r.a.createElement(Ct.a,{animation:"wave"})),q?A.map((function(e,a){return r.a.createElement(ut,{key:a,click:de,url:n.imageUrl,name:e.name,startTime:e.start_time,endTime:e.finish_time,eventMode:e.eventMode,eventType:e.eventType,regEndTime:e.registrationEndTime,event:e,feeType:e.feesType,imageDialog:Se,handleReg:we,eventId:e})})):ce.map((function(e,a){return r.a.createElement(ut,{key:a,click:de,url:n.imageUrl,name:e.name,startTime:e.start_time,endTime:e.finish_time,eventMode:e.eventMode,eventType:e.eventType,regEndTime:e.registrationEndTime,eventId:e,feeType:e.feesType,imageDialog:Se,handleReg:we,event:e})}))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2},r.a.createElement(Ua.a,{color:"primary","aria-label":"add",className:l.fab,onClick:ge},r.a.createElement(Ja.a,null)),r.a.createElement(re.a,{className:l.rpaper},r.a.createElement(re.a,{className:l.subRpaper},r.a.createElement(f.a,{onClick:ge,variant:"contained",fullWidth:!0,size:"large",className:l.postButton},"Post Event"),r.a.createElement(Oa.a,{className:l.root2},r.a.createElement(C.a,{variant:"body2"},"Registered Events"),ue.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(oa.a,{onClick:Ne(e),key:a,button:!0},r.a.createElement(ma.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(ia.a,{primary:e.name})),r.a.createElement(_a.a,null))}))))))),r.a.createElement("div",null,r.a.createElement(Ia,{open:c,event:j,imageUrl:oe,handleClose:function(){s(!1)},handleReg:we},"imageDialog=",Se),r.a.createElement(jt,{image:oe,open:b,handleClose:function(){E(!1)},url:n.imageUrl}),r.a.createElement(Ie.a,{open:ae,onClose:function(){te(!1)},fullWidth:!0,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",maxWidth:"sm",PaperProps:{style:{backgroundColor:"#1C1C1E",boxShadow:"none"}}},r.a.createElement(Te.a,null,"Filters"),r.a.createElement(De.a,null,r.a.createElement(Ot,{handleSortDateChange:fe,sortStartDate:w,handleEndSortDateChange:he,sortEndDate:I,handleSortCollegeChange:be,feeChecked:J,modeChecked:Z,setFeeChecked:Y,setModeChecked:Q,handleSortApplyButton:Ee,handlesortDiscardButton:xe})))))})),It=t(720),zt=Object(x.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main}}}));function _t(e){var a=zt(),t=e.event,n=(localStorage.getItem("theme"),r.a.useState(!1)),l=Object(d.a)(n,2),o=l[0],c=l[1];return r.a.createElement(Xa.a,{className:a.root},r.a.createElement(It.a,{component:"img",height:"180",image:"https://ellipseapp.com"+"/api/image?id=".concat(t.poster_url)}),r.a.createElement(Qa.a,null,r.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name)),r.a.createElement($a.a,null,r.a.createElement(f.a,{size:"small",color:"primary",onClick:function(){c(!0)}},"Share"),r.a.createElement(f.a,{onClick:function(){e.handleViewClick(e.event)},size:"small",color:"primary"},r.a.createElement(i.b,{target:"_blank",to:{pathname:"/event/".concat(t._id),state:{event:e.event}},style:{textDecoration:"none",color:"#00bdaa"}},"View"))),r.a.createElement(He,{event:t,open:o,handleClose:function(){c(!1)}}))}var Wt=function(e){e.children;var a=e.value,t=e.url,n=e.index,l=Object(Le.a)(e,["children","value","url","index"]),o=r.a.useState(!1),i=Object(d.a)(o,2),c=i[0],s=i[1],m=r.a.useContext(fa),u=r.a.useContext(za).filter((function(e){return e.user_id===m.user_id})),p=r.a.useState(""),g=Object(d.a)(p,2),f=g[0],h=g[1];function b(e){h(e)}return r.a.createElement("div",Object.assign({role:"tabpanel"},l),a===n&&r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},u.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,key:a},r.a.createElement(_t,{event:e,handleViewClick:b,name:e.name,image:t}))})),r.a.createElement(Ia,{open:c,event:f,handleClose:function(){s(!1)},name:f.name,startTime:f.start_time,endTime:f.finish_time,regEndTime:f.registrationEndTime,type:f.eventType,tags:f.tags,mode:f.eventMode,feeType:f.feesType,url:m.imageUrl}))))},Bt=t(235),Pt=t.n(Bt),Ft=t(307),Rt=t.n(Ft),At=t(306),Ht=t.n(At),Mt=t(308),Lt=t.n(Mt),qt=t(192),Gt=t.n(qt),Ut=t(305),Vt=t.n(Ut),Jt=Object(x.a)((function(e){return{root3:{display:"flex",justifyContent:"flex-start",paddingLeft:e.spacing(4)},content:{marginTop:e.spacing(1),paddingTop:e.spacing(1)},avatar:{margin:e.spacing(1.5),padding:e.spacing(1)}}}));var Yt=function(e){var a=Jt(),t=r.a.useState(r.a.createElement(Pt.a,null)),n=Object(d.a)(t,2),l=n[0],o=n[1];return r.a.useEffect((function(){switch(e.name){case"Username":o(r.a.createElement(Vt.a,null));break;case"Name":o(r.a.createElement(Gt.a,null));break;case"College":o(r.a.createElement(Ht.a,null));break;case"Gender":o(r.a.createElement(Rt.a,null));break;case"Bio":o(r.a.createElement(sa.a,null));break;case"Designation":o(r.a.createElement(Lt.a,null));break;case"Email":o(r.a.createElement(Pt.a,null));break;default:o(r.a.createElement(sa.a,null))}}),[e.name]),r.a.createElement(v.a,{className:a.root3},r.a.createElement(v.a,{className:a.avatar},r.a.createElement(g.a,null,l)),r.a.createElement(v.a,{className:a.content},r.a.createElement(v.a,null,r.a.createElement(C.a,null,e.name)),r.a.createElement(v.a,null,r.a.createElement(C.a,{variant:"body2",color:"textSecondary"},e.value))))},Kt=Object(x.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main},editIcon:{display:"flex",justifyContent:"flex-end"}}}));var Xt=function(e){var a=Kt(),t=(e.children,e.value),n=(e.url,e.index),l=Object(Le.a)(e,["children","value","url","index"]),o=r.a.useContext(fa);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement("div",{className:a.root},r.a.createElement(v.a,null,r.a.createElement(v.a,{className:a.editIcon},r.a.createElement($.a,{onClick:e.handleEditButton},r.a.createElement(Q.a,null))),r.a.createElement(Yt,{name:"Name",value:o.name}),r.a.createElement(Yt,{name:"Email",value:o.email}),r.a.createElement(Yt,{name:"Username",value:o.username}),r.a.createElement(Yt,{name:"College",value:o.college_name}),r.a.createElement(Yt,{name:"Designation",value:o.designation}),r.a.createElement(Yt,{name:"Gender",value:o.gender}),r.a.createElement(Yt,{name:"Bio",value:o.bio}))))},Zt=Object(x.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5),borderRadius:e.spacing(3)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"}}}));var Qt=function(e){localStorage.setItem("tabIndex",3);var a=Zt(),t=r.a.useState(0),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useContext(fa);return r.a.createElement(Xa.a,{className:a.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(h.a,null),r.a.createElement(y.a,{item:!0,xs:!1,sm:!1,md:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:8},r.a.createElement(Za.a,{avatar:r.a.createElement(g.a,{className:a.large,sizes:"100",alt:"",src:"https://ellipseapp.com"+"/api/image?id=".concat(i.profile_pic)},r.a.createElement(Gt.a,null)),action:r.a.createElement(f.a,{variant:"outlined",color:"default",className:a.button,onClick:e.handleEditButton},"Edit Profile"),title:r.a.createElement(C.a,{variant:"h4"},i.name),subheader:i.bio})),r.a.createElement(y.a,{item:!0,xs:!1,sm:!1,md:2})),r.a.createElement(Qa.a,null,r.a.createElement(re.a,{className:a.root2},r.a.createElement(le.a,{value:l,onChange:function(e,a){o(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(oe.a,{label:"About"}),r.a.createElement(oe.a,{label:"Posted Events"}))),r.a.createElement("div",null,r.a.createElement(Xt,{handleEditButton:e.handleEditButton,value:l,index:0}),r.a.createElement(Wt,{url:i.imageUrl,value:l,index:1}))))},$t=Object(x.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},button:{marginTop:e.spacing(4)}}}));function en(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}var an=function(e){var a=$t(),t=(e.children,e.value),n=(e.url,e.index),l=Object(Le.a)(e,["children","value","url","index"]),o=r.a.useContext(fa),i=localStorage.getItem("token"),c=r.a.useState([]),s=Object(d.a)(c,2),h=s[0],E=s[1],v=r.a.useState(null),O=Object(d.a)(v,2),j=O[0],C=O[1],k=r.a.useState(null),x=Object(d.a)(k,2),S=x[0],w=x[1],N=r.a.useState(null),D=Object(d.a)(N,2),I=D[0],_=D[1],W=r.a.useState(null),B=Object(d.a)(W,2),P=B[0],F=B[1],R=r.a.useState(null),A=Object(d.a)(R,2),H=A[0],M=A[1],L=r.a.useState(null),q=Object(d.a)(L,2),G=q[0],U=q[1],V=r.a.useState(null),Z=Object(d.a)(V,2),ee=Z[0],ae=Z[1],te=r.a.useState(null),ne=Object(d.a)(te,2),re=ne[0],le=ne[1],oe=r.a.useState(null),ie=Object(d.a)(oe,2),ce=ie[0],se=ie[1],me=r.a.useState([]),ue=Object(d.a)(me,2),pe=ue[0],de=ue[1],ge=r.a.useState(null),fe=Object(d.a)(ge,2),he=fe[0],be=fe[1],Ee=r.a.useState(!1),ve=Object(d.a)(Ee,2),ye=ve[0],Oe=ve[1],je=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),Ce=Object(d.a)(je,2),ke=Ce[0],xe=Ce[1],Se=r.a.useState(!1),Ne=Object(d.a)(Se,2),De=Ne[0],Te=Ne[1],Ie=ke.vertical,ze=ke.horizontal,_e=ke.open,We=ke.message,Be=ke.type;r.a.useEffect((function(){_(o.email),w(o.name),F(o.username),ae(o.designation),le(o.college_name),se(o.college_id),M(o.bio),U(o.gender),fetch("https://ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){E(e),e.forEach((function(e){de((function(a){return[].concat(Object(Me.a)(a),[e.name])}))}))}))}))}),[i]);var Pe=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe(Object(u.a)(Object(u.a)({},ke),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement("div",{className:a.root},r.a.createElement(T.a,{anchorOrigin:{vertical:Ie,horizontal:ze},open:_e,autoHideDuration:6e3,onClose:Pe,key:Ie+ze},r.a.createElement(en,{onClose:Pe,severity:Be},We)),r.a.createElement(y.a,{container:!0,component:"main",justify:"center",spacing:2},r.a.createElement(y.a,{item:!0,xs:12,md:12,alignContent:"center",alignItems:"center"},r.a.createElement(y.a,{container:!0,component:"main",justify:"center",spacing:2},r.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){C(e.target.files[0]);var a=URL.createObjectURL(e.target.files[0]);be(a),Oe(!0)}},style:{display:"none"}}),r.a.createElement(X.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement($.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(Q.a,null)))},r.a.createElement(g.a,{className:a.large,sizes:"100",alt:"",src:ye?he:"https://ellipseapp.com"+"/api/image?id=".concat(o.profile_pic)})))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(b.a,{autoComplete:"fullName",name:"fullName",value:S||"",onChange:function(e,a){w(e.target.value)},id:"fullName",label:"Full Name",autoFocus:!0,fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(b.a,{disabled:!0,id:"email",value:I,onChange:function(e,a){_(a)},fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(b.a,{fullWidth:!0,required:!0,id:"username",label:"User Name",name:"username",value:P,onChange:function(e,a){F(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(we.a,{fullWidth:!0,id:"college",options:pe,getOptionLabel:function(e){return e},value:re,onChange:function(e,a){le(a),h.forEach((function(e){e.name===a&&se(e._id)}))},renderInput:function(e){return r.a.createElement(b.a,Object.assign({name:"college",fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Bio",autoComplete:"off",required:!0,id:"bio",name:"bio",label:"Bio",fullWidth:!0,value:H,onChange:function(e,a){M(a)}})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(K.a,{fullWidth:!0,required:!0},r.a.createElement(Y.a,{htmlFor:"outlined-age-native-simple"},"Gender"),r.a.createElement(J.a,{value:G,onChange:function(e,a){console.log(e.target.value),U(e.target.value)},fullWidth:!0,native:!0,label:"Age",inputProps:{name:"gender",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Others"},"Others")))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(K.a,{fullWidth:!0,required:!0},r.a.createElement(Y.a,{htmlFor:"outlined-age-native-simple"},"You are"),r.a.createElement(J.a,{value:ee,onChange:function(e,a){ae(e.target.value)},fullWidth:!0,native:!0,label:"You are",inputProps:{name:"designation",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"WorkingProfessional"},"Working Professional"),r.a.createElement("option",{value:"Club/Organisation"},"Club/Organisation"))))),r.a.createElement(f.a,{className:a.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),Te(!0);try{var a=new FormData,t={name:S,email:I,username:P,college_id:ce,designation:ee,gender:G,bio:H};a=JSON.stringify(t),fetch("https://ellipseapp.com/api/users/updateprofile",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){200===e.status&&e.json().then((function(e){if(ye){var a=new FormData;a.append("image",j),fetch("https://ellipseapp.com/api/users/uploadImage",{headers:{Authorization:"Bearer ".concat(i)},method:"POST",body:a}).then((function(e){200===e.status&&(Te(!1),xe({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else Te(!1),xe({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300})}))}))}catch(n){Te(!1),xe({open:!0,vertical:"top",horizontal:"center",message:n.message,type:"error",autoHide:3e3})}},disabled:De},De?r.a.createElement(z.a,{color:"primary",size:24}):"Update Profile")))};function tn(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}var nn=Object(x.a)((function(e){return{avatar:{backgroundColor:e.palette.primary.main},button:{marginTop:e.spacing(4)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)}}}));var rn=function(e){var a=nn(),t=(e.children,e.value),n=(e.url,e.index),l=Object(Le.a)(e,["children","value","url","index"]),o=r.a.useContext(fa),i=localStorage.getItem("token"),c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error"}),s=Object(d.a)(c,2),g=s[0],E=s[1],v=r.a.useState(!1),O=Object(d.a)(v,2),j=O[0],C=O[1],k=g.vertical,x=g.horizontal,S=g.open,w=g.message,N=g.type,D=r.a.useState(null),I=Object(d.a)(D,2),_=I[0],W=I[1],B=r.a.useState(null),P=Object(d.a)(B,2),F=P[0],A=P[1],H=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(null),A(null),E(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement(R.a,{component:"main",maxWidth:"xs"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:k,horizontal:x},open:S,autoHideDuration:2e3,onClose:H,key:k+x},r.a.createElement(tn,{onClose:H,severity:N},w)),r.a.createElement("div",{className:a.paper},r.a.createElement("form",{className:a.form,onSubmit:function(e){C(!0),e.preventDefault();try{var a=new FormData,t={email:o.email,cPassword:_,nPassword:F};a=JSON.stringify(t),fetch("https://ellipseapp.com/api/users/updatepassword",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){200===e.status?e.json().then((function(e){C(!1),E({open:!0,vertical:"top",horizontal:"center",message:e.message,type:"success"})})):401===e.status&&e.json().then((function(e){C(!1),E({open:!0,vertical:"top",horizontal:"center",message:e.error,type:"error"})}))}))}catch(n){C(!1),E({open:!0,vertical:"top",horizontal:"center",message:n.message,type:"error"})}}},r.a.createElement(y.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{required:!0,fullWidth:!0,name:"cPassword",label:"Current Password",type:"password",id:"cPassword",value:_,onChange:function(e){W(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{required:!0,fullWidth:!0,name:"nPassword",label:"New Password",type:"password",id:"nPassword",value:F,onChange:function(e){A(e.target.value)}}))),r.a.createElement(f.a,{className:a.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:j},j?r.a.createElement(z.a,{color:"primary",size:24}):"Update Password")))))};function ln(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var on=Object(x.a)((function(e){return{icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root:{flexGrow:1},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"}}}));var cn=function(e){var a=r.a.useState(0),t=Object(d.a)(a,2),n=t[0],l=t[1],o=on(),i=Object(We.a)();function c(){e.handleClose()}return r.a.createElement(Ie.a,{open:e.open,onClose:c,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",style:{minHeight:"400px"},PaperProps:{style:{backgroundColor:i.palette.secondary.main,boxShadow:"none"}},classes:{paper:o.dialog}},r.a.createElement(Te.a,{id:"scroll-dialog-title"},r.a.createElement("div",{className:o.icons},r.a.createElement($.a,{"aria-label":"close",className:o.closeButton,onClick:c},r.a.createElement(Pe.a,{fontSize:"large"}))),r.a.createElement("div",{className:o.root},r.a.createElement(se.a,{style:{alignItems:"center"},position:"static",color:"secondary"},r.a.createElement(le.a,{value:n,onChange:function(e,a){l(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},r.a.createElement(oe.a,Object.assign({label:"Update info"},ln(0))),r.a.createElement(oe.a,Object.assign({label:"Change Password"},ln(1))))))),r.a.createElement(De.a,{dividers:!0},r.a.createElement(an,{value:n,index:0}),r.a.createElement(rn,{value:n,index:1})),r.a.createElement(Ne.a,{alignItems:"center"}))},sn=Object(x.a)((function(e){var a,t;return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3)},accordion:{backgroundColor:e.palette.primary.light},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(k.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(k.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(t={borderRadius:e.spacing(50)},Object(k.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(k.a)(t,"backgroundColor",e.palette.primary.main),Object(k.a)(t,"color",e.palette.primary.light),t),fab:Object(k.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(k.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"})}}));var mn=function(e){var a=sn(),t=r.a.useState(!1),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(!1),c=Object(d.a)(i,2),s=c[0],m=c[1],u=r.a.useContext(Ha),p=r.a.useState([]),h=Object(d.a)(p,2),b=h[0],E=h[1];function v(){o(!1),m(!1)}var O=function(){e.history.push("/post")},j=function(e){return function(){E(e),m(!0)}};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:3,lg:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8},r.a.createElement(Qt,{handleEditButton:function(){o(!0)}}),r.a.createElement(cn,{open:l,handleClose:v})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2},r.a.createElement(Ua.a,{color:"primary","aria-label":"add",className:a.fab,onClick:O},r.a.createElement(Ja.a,null)),r.a.createElement(re.a,{className:a.rpaper},r.a.createElement(re.a,{className:a.subRpaper},r.a.createElement(f.a,{onClick:O,variant:"contained",fullWidth:!0,size:"large",className:a.postButton},"Post Event"),r.a.createElement(Oa.a,{className:a.sideList},r.a.createElement(C.a,{variant:"body2"},"Explore Events"),u.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(oa.a,{onClick:j(e),key:a,button:!0},r.a.createElement(ma.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(ia.a,{primary:e.name})),r.a.createElement(_a.a,null))}))))))),r.a.createElement("div",null,r.a.createElement(Ia,{open:s,event:b,handleClose:v,name:b.name,startTime:b.start_time,endTime:b.finish_time,regEndTime:b.registrationEndTime,type:b.eventType,tags:b.tags,mode:b.eventMode,feeType:b.feesType}))))},un=t(742),pn=t(721),dn=t(736),gn=t(745),fn=t(625),hn=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(0),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));function bn(e){var a=hn(),t=r.a.useState(!1),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(!1),c=Object(d.a)(i,2),s=c[0],m=c[1],u=r.a.useState(!1),p=Object(d.a)(u,2),g=p[0],h=p[1];return r.a.createElement("form",{className:a.form,onSubmit:function(a){a.preventDefault(),null===e.startDate?o(!0):null===e.endDate?m(!0):null===e.regEndDate?h(!0):e.handleNext()}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{autoComplete:"off",required:!0,id:"eventName",name:"eventName",label:"Name",fullWidth:!0,value:e.name||"",onChange:function(a){e.setName(a.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{autoComplete:"off",required:!0,id:"shortdesc",name:"shortdesc",label:"Short Description",fullWidth:!0,value:e.desc||"",onChange:function(a){e.setDesc(a.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:6},r.a.createElement(gt.a,{utils:dt.a,required:!0},r.a.createElement(gn.a,{inputProps:{required:!0},minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Start Date",name:"startDate",value:e.startDate,onChange:function(a){o(!1),e.setStartDate(a)},error:l,helperText:l&&"Fill this field"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:6},r.a.createElement(gt.a,{utils:dt.a},r.a.createElement(gn.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"endDate",label:"End Date",name:"endDate",value:e.endDate,onChange:function(a){m(!1),e.setEndDate(a)},error:s,helperText:s&&"Fill this field"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,lg:12},r.a.createElement(gt.a,{utils:dt.a},r.a.createElement(gn.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"regEndDate",label:"Registration End Date",name:"regEndDate",value:e.regEndDate,onChange:function(a){h(!1),e.setRegEndDate(a)},error:g,helperText:g&&"Fill this field"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(K.a,{fullWidth:!0,required:!0},r.a.createElement(Y.a,{htmlFor:"outlined-age-native-simple"},"Mode"),r.a.createElement(J.a,{fullWidth:!0,native:!0,label:"Mode",inputProps:{name:"eventMode",id:"eventMode"},value:e.eventMode||"",onChange:function(a){e.setEventMode(a.target.value)}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Online"},"Online"),r.a.createElement("option",{value:"Offline"},"Offline")))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(we.a,{fullWidth:!0,id:"combo-box-demo",options:["Hackathon","Coding Contest","Webinar"],getOptionLabel:function(e){return e},onChange:function(a,t){e.setEventType(t)},value:e.eventType,renderInput:function(e){return r.a.createElement(b.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Type"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(K.a,{fullWidth:!0,required:!0},r.a.createElement(Y.a,{htmlFor:"outlined-age-native-simple"},"Registration"),r.a.createElement(J.a,{fullWidth:!0,native:!0,label:"Registration",inputProps:{name:"registrationMode",id:"registaration mode"},value:e.registrationMode||"",onChange:function(a){"form"===a.target.value?e.setSteps((function(e){return[].concat(Object(Me.a)(e),["Registration Form"])})):"link"===a.target.value&&e.setSteps(["About","More Details"]),e.setRegistrationMode(a.target.value)}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"form"},"Our Platform(Ellipse)"),r.a.createElement("option",{value:"link"},"Other")))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(fn.a,{component:"legend"},"Entry Fee"),r.a.createElement(bt.a,{"aria-label":"address",name:"address",defaultValue:"Free",onChange:function(a,t){e.setFeeType(t)},style:{display:"inline"}},r.a.createElement(P.a,{value:"Free",control:r.a.createElement(ht.a,{color:"default"}),label:"Free"}),r.a.createElement(P.a,{value:"Paid",control:r.a.createElement(ht.a,{color:"default"}),label:"Paid"})))),r.a.createElement("div",{className:a.buttons},r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:a.button},"Next")))}var En=t(635),vn=t(309),yn=t.n(vn),On=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));function jn(e){var a=localStorage.getItem("token"),t=On(),n=r.a.useState(""),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState([]),s=Object(d.a)(c,2),m=s[0],u=s[1],p=r.a.useState([]),g=Object(d.a)(p,2),h=g[0],E=g[1];return r.a.useEffect((function(){fetch("https://ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){u(e),e.forEach((function(e){E((function(a){return[].concat(Object(Me.a)(a),[e.name])}))}))}))}))}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:t.form,onSubmit:function(a){a.preventDefault(),e.handleNext()}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",required:!0,id:"about",name:"about",label:"About",fullWidth:!0,onChange:function(a){e.setAbout(a.target.value)},value:e.about||""})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(we.a,{multiple:!0,id:"themes",options:["Hackathon","Coding Contest","Webinar"].map((function(e){return e})),freeSolo:!0,value:e.eventThemes||[],onChange:function(a,t){e.setThemes(t)},renderTags:function(e,a){return e.map((function(e,t){return r.a.createElement(Ge.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return r.a.createElement(b.a,Object.assign({},e,{label:"Event Tags",placeholder:"Event Tags"}))}})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(a){if(a.target.files[0]){e.setPoster(a.target.files[0]);var t=a.target.files[0].name;i(t)}},style:{display:"none"}}),r.a.createElement(b.a,{autoComplete:"off",required:!0,id:"eventposter",name:"eventposter",label:"Event Poster",component:"span",value:o,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(En.a,{position:"start"},r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement($.a,{component:"span"},r.a.createElement(yn.a,null))))}})),"form"!==e.registrationMode&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(b.a,{autoComplete:"off",required:!0,id:"regLink",name:"regLink",label:"Registration Link",fullWidth:!0,value:e.regLink||"",onChange:function(a){e.setRegLink(a.target.value)}})),"Paid"===e.feeType&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(b.a,{autoComplete:"off",required:!0,id:"regFees",name:"regFees",label:"Registration Fees",fullWidth:!0,value:e.regFees||"",onChange:function(a){e.setFees(a.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(we.a,{multiple:!0,id:"tags-filled",options:["Laptop","Basic HTML","C++","Machine Learning"].map((function(e){return e})),freeSolo:!0,value:e.requirements||[],onChange:function(a,t){e.setRequirements(t)},renderTags:function(e,a){return e.map((function(e,t){return r.a.createElement(Ge.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return r.a.createElement(b.a,Object.assign({},e,{label:"Requirements",placeholder:"Requirements"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(we.a,{fullWidth:!0,id:"combo-box-demo",options:h,value:e.college||[],getOptionLabel:function(e){return e},onChange:function(a,t){console.log(t),e.setCollegeName(t),m.forEach((function(a){a.name===t&&e.collegeId(a._id)}))},renderInput:function(e){return r.a.createElement(b.a,Object.assign({fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(fn.a,{component:"legend"},"Participation"),r.a.createElement(bt.a,{"aria-label":"address",name:"address",defaultValue:"open",onChange:function(a,t){e.setParticipantsType(t)},style:{display:"inline"}},r.a.createElement(P.a,{value:"open",control:r.a.createElement(ht.a,{color:"default"}),label:"Open for all"}),r.a.createElement(P.a,{value:"onlycollege",control:r.a.createElement(ht.a,{color:"default"}),label:"Only ".concat(e.college)}))),"Offline"===e.eventMode&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(fn.a,{component:"legend"},"Address"),r.a.createElement(bt.a,{"aria-label":"address","aria-disabled":!0,name:"address",defaultValue:"college",onChange:function(a,t){e.setAddressType(t)},style:{display:"inline"}},r.a.createElement(P.a,{value:"college",control:r.a.createElement(ht.a,{color:"default"}),label:"College/University"}),r.a.createElement(P.a,{disabled:!0,value:"other",control:r.a.createElement(ht.a,{color:"default"}),label:"Others"}))),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(b.a,{autoComplete:"off",onChange:function(a){e.setBuilding(a.target.value)},value:e.building,id:"building",name:"building",label:"Room No & Building",fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(we.a,{fullWidth:!0,id:"combo-box-demo",options:h,getOptionLabel:function(e){return e},value:e.venueCollege,onChange:function(a,t){e.setVenueCollege(t)},renderInput:function(e){return r.a.createElement(b.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Venue College"}))}}))),"form"!==e.registrationMode&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(P.a,{control:r.a.createElement(F.a,{color:"primary",name:"terms"}),label:"I accept the terms and conditions"}))),r.a.createElement("div",{className:t.buttons},r.a.createElement(f.a,{onClick:e.handleBack,className:t.button},"Back"),r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"form"!==e.registrationMode?"POST":"NEXT"))))}var Cn=t(636);function kn(e){var a=Object(We.a)(),t=r.a.useState(null),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(null),c=Object(d.a)(i,2),s=c[0],m=c[1],u=r.a.useState(["option1","option2"]),p=Object(d.a)(u,2),g=p[0],h=p[1];return r.a.createElement("div",null,r.a.createElement(Ie.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Te.a,{id:"form-dialog-title"},"Add Field"),r.a.createElement(De.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{autoFocus:!0,margin:"dense",id:"name",label:"Field Name",name:"name",fullWidth:!0,value:l,required:!0,onChange:function(e){o(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(K.a,{fullWidth:!0,required:!0},r.a.createElement(Y.a,{htmlFor:"outlined-age-native-simple"},"Type"),r.a.createElement(J.a,{fullWidth:!0,native:!0,label:"Type",inputProps:{name:"type",id:"outlined-age-native-simple"},value:e.eventMode,onChange:function(e){m(e.target.value)}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"short_text"},"Short Text"),r.a.createElement("option",{value:"paragraph"},"Long Description"),r.a.createElement("option",{value:"dropdown"},"Drop Down"),r.a.createElement("option",{value:"date"},"Date & Time"),r.a.createElement("option",{value:"radiobuttons"},"Radio Button"),r.a.createElement("option",{value:"checkboxes"},"Check Box"),r.a.createElement("option",{value:"link"},"Link")))),("radiobuttons"===s||"checkboxes"===s||"dropdown"===s)&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(we.a,{multiple:!0,id:"tags-filled",options:[].map((function(e){return e})),freeSolo:!0,value:g||[],onChange:function(e,a){h(a)},renderTags:function(e,a){return e.map((function(e,t){return r.a.createElement(Ge.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return r.a.createElement(b.a,Object.assign({},e,{label:"Options",placeholder:"Options",helperText:"you can choose multiple options for your checkboxes or radio buttons enter one option and press enter"}))}})))),r.a.createElement(Ne.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){"radiobuttons"!==s&&"checkboxes"!==s&&"dropdown"!==s?e.handleAdd(Object(k.a)({},l,{title:l,field:s,options:[]}),l):e.handleAdd(Object(k.a)({},l,{title:l,field:s,options:g}),l),e.handleClose()},color:"primary"},"Add"))))}var xn=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},formControl:{},formgroup:{marginTop:e.spacing(1)},root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}));function Sn(e){var a=xn(),t=r.a.useState(!1),n=Object(d.a)(t,2),l=n[0],o=n[1],i={name:{title:"Name",field:"short_text",options:[]},email:{title:"Email",field:"short_text",options:[]},college:{title:"College",field:"short_text",options:[]}},c=r.a.useState([]),s=Object(d.a)(c,2),g=s[0],h=s[1],b=r.a.useState({name:!1,email:!1,college:!1}),E=Object(d.a)(b,2),v=E[0],O=E[1],j=function(e){O(Object(u.a)(Object(u.a)({},v),{},Object(k.a)({},e.target.name,e.target.checked)));var a=e.target.name;e.target.checked?h((function(e){return[].concat(Object(Me.a)(e),[i[a]])})):e.target.checked||h((function(e){return e.filter((function(e){return e.title!==a}))}))},C=v.name,x=v.email,S=v.college;function w(){return(w=Object(p.a)(m.a.mark((function a(t){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,e.setFields(g);case 3:e.handlePost(g);case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:a.form,onSubmit:function(e){return w.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(kn,{open:l,handleClose:function(){o(!1)},handleAdd:function(e,a){h((function(t){return[].concat(Object(Me.a)(t),[e[a]])}))}}),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(K.a,{component:"fieldset",className:a.formControl},r.a.createElement(fn.a,{component:"legend"},"Fields for your Registration Form"),r.a.createElement(Cn.a,{className:a.formgroup},r.a.createElement(P.a,{control:r.a.createElement(F.a,{color:"primary",checked:C,onChange:j,name:"name"}),label:"Name"}),r.a.createElement(P.a,{control:r.a.createElement(F.a,{color:"primary",checked:x,onChange:j,name:"email"}),label:"Email"}),r.a.createElement(P.a,{control:r.a.createElement(F.a,{color:"primary",checked:S,onChange:j,name:"college"}),label:"College"})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",color:"default",onClick:function(){o(!0)}},"Add More")),r.a.createElement(y.a,null,r.a.createElement(re.a,{component:"ul",className:a.root},g.map((function(e){return r.a.createElement("li",{key:e.key},r.a.createElement(Ge.a,{label:e.title,onDelete:"React"===e.label?void 0:(t=e,function(){O(Object(u.a)(Object(u.a)({},v),{},Object(k.a)({},t.name,!1))),h((function(e){return e.filter((function(e){return e.title!==t.title}))}))}),className:a.chip}));var t})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(P.a,{control:r.a.createElement(F.a,{color:"primary",name:"terms"}),label:"I accept the terms and conditions"}))),r.a.createElement("div",{className:a.buttons},r.a.createElement(f.a,{onClick:e.handleBack,className:a.button},"Back"),r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:a.button},"Post"))))}function wn(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}function Nn(){return r.a.createElement(C.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(E.a,{color:"inherit",href:"https://ellipseapp.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var Dn=Object(x.a)((function(e){var a;return{appBar:{position:"relative"},layout:Object(k.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:(a={marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(2)},Object(k.a)(a,e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(3),marginBottom:e.spacing(1),padding:e.spacing(3)}),Object(k.a)(a,"backgroundColor",e.palette.secondary.main),a),stepper:{padding:e.spacing(3,8,2),backgroundColor:e.palette.secondary.main},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},closeButton:Object(k.a)({position:"absolute",right:e.spacing(1),top:e.spacing(7)},e.breakpoints.down("md"),{top:e.spacing(12)}),backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function Tn(e){var a=e.history,t=Dn(),n=localStorage.getItem("token"),l=r.a.useContext(fa),o=r.a.useState(0),i=Object(d.a)(o,2),c=i[0],s=i[1],g=r.a.useState(["About","More Details"]),f=Object(d.a)(g,2),b=f[0],E=f[1],v=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),y=Object(d.a)(v,2),O=y[0],j=y[1],k=r.a.useState(!1),x=Object(d.a)(k,2),S=x[0],w=x[1],N=O.vertical,D=O.horizontal,I=O.open,_=O.message,W=O.type,B=O.autoHide,P=r.a.useState(null),F=Object(d.a)(P,2),R=F[0],A=F[1],H=r.a.useState(null),M=Object(d.a)(H,2),L=M[0],q=M[1],G=r.a.useState(null),U=Object(d.a)(G,2),V=U[0],J=U[1],Y=r.a.useState(null),K=Object(d.a)(Y,2),X=K[0],Z=K[1],Q=r.a.useState(null),ee=Object(d.a)(Q,2),ae=ee[0],te=ee[1],le=r.a.useState(null),oe=Object(d.a)(le,2),ie=oe[0],ce=oe[1],se=r.a.useState(null),me=Object(d.a)(se,2),ue=me[0],pe=me[1],de=r.a.useState(null),ge=Object(d.a)(de,2),fe=ge[0],he=ge[1],be=r.a.useState("Free"),Ee=Object(d.a)(be,2),ve=Ee[0],ye=Ee[1],Oe=r.a.useState(null),je=Object(d.a)(Oe,2),Ce=je[0],ke=je[1],xe=r.a.useState(null),Se=Object(d.a)(xe,2),we=Se[0],Ne=Se[1],De=r.a.useState(null),Te=Object(d.a)(De,2),Ie=Te[0],ze=Te[1],_e=r.a.useState(null),We=Object(d.a)(_e,2),Be=We[0],Fe=We[1],Re=r.a.useState(null),Ae=Object(d.a)(Re,2),He=Ae[0],Me=Ae[1],Le=r.a.useState(null),qe=Object(d.a)(Le,2),Ge=qe[0],Ue=qe[1],Ve=r.a.useState(null),Je=Object(d.a)(Ve,2),Ye=Je[0],Ke=Je[1],Xe=r.a.useState(l.college_name),Ze=Object(d.a)(Xe,2),Qe=Ze[0],$e=Ze[1],ea=r.a.useState(l.college_id),aa=Object(d.a)(ea,2),ta=aa[0],na=aa[1],ra=r.a.useState(null),la=Object(d.a)(ra,2),oa=la[0],ia=la[1],ca=r.a.useState(l.name+","+l.college_name),sa=Object(d.a)(ca,2),ma=sa[0],ua=sa[1],pa=r.a.useState(null),da=Object(d.a)(pa,2),ga=da[0],ha=da[1],ba=r.a.useState("open"),Ea=Object(d.a)(ba,2),va=Ea[0],ya=Ea[1],Oa=r.a.useState([]),ja=Object(d.a)(Oa,2),Ca=ja[0],ka=ja[1],xa=r.a.useState(null),Sa=Object(d.a)(xa,2),wa=Sa[0],Na=Sa[1];var Da=function(e){var a=!1;"open"===va&&(a=!0),w(!0);try{var t=new FormData,r={user_id:l.user_id,name:R,description:L,start_time:ae,finish_time:ie,registration_end_time:ue,event_mode:V,event_type:fe,tags:Be,reg_link:we,fee:Ie,about:X,fee_type:ve,requirements:He,college_name:Qe,college_id:ta,venue_type:Ye,venue:oa,reg_fields:e,reg_mode:Ce,o_allowed:a,platform_details:wa};t=JSON.stringify(r),fetch("https://ellipseapp.com/api/events",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){200===e.status?e.json().then((function(e){var a=new FormData;a.append("image",Ge),fetch("https://ellipseapp.com"+"/api/event/uploadimage?id=".concat(e.eventId),{headers:{Authorization:"Bearer ".concat(n)},method:"POST",body:a}).then((function(e){200===e.status&&e.json().then((function(e){w(!1),j({open:!0,vertical:"top",horizontal:"center",message:"Event Added Successfully",type:"success",autoHide:"4000"})}))}))})):e.json().then((function(e){console.log(e)}))}))}catch(o){w(!1),j({open:!0,vertical:"top",horizontal:"center",message:o.message,type:"error",autoHide:"5000"})}};function Ta(e){ka(e)}function Ia(){Da(null)}var za=function(){s(c+1)},_a=function(){s(c-1)};var Wa=function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clickaway"!==n){e.next=2;break}return e.abrupt("return");case 2:"Event Added Successfully"===_&&a.replace("/home"),j(Object(u.a)(Object(u.a)({},O),{},{open:!1}));case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:N,horizontal:D},open:I,autoHideDuration:B,onClose:Wa,key:N+D},r.a.createElement(wn,{onClose:Wa,severity:W},_)),r.a.createElement(ne.a,{open:S,className:t.backdrop},r.a.createElement(z.a,null)),r.a.createElement("main",{className:t.layout},r.a.createElement($.a,{"aria-label":"close",className:t.closeButton,onClick:function(){a.goBack()}},r.a.createElement(Pe.a,{fontSize:"large"})),r.a.createElement(re.a,{className:t.paper},r.a.createElement(C.a,{component:"h1",variant:"h4",align:"center"},"Post your Event"),r.a.createElement(un.a,{activeStep:c,className:t.stepper},b.map((function(e){return r.a.createElement(pn.a,{key:e},r.a.createElement(dn.a,null,e))}))),r.a.createElement(r.a.Fragment,null,c===b.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{variant:"h5",gutterBottom:!0},"Thank you.")):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(bn,{name:R,desc:L,startDate:ae,endDate:ie,regEndDate:ue,eventMode:V,eventType:fe,about:X,feeType:ve,registrationMode:Ce,setName:A,setDesc:q,setStartDate:te,setEndDate:ce,setRegEndDate:pe,setEventMode:J,setEventType:he,setRegistrationMode:ke,setAbout:Z,handleNext:za,setFeeType:ye,steps:b,setSteps:E});case 1:return r.a.createElement(jn,{handleBack:_a,handleEventPost:Da,eventMode:V,feeType:ve,eventThemes:Be,eventPoster:Ge,regLink:we,regFees:Ie,about:X,requirements:He,college:Qe,building:oa,organizer:ma,registrationMode:Ce,venueCollege:ga,participantsType:va,platformDetails:wa,setPlatformDetails:Na,setThemes:Fe,setPoster:Ue,setRegLink:Ne,setFees:ze,setRequirements:Me,setOrganizer:ua,setAddressType:Ke,setCollegeName:$e,setCollegeId:na,setBuilding:ia,setVenueCollege:ha,setAbout:Z,setParticipantsType:ya,handleNext:"form"===Ce?za:Ia});case 2:return r.a.createElement(Sn,{handleBack:_a,fields:Ca,setFields:Ta,handlePost:Da});default:throw new Error("Unknown step")}}(c)))),r.a.createElement(Nn,null)))}var In=t(744),zn=t(312),_n=t.n(zn),Wn=t(311),Bn=t.n(Wn),Pn=t(315),Fn=t.n(Pn),Rn=t(316),An=t.n(Rn),Hn=t(313),Mn=t.n(Hn),Ln=t(314),qn=t.n(Ln),Gn=t(310),Un=t.n(Gn),Vn=Object(x.a)((function(e){var a,t;return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),grow:{flexGrow:1,alignItems:"center"},sectionDesktop:Object(k.a)({},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(k.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),tabs:Object(k.a)({display:"none"},e.breakpoints.up("lg"),{display:"flex",flexDirection:"row",marginLeft:e.spacing(4)}),mobiletab:Object(k.a)({display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.up("lg"),{display:"none"}),tabPanel:{marginBottom:e.spacing(3)},flex_section:{flexGrow:1,display:"flex",flexDirection:"row"},flex_col_scroll:{flexGrow:1,overflow:"auto"},title:(a={display:"none"},Object(k.a)(a,e.breakpoints.up("sm"),{display:"block"}),Object(k.a)(a,"fontFamily","Gugi"),Object(k.a)(a,"marginLeft",e.spacing(1)),Object(k.a)(a,"color",e.palette.primary.dark),Object(k.a)(a,"fontWeight","bold"),a),"@global":{"*::-webkit-scrollbar":{width:"0.5em",height:"0.5em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.00)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#ad9d9d",outline:"1px solid slategrey"}},mobileTitle:Object(k.a)({},e.breakpoints.up("sm"),{display:"none"}),titleButton:(t={display:"none"},Object(k.a)(t,e.breakpoints.up("sm"),{display:"inline-block"}),Object(k.a)(t,"margin",e.spacing(0)),Object(k.a)(t,"padding",e.spacing(0)),Object(k.a)(t,"textTransform","none"),t)}}));function Jn(e){var a=Vn(),t=localStorage.getItem("theme"),n=r.a.useState(null),l=Object(d.a)(n,2),o=l[0],i=l[1],s=r.a.useState("light"!==t),m=Object(d.a)(s,2),u=m[0],p=m[1],g=Boolean(o),b=localStorage.getItem("token"),E=r.a.useState(!1),v=Object(d.a)(E,2),y=v[0],O=v[1],j=r.a.useState(!0),x=Object(d.a)(j,2),S=x[0],w=x[1],N=r.a.useState(!0),D=Object(d.a)(N,2),T=D[0],I=D[1];if(r.a.useEffect((function(){fetch("https://ellipseapp.com/api/users/me",{headers:{Authorization:"Bearer ".concat(b),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(a){200===a.status?a.json().then((function(a){e.setUser(a[0]),null===a[0].college_name&&I(!1)})):401===a.status&&(localStorage.removeItem("token"),w(!1))}))}),[b]),!b)return r.a.createElement(c.a,{to:"/"});if(!S)return r.a.createElement(c.a,{to:"/"});if(!T)return r.a.createElement(c.a,{to:"/userinfo"});var z="primary-search-account-menu",_=r.a.createElement(pe.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:z,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:function(){i(null)}},r.a.createElement(ue.a,null," Dark Theme ",r.a.createElement(Pa.a,{checked:u,onChange:function(e){p(e.target.checked),e.target.checked?(localStorage.setItem("theme","dark"),window.location.reload(!1)):(localStorage.setItem("theme","light"),window.location.reload(!1))},color:"primary",name:"checkedB",inputProps:{"aria-label":"dark mode checkbox"}})),r.a.createElement(ue.a,{onClick:function(a){fetch("https://ellipseapp.com/api/users/logout",{headers:{Authorization:"Bearer ".concat(b),"Content-Type":"application/json"},method:"POST"}).then((function(a){a.json().then((function(a){"success"===a.message&&(localStorage.removeItem("token"),localStorage.removeItem("tabIndex"),e.handleSignout())}))}))}},"Log Out"));function W(){localStorage.setItem("tabIndex",0),e.handleHomeClick()}return r.a.createElement("div",{className:a.root},r.a.createElement(h.a,null),r.a.createElement(se.a,{position:"fixed",color:"secondary",className:Object(ha.a)(a.appBar,Object(k.a)({},a.appBarShift,e.dOpen))},r.a.createElement(me.a,null,r.a.createElement($.a,{color:"inherit","aria-label":"open drawer",onClick:function(){e.setDOpen(!0)},edge:"start",className:Object(ha.a)(a.menuButton,Object(k.a)({},a.hide,e.dOpen))},r.a.createElement(Un.a,{color:"primary"})),r.a.createElement("img",{src:Ra.a,alt:"logo",onClick:W,className:a.mobileTitle}),r.a.createElement(f.a,{className:a.titleButton,onClick:W},r.a.createElement(C.a,{className:a.title,variant:"h5",noWrap:!0},"Ellipse")),r.a.createElement("div",{className:a.grow}),r.a.createElement(C.a,{variant:"h5",noWrap:!0},e.event.name),r.a.createElement("div",{className:a.grow}),r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement($.a,{onClick:function(){e.handleHomeClick()}},r.a.createElement(Se.a,null)),r.a.createElement($.a,{"aria-label":"notifications",color:"inherit",onClick:function(){O(!0)}},r.a.createElement(X.a,{badgeContent:0,color:"secondary"},r.a.createElement(he.a,null))),r.a.createElement($.a,{edge:"end","aria-label":"account of current user","aria-controls":z,"aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit"},r.a.createElement(ke.a,null))))),_,r.a.createElement(Ba,{open:y,handleClose:function(){O(!1)}}))}var Yn=t(723),Kn=t(727),Xn=t(726),Zn=t(722),Qn=t(724),$n=t(743),er=t(725);function ar(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}function tr(e){var a=Object(We.a)(),t=localStorage.getItem("token"),n=r.a.useState(null),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(null),s=Object(d.a)(c,2),g=s[0],h=s[1],E=r.a.useState("All"),v=Object(d.a)(E,2),O=v[0],j=v[1],C=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),k=Object(d.a)(C,2),x=k[0],S=k[1],w=r.a.useState(!1),N=Object(d.a)(w,2),D=N[0],I=N[1],_=x.vertical,W=x.horizontal,B=x.open,F=x.message,R=x.type,A=x.autoHide;var H=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(Object(u.a)(Object(u.a)({},x),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:_,horizontal:W},open:B,autoHideDuration:A,onClose:H,key:_+W},r.a.createElement(ar,{onClose:H,severity:R},F)),r.a.createElement(Ie.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Te.a,{id:"form-dialog-title"},"Add Announcement"),r.a.createElement(De.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",name:"title",fullWidth:!0,value:o,required:!0,onChange:function(e){i(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{autoFocus:!0,margin:"dense",id:"description",label:"Description",name:"description",fullWidth:!0,value:g,required:!0,onChange:function(e){h(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(fn.a,{component:"legend"},"Announcement visibility"),r.a.createElement(bt.a,{"aria-label":"address",name:"address",value:O,onChange:function(e,a){console.log(a),j(a)},style:{display:"inline"}},r.a.createElement(P.a,{value:"All",control:r.a.createElement(ht.a,{color:"default"}),label:"All"}),r.a.createElement(P.a,{value:"Registered Users",control:r.a.createElement(ht.a,{color:"default"}),label:"Registered Users"}))))),r.a.createElement(Ne.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){console.log(O);var a=!0;"All"!==O&&(a=!1);try{var n=new FormData,r={event_id:e.id,title:o,description:g,visible_all:a};n=JSON.stringify(r),console.log(n),fetch("https://ellipseapp.com/api/event/add_announcement",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:n}).then((function(e){console.log(e),e.json().then((function(e){console.log(e),I(!1),S({open:!0,vertical:"top",horizontal:"center",message:"Added successfully",type:"success",autoHide:2e3})}))}))}catch(l){I(!1),S({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error",autoHide:6e3})}e.handleClose()},disabled:D,color:"primary"},D?r.a.createElement(z.a,{color:"primary",size:24}):"Add"))))}function nr(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}function rr(e){var a=Object(We.a)(),t=localStorage.getItem("token"),n=r.a.useState(null),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(null),s=Object(d.a)(c,2),g=s[0],h=s[1],E=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),v=Object(d.a)(E,2),O=v[0],j=v[1],C=r.a.useState(!1),k=Object(d.a)(C,2),x=k[0],S=k[1],w=O.vertical,N=O.horizontal,D=O.open,I=O.message,_=O.type,W=O.autoHide;var B=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(Object(u.a)(Object(u.a)({},O),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:w,horizontal:N},open:D,autoHideDuration:W,onClose:B,key:w+N},r.a.createElement(nr,{onClose:B,severity:_},I)),r.a.createElement(Ie.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Te.a,{id:"form-dialog-title"},"Content for your Email"),r.a.createElement(De.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",name:"title",fullWidth:!0,value:o,required:!0,onChange:function(e){i(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",required:!0,id:"content",name:"content",label:"Content",fullWidth:!0,onChange:function(e){h(e.target.value)},value:g||""})))),r.a.createElement(Ne.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){try{var a=new FormData,n={event_id:e.id,title:o,content:g,emails:e.emails};a=JSON.stringify(n),console.log(a),fetch("https://ellipseapp.com/api/event/sendemail",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){e.json().then((function(e){S(!1),j({open:!0,vertical:"top",horizontal:"center",message:"Added successfully",type:"success",autoHide:2e3})}))}))}catch(r){S(!1),j({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:6e3})}e.handleClose()},disabled:x,color:"primary"},x?r.a.createElement(z.a,{color:"primary",size:24}):"Send"))))}var lr=Object(x.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.palette.secondary.main},buttonsPaper:{backgroundColor:e.palette.primary.light,padding:e.spacing(3),height:140},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140},button:{margin:e.spacing(1),borderRadius:e.spacing(5)}}}));function or(e){var a=lr(),t=r.a.useState(0),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(10),c=Object(d.a)(i,2),s=c[0],m=c[1],u=localStorage.getItem("token"),p=r.a.useState([]),g=Object(d.a)(p,2),h=g[0],b=g[1],E=r.a.useState([]),v=Object(d.a)(E,2),O=v[0],j=v[1],k=r.a.useState([]),x=Object(d.a)(k,2),S=x[0],w=x[1],N=r.a.useState(!1),D=Object(d.a)(N,2),T=D[0],I=D[1],z=r.a.useState(!1),_=Object(d.a)(z,2),W=_[0],B=_[1],P=e.event;r.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event/registeredEvents?id=".concat(P._id),{headers:{Authorization:"Bearer ".concat(u),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){if(e.length>0){var a=e[0].data;Object.keys(a).forEach((function(e){b((function(a){return[].concat(Object(Me.a)(a),[{id:e,label:e,minWidth:170}])}))})),e.forEach((function(e){j((function(a){return[].concat(Object(Me.a)(a),[e.data])}))}))}}))}))}),[u,P._id]);return r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(rr,{open:W,emails:S,handleClose:function(){B(!1)}}),r.a.createElement(tr,{open:T,id:P._id,handleClose:function(){I(!1)}}),r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:9},r.a.createElement(re.a,{className:a.buttonsPaper},r.a.createElement(f.a,{variant:"outlined",onClick:function(){I(!0)},className:a.button},"Add Announcement"),r.a.createElement(f.a,{variant:"contained",onClick:function(){console.log(S),B(!0)},className:a.button},"Send Emails to Selected"))),r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(re.a,{className:a.fixedHeightPaper},r.a.createElement(C.a,null,"Total Registrations"),r.a.createElement(C.a,{component:"p",variant:"h4"},O.length))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(re.a,{className:a.paper},r.a.createElement(Zn.a,{className:a.container},r.a.createElement(Yn.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(Qn.a,null,r.a.createElement(er.a,null,r.a.createElement(Xn.a,{padding:"checkbox"},r.a.createElement(F.a,{color:"default",checked:O.length>0&&S.length===O.length,onChange:function(e){if(e.target.checked){var a=O.map((function(e){return e.Email}));w(a)}else w([])},indeterminate:S.length>0&&S.length<O.length,inputProps:{"aria-label":"select all fields"}})),h.map((function(e){return r.a.createElement(Xn.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(Kn.a,null,O.slice(l*s,l*s+s).map((function(e){var a,t=(a=e.Email,-1!==S.indexOf(a));return r.a.createElement(er.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.Email,onClick:function(a){return function(e,a){console.log(a);var t=S.indexOf(a),n=[];-1===t?n=n.concat(S,a):0===t?n=n.concat(S.slice(1)):t===S.length-1?n=n.concat(S.slice(0,-1)):t>0&&(n=n.concat(S.slice(0,t),S.slice(t+1))),w(n)}(0,e.Email)},selected:t},r.a.createElement(Xn.a,{padding:"checkbox"},r.a.createElement(F.a,{checked:t,color:"default",inputProps:{"aria-label":"select all fields"}})),h.map((function(a){var t=e[a.id];return r.a.createElement(Xn.a,{key:a.id,align:a.align},a.format&&"number"===typeof t?a.format(t):t)})))}))))),r.a.createElement($n.a,{rowsPerPageOptions:[10,25,100],component:"div",count:O.length,rowsPerPage:s,page:l,onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){m(+e.target.value),o(0)}}))))}var ir=Object(x.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{backgroundColor:e.palette.background.paper,borderRadius:e.spacing(1),textDecorationColor:e.palette.secondary.light,maxWidth:"65%",minWidth:"20%",overflow:"auto"},root3:{display:"flex",justifyContent:"flex-end",minWidth:e.spacing(30)},root6:{display:"flex",justifyContent:"center"},topBar:{},root4:{marginRight:e.spacing(.5)},root5:{marginLeft:e.spacing(.5),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},textField:{zIndex:"100",position:"fixed",bottom:"0px"}}}));function cr(e){e.children;var a=e.value,t=(e.url,e.index),n=Object(Le.a)(e,["children","value","url","index"]),l=e.user,o=localStorage.getItem("token"),i=e.event,c=e.open,s=r.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1],f=r.a.useState(!1),h=Object(d.a)(f,2),b=h[0],E=h[1],y=r.a.useState(null),O=Object(d.a)(y,2),j=O[0],k=O[1],x=r.a.useState([]),S=Object(d.a)(x,2),w=S[0],N=S[1],D=ir(),T=null,I=r.a.useState(null),_=Object(d.a)(I,2),W=_[0],B=_[1],P=function(){var e=new WebSocket("wss://ellipseapp.com/ws/");e.onopen=function(){console.log("connected"),B(e),e.onmessage=function(e){var a=JSON.parse(e.data),t=a.msg;a.event_id===i._id&&N((function(e){return[].concat(Object(Me.a)(e),[t])}))},E(!1)},e.onclose=function(){F(),console.log("closed")}};r.a.useEffect((function(){return E(!0),fetch("https://ellipseapp.com"+"/api/chat/load_messages?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){console.log(e),N(e),P()}))})),null!=j&&j.scrollIntoView({behavior:"smooth"}),function(){N([]),Object(qe.a)()}}),[i._id,o]),r.a.useEffect((function(){null!=j&&j.scrollIntoView({behavior:"smooth"})}),[b]),r.a.useEffect((function(){return null!=j&&j.scrollIntoView({behavior:"smooth"}),function(){Object(qe.a)()}}),[w,j]);var F=function(){W&&W.readyState!==WebSocket.readyState||(console.log("checking"),P())};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==t},n),a===t&&r.a.createElement("div",null,r.a.createElement("div",{className:D.progress},r.a.createElement(Sa.a,{in:b,unmountOnExit:!0},r.a.createElement(z.a,null))),r.a.createElement(Ie.a,{onClose:function(){p(!1)},"aria-labelledby":"simple-dialog-title",open:u},r.a.createElement(Oa.a,null,r.a.createElement(oa.a,{button:!0},r.a.createElement(ma.a,null,r.a.createElement(g.a,null,r.a.createElement(xa.a,null))),r.a.createElement(ia.a,{primary:"Reply"})),r.a.createElement(oa.a,{autoFocus:!0,button:!0},r.a.createElement(ma.a,null,r.a.createElement(g.a,null,r.a.createElement(Ca.a,null))),r.a.createElement(ia.a,{primary:"Delete"})))),r.a.createElement(v.a,{className:D.topBar},w.map((function(e,a){var t=new Date,n=new Date(e.date);return n.toDateString()!==T?(T=n.toDateString(),e.user_id===l.user_id?r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(v.a,{m:1,p:1,key:a,position:"sticky",className:D.root6},r.a.createElement(C.a,{variant:"body2"},t.toDateString()===n.toDateString()?"Today":n.toDateString())),r.a.createElement(v.a,{m:1,p:1,key:a+1,className:D.root3},r.a.createElement(v.a,{className:D.root2,whiteSpace:"normal",onClick:function(){return p(!1)}},r.a.createElement(ga,{message:e})),r.a.createElement(v.a,{className:D.root5},r.a.createElement(g.a,{alt:e.userName,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{m:1,p:1,key:a,className:D.root6},r.a.createElement(C.a,{variant:"body2"},t.toDateString()===n.toDateString()?"Today":n.toDateString())),r.a.createElement(v.a,{m:1,key:a,className:D.root},r.a.createElement(v.a,{className:D.root4},r.a.createElement(g.a,{alt:e.userName,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:D.root2,whiteSpace:"normal"},r.a.createElement(ga,{message:e}))))):e.user_id===l.user_id?r.a.createElement(v.a,{m:1,p:1,key:a,className:D.root3},r.a.createElement(v.a,{className:D.root2,onClick:function(){return p(!1)},whiteSpace:"normal"},r.a.createElement(ga,{message:e})),r.a.createElement(v.a,{className:D.root5},r.a.createElement(g.a,{alt:e.userName,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.user_pic)}))):r.a.createElement(v.a,{m:1,key:a,className:D.root},r.a.createElement(v.a,{className:D.root4},r.a.createElement(g.a,{alt:e.userName,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:D.root2,whiteSpace:"normal"},r.a.createElement(ga,{message:e})))})),r.a.createElement("div",{style:{float:"left",clear:"both",paddingBottom:"60px"},ref:function(e){k(e)}}),r.a.createElement("div",{className:D.textField},r.a.createElement(ya,{loading:b,open:c,handleSend:function(e){var a=new Date;W.send(JSON.stringify({action:"send_message",event_id:i._id,msg:{id:l.user_id+Date.now(),user_id:l.user_id,user_name:l.name,user_pic:l.profile_pic,message:e,date:a.toISOString()}})),null!=j&&j.scrollIntoView({behavior:"smooth"})}})))))}function sr(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}var mr=Object(x.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",borderRadius:30},avatar:{backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ur=Object(c.g)((function(e){var a=e.event,t=mr(),n=r.a.useState(!1),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error"}),s=Object(d.a)(c,2),g=s[0],E=s[1],v=r.a.useState(null),O=Object(d.a)(v,2),j=O[0],C=O[1],k=r.a.useState(null),x=Object(d.a)(k,2),S=x[0],w=x[1],N=r.a.useState(null),D=Object(d.a)(N,2),I=D[0],_=D[1],W=r.a.useState(null),B=Object(d.a)(W,2),F=B[0],A=B[1],H=r.a.useState(null),M=Object(d.a)(H,2),L=M[0],q=M[1],G=r.a.useState(null),U=Object(d.a)(G,2),V=U[0],Z=U[1],ee=r.a.useState(null),ae=Object(d.a)(ee,2),te=ae[0],ne=ae[1],re=r.a.useState([]),le=Object(d.a)(re,2),oe=le[0],ie=le[1],ce=r.a.useState(null),se=Object(d.a)(ce,2),me=se[0],ue=se[1],pe=r.a.useState(null),de=Object(d.a)(pe,2),ge=de[0],fe=de[1],he=r.a.useState(null),be=Object(d.a)(he,2),Ee=be[0],ve=be[1],ye=r.a.useState([]),Oe=Object(d.a)(ye,2),je=Oe[0],Ce=Oe[1],ke=r.a.useState("Free"),xe=Object(d.a)(ke,2),Se=xe[0],Ne=xe[1],De=r.a.useState(null),Te=Object(d.a)(De,2),Ie=Te[0],ze=Te[1],_e=r.a.useState(null),We=Object(d.a)(_e,2),Be=We[0],Pe=We[1],Fe=r.a.useState(null),Re=Object(d.a)(Fe,2),Ae=Re[0],He=Re[1],Le=r.a.useState("open"),qe=Object(d.a)(Le,2),Ue=qe[0],Ve=qe[1],Je=r.a.useState(null),Ye=Object(d.a)(Je,2),Ke=Ye[0],Xe=Ye[1],Ze=r.a.useState(null),Qe=Object(d.a)(Ze,2),$e=Qe[0],ea=Qe[1],aa=r.a.useState(!1),ta=Object(d.a)(aa,2),na=ta[0],ra=ta[1],la=r.a.useState(null),oa=Object(d.a)(la,2),ia=oa[0],ca=oa[1],sa=r.a.useState(null),ma=Object(d.a)(sa,2),ua=ma[0],pa=ma[1],da=g.vertical,ga=g.horizontal,fa=g.open,ha=g.message,ba=g.type,Ea=r.a.useState([]),va=Object(d.a)(Ea,2),ya=va[0],Oa=va[1],ja=r.a.useState([]),Ca=Object(d.a)(ja,2),ka=Ca[0],xa=Ca[1],Sa=localStorage.getItem("token"),wa=["Hackathon","Coding Contest","Webinar"];r.a.useEffect((function(){fetch("https://ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(Sa),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){Oa(e),e.forEach((function(e){xa((function(a){return[].concat(Object(Me.a)(a),[e.name])}))}))}))}))}),[Sa]);r.a.useEffect((function(){ie(a.tags),ne(a.event_type),C(a.name),w(a.description),_(a.start_time),A(a.finish_time),q(a.registration_end_time),Z(a.event_mode),ue(a.reg_link),ve(a.about),fe(a.fees),Ce(a.requirements),Ne(a.fee_type),ze(a.college_name),Pe(a.reg_mode),He(a.organizer),ca(a.venue),pa(a.venue_college),!0===a.o_allowed?Ve("open"):Ve("onlycollege")}),[Sa,a]);var Na=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Saved changes successfully"===ha&&window.location.reload(!1),E(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();function Da(){return(Da=Object(p.a)(m.a.mark((function e(t){var n,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(!0),n=!1,"open"===Ue&&(n=!0);try{new FormData,l={eventId:a._id,name:j,description:S,start_time:I,finish_time:F,registration_end_time:L,event_mode:V,event_type:te,tags:oe,reg_link:me,fee:ge,about:Ee,fee_type:Se,college:Ie,organizer:Ae,requirements:je,o_allowed:n,reg_mode:Be,venue:ia,venue_college:ua},r=JSON.stringify(l),fetch("https://ellipseapp.com/api/updateevent",{headers:{Authorization:"Bearer ".concat(Sa),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:r}).then((function(e){200===e.status?e.json().then((function(e){if(a=e.event,na){var t=new FormData;t.append("image",Ke),fetch("https://ellipseapp.com"+"/api/event/uploadimage?id=".concat(a._id),{headers:{Authorization:"Bearer ".concat(Sa)},method:"POST",body:t}).then((function(e){200===e.status&&(i(!1),E({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else i(!1),E({open:!0,vertical:"top",horizontal:"center",message:"Saved changes successfully",type:"success"})})):e.json().then((function(e){console.log(e),i(!1),E({open:!0,vertical:"top",horizontal:"center",message:e,type:"error"})}))}))}catch(o){i(!1),E({open:!0,vertical:"top",horizontal:"center",message:o.message,type:"error"})}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(R.a,{component:"main",maxWidth:"lg"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:da,horizontal:ga},open:fa,autoHideDuration:6e3,onClose:Na,key:da+ga},r.a.createElement(sr,{onClose:Na,severity:ba},ha)),r.a.createElement("div",{className:t.paper},r.a.createElement("form",{className:t.form,novalidate:!0,onSubmit:function(e){return Da.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement("input",{id:"contained-button-file",type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){Xe(e.target.files[0]);var a=URL.createObjectURL(e.target.files[0]);ea(a),ra(!0)}},style:{display:"none"}}),r.a.createElement(X.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement($.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(Q.a,null)))},r.a.createElement("img",{height:"160",width:"150",alt:"poster",src:na?$e:"https://ellipseapp.com"+"/api/image?id=".concat(a.poster_url)}))),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(b.a,{autoComplete:"off",id:"eventName",name:"eventName",label:"Event name",value:j||"",onChange:function(e){C(e.target.value)},fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(b.a,{autoComplete:"off",id:"shortdesc",name:"shortdesc",label:"Short Description",fullWidth:!0,value:S||"",onChange:function(e){w(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:4},r.a.createElement(gt.a,{utils:dt.a},r.a.createElement(gn.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Event Start Date",name:"startDate",value:I,onChange:function(e){_(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:4},r.a.createElement(gt.a,{utils:dt.a},r.a.createElement(gn.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"endDate",label:"Event End Date",name:"endDate",value:F,onChange:function(e){A(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,lg:4},r.a.createElement(gt.a,{utils:dt.a},r.a.createElement(gn.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"regEndDate",label:"Registration End Date",name:"regEndDate",value:L,onChange:function(e){q(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(Y.a,{htmlFor:"outlined-age-native-simple"},"Event Mode"),r.a.createElement(J.a,{fullWidth:!0,native:!0,label:"Event Mode",value:V||"",onChange:function(e){Z(e.target.value)},inputProps:{name:"eventMode",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Online"},"Online"),r.a.createElement("option",{value:"Offline"},"Offline")))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(we.a,{fullWidth:!0,id:"combo-box-demo",options:wa,getOptionLabel:function(e){return e},value:te||"",onChange:function(e,a){ne(a)},renderInput:function(e){return r.a.createElement(b.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Event Type"}))}})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(we.a,{multiple:!0,id:"tags-filled",options:wa.map((function(e){return e})),freeSolo:!0,value:oe||[],onChange:function(e,a){ie(a)},renderTags:function(e,a){return e.map((function(e,t){return r.a.createElement(Ge.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return r.a.createElement(b.a,Object.assign({},e,{label:"Event Themes",placeholder:"Event Themes"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(fn.a,{component:"legend"},"Entry Fee"),r.a.createElement(bt.a,{"aria-label":"address",name:"address",value:Se||"",onChange:function(e,a){Ne(a)},style:{display:"inline"}},r.a.createElement(P.a,{value:"Free",control:r.a.createElement(ht.a,{color:"default"}),label:"Free"}),r.a.createElement(P.a,{value:"Paid",control:r.a.createElement(ht.a,{color:"default"}),label:"Paid"}))),"form"!==Be&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(b.a,{autoComplete:"off",id:"regLink",name:"regLink",label:"Registration Link",fullWidth:!0,value:me||"",onChange:function(e){ue(e.target.value)}})),"Paid"===Se&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(b.a,{autoComplete:"off",id:"regFees",name:"regFees",value:ge||"",label:"Registration Fees",onChange:function(e){fe(e.target.value)},fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(we.a,{fullWidth:!0,disabled:!0,id:"combo-box-demo",options:ya,getOptionLabel:function(e){return e},value:Ie||"",onChange:function(e,a){ze(a)},renderInput:function(e){return r.a.createElement(b.a,Object.assign({fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(K.a,{fullWidth:!0},r.a.createElement(Y.a,{htmlFor:"outlined-age-native-simple"},"Registration"),r.a.createElement(J.a,{fullWidth:!0,native:!0,disabled:!0,label:"Registration",inputProps:{name:"registrationMode",id:"outlined-age-native-simple"},value:Be||""},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"form"},"Our Platform(Ellipse)"),r.a.createElement("option",{value:"link"},"Other")))),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(we.a,{multiple:!0,id:"tags-filled",options:["Laptop","Basic HTML","C++","Machine Learning"].map((function(e){return e})),freeSolo:!0,value:je,onChange:function(e,a){Ce(a)},renderTags:function(e,a){return e.map((function(e,t){return r.a.createElement(Ge.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return r.a.createElement(b.a,Object.assign({},e,{label:"Requirements",placeholder:"Requirements"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(fn.a,{component:"legend"},"Participation"),r.a.createElement(bt.a,{name:"participanttype",value:Ue,onChange:function(e,a){Ve(a)},style:{display:"inline"}},r.a.createElement(P.a,{value:"open",control:r.a.createElement(ht.a,{color:"default"}),label:"Open for all"}),r.a.createElement(P.a,{value:"onlycollege",control:r.a.createElement(ht.a,{color:"default"}),label:"Only ".concat(Ie)}))),"Offline"===V&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(fn.a,{component:"legend"},"Address"),r.a.createElement(bt.a,{disabled:!0,"aria-label":"address",name:"address",defaultValue:"College/University",onChange:function(e,a){},style:{display:"inline"}},r.a.createElement(P.a,{disabled:!0,value:"College/University",control:r.a.createElement(ht.a,{color:"default"}),label:"College/University"}),r.a.createElement(P.a,{disabled:!0,value:"Other",control:r.a.createElement(ht.a,{color:"default"}),label:"Others"}))),"Offline"===V&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(b.a,{autoComplete:"off",value:ia||"",onChange:function(e){ca(e.target.value)},id:"building",name:"building",label:"Room No & Building",fullWidth:!0})),"Offline"===V&&r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(we.a,{fullWidth:!0,id:"combo-box-demo",options:ka,value:ua,getOptionLabel:function(e){return e},onChange:function(e,a){pa(a)},renderInput:function(e){return r.a.createElement(b.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Venue College"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",value:Ee||"",id:"about",name:"about",label:"About",fullWidth:!0}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:o,className:t.submit},o?r.a.createElement(z.a,{color:"primary",size:24}):"Save Changes"))))})),pr=Object(x.a)((function(e){var a;return{root:{display:"flex"},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),backgroundColor:e.palette.secondary.main},drawerClose:(a={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(k.a)(a,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(k.a)(a,"backgroundColor",e.palette.secondary.main),a),toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:Object(k.a)({flexGrow:1},e.breakpoints.up("md"),{padding:e.spacing(3)})}}));function dr(e){var a,t,n=pr(),l=Object(We.a)(),o=localStorage.getItem("token"),i=e.match.params.eventId,c=r.a.useState(!1),s=Object(d.a)(c,2),m=s[0],u=s[1],p=r.a.useState({}),g=Object(d.a)(p,2),f=g[0],b=g[1],E=r.a.useState(!1),v=Object(d.a)(E,2),y=v[0],O=v[1],j=r.a.useState({}),C=Object(d.a)(j,2),x=C[0],S=C[1],w=r.a.useState({infoSelected:!0,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1}),N=Object(d.a)(w,2),D=N[0],T=N[1];r.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event?id=".concat(i),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){b(e.event)}))}))}),[o,i]),console.log(y),r.a.useEffect((function(){void 0!==f.user_id&&void 0!==x.user_id&&f.user_id===x.user_id&&O(!0)}),[x,f]);var I=D.infoSelected,z=D.dashBoardSelected,_=D.timilineSelected,W=D.announcementSelected,B=D.settingsSelected,P=D.editEventSelected,F=D.chatSelected;return r.a.createElement("div",{className:n.root},r.a.createElement(h.a,null),r.a.createElement(Jn,{event:f,handleSignout:function(){e.history.replace("/")},handleHomeClick:function(){e.history.push("/home")},setUser:S,dOpen:m,setDOpen:u}),r.a.createElement(In.a,{variant:"permanent",className:Object(ha.a)(n.drawer,(a={},Object(k.a)(a,n.drawerOpen,m),Object(k.a)(a,n.drawerClose,!m),a)),classes:{paper:Object(ha.a)((t={},Object(k.a)(t,n.drawerOpen,m),Object(k.a)(t,n.drawerClose,!m),t))}},r.a.createElement("div",{className:n.toolbar},r.a.createElement($.a,{onClick:function(){u(!1)}},"rtl"===l.direction?r.a.createElement(Bn.a,{color:"primary"}):r.a.createElement(_n.a,{color:"primary"}))),r.a.createElement(_a.a,null),r.a.createElement(Oa.a,null,r.a.createElement(oa.a,{button:!0,onClick:function(){T({infoSelected:!0,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1})},selected:I},r.a.createElement(pt.a,null,r.a.createElement(sa.a,{color:"primary"})),r.a.createElement(ia.a,{primary:"About"})),r.a.createElement(oa.a,{button:!0,onClick:function(){T({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!0,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1})},selected:_},r.a.createElement(pt.a,null,r.a.createElement(Mn.a,{color:"primary"})),r.a.createElement(ia.a,{primary:"Schedule"})),r.a.createElement(oa.a,{button:!0,onClick:function(){T({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!0,settingsSelected:!1,editEventSelected:!1,chatSelected:!1})},selected:W},r.a.createElement(pt.a,null,r.a.createElement(qn.a,{color:"primary"})),r.a.createElement(ia.a,{primary:"Announcements"})),r.a.createElement(oa.a,{button:!0,onClick:function(){T({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!0})},selected:F},r.a.createElement(pt.a,null,r.a.createElement(Fn.a,{color:"primary"})),r.a.createElement(ia.a,{primary:"Chat"}))),r.a.createElement(_a.a,null),y&&r.a.createElement(Oa.a,null,r.a.createElement(oa.a,{button:!0,onClick:function(){T({infoSelected:!1,dashBoardSelected:!0,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1})},selected:z},r.a.createElement(pt.a,null,r.a.createElement(An.a,{color:"primary"})),r.a.createElement(ia.a,{primary:"Dashboard"})),r.a.createElement(oa.a,{button:!0,onClick:function(){T({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!0,chatSelected:!1})},selected:P},r.a.createElement(pt.a,null,r.a.createElement(Q.a,{color:"primary"})),r.a.createElement(ia.a,{primary:"Edit Event"})),r.a.createElement(oa.a,{button:!0,onClick:function(){T({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!0,editEventSelected:!1,chatSelected:!1})},selected:B},r.a.createElement(pt.a,null,r.a.createElement(ke.a,{color:"primary"})),r.a.createElement(ia.a,{primary:"Settings"})))),r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),I&&null!=f&&r.a.createElement(Ve,{event:f}),P&&null!=f&&r.a.createElement(ur,{event:f}),_&&null!=f&&r.a.createElement(na,{event:f}),z&&null!=f&&r.a.createElement(or,{event:f}),F&&null!=f&&r.a.createElement("div",{className:n.chat},r.a.createElement(cr,{user:x,open:m,event:f})),W&&null!=f&&r.a.createElement(la,{event:f})))}function gr(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}var fr=Object(c.g)((function(e){var a=B(),t=localStorage.getItem("token"),n=r.a.useContext(fa),l=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:6e3}),o=Object(d.a)(l,2),i=o[0],c=o[1],s=r.a.useState(null),m=Object(d.a)(s,2),p=m[0],g=m[1],E=r.a.useState(!1),O=Object(d.a)(E,2),j=O[0],x=O[1],S=r.a.useState([]),w=Object(d.a)(S,2),N=w[0],I=w[1],_=r.a.useState([]),W=Object(d.a)(_,2),A=W[0],H=W[1],M=r.a.useState([]),L=Object(d.a)(M,2),q=L[0],G=L[1],U=r.a.useState([]),V=Object(d.a)(U,2),J=V[0],Y=V[1],X=r.a.useState([]),Z=Object(d.a)(X,2),Q=Z[0],ee=Z[1],ae=r.a.useState([]),te=Object(d.a)(ae,2),re=te[0],le=te[1],oe=r.a.useState([]),ie=Object(d.a)(oe,2),ce=ie[0],se=ie[1],me=i.vertical,ue=i.horizontal,pe=i.open,de=i.message,ge=i.type,fe=i.autoHide,he=e.match.params.eventId,be=r.a.useState(!0),Ee=Object(d.a)(be,2),ve=Ee[0],ye=Ee[1],Oe=r.a.useState(null),je=Object(d.a)(Oe,2),Ce=je[0],ke=je[1],xe=r.a.useState([]),Se=Object(d.a)(xe,2),Ne=Se[0],De=Se[1],Te=["VIT University,Vellore","GITAM University","SRM University"];function Ie(){"Registered successfully"===de&&(e.history.push("/home"),window.location.reload(!1)),c(Object(u.a)(Object(u.a)({},i),{},{open:!1}))}function ze(e){g(Object(u.a)(Object(u.a)({},p),{},Object(k.a)({},e.target.name,e.target.value)))}r.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event?id=".concat(he),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){console.log(e),e.json().then((function(e){ke(e.event);var a=e.event.reg_fields;console.log(a),null!=a&&(a.forEach((function(e){"Name"===e.title?g((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(k.a)({},e.title,n.name))})):"Email"===e.title?g((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(k.a)({},e.title,n.email))})):"College"===e.title?g((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(k.a)({},e.title,n.college_name))})):g((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(k.a)({},e.title,null))})),e.field})),I(a.filter((function(e){return"short_text"===e.field}))),le(a.filter((function(e){return"paragraph"===e.field}))),G(a.filter((function(e){return"checkboxes"===e.field}))),Y(a.filter((function(e){return"radiobuttons"===e.field}))),ee(a.filter((function(e){return"date"===e.field}))),H(a.filter((function(e){return"dropdown"===e.field}))),se(a.filter((function(e){return"link"===e.field})))),ye(!1)}))}))}),[t,he,n]);var _e=function(e){g(Object(u.a)(Object(u.a)({},p),{},Object(k.a)({},e.target.name,e.target.value)))};function We(e,a){g(Object(u.a)(Object(u.a)({},p),{},Object(k.a)({},e.target.name,a)))}return r.a.createElement(R.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:me,horizontal:ue},open:pe,autoHideDuration:fe,onClose:Ie,key:me+ue},r.a.createElement(gr,{onClose:Ie,severity:ge},de)),r.a.createElement(ne.a,{className:a.backdrop,open:ve},r.a.createElement(z.a,{color:"inherit"})),r.a.createElement($.a,{"aria-label":"close",className:a.closeButton,onClick:function(){e.history.goBack()}},r.a.createElement(Pe.a,{fontSize:"large"})),null!=Ce&&r.a.createElement("div",{className:a.paper},r.a.createElement(C.a,{component:"h1",variant:"h5"},"Registration for "+Ce.name),r.a.createElement("form",{className:a.form,onSubmit:function(e){e.preventDefault(),console.log(p),Object.keys(p).forEach((function(e){null===p[e]&&c({open:!0,vertical:"top",horizontal:"center",message:"Please fill in all fields",type:"error",autoHide:4e3})}));try{var a=new FormData,n={data:p};a=JSON.stringify(n),fetch("https://ellipseapp.com"+"/api/event/register?id=".concat(he),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){console.log(e),e.json().then((function(e){console.log(e),x(!1),c({open:!0,vertical:"top",horizontal:"center",message:"Registered successfully",type:"success",autoHide:200})}))}))}catch(r){x(!1),c({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:6e3})}}},r.a.createElement(y.a,{container:!0,spacing:2},N.map((function(e,a){return"College"===e.title?r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(we.a,{fullWidth:!0,id:e.title,options:Te,getOptionLabel:function(e){return e},onChange:ze,value:p[e.title],disabled:!0,renderInput:function(a){return r.a.createElement(b.a,Object.assign({name:e.title,fullWidth:!0,required:!0},a,{label:e.title}))}})):"Email"===e.title?r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{autoComplete:"off",name:e.title,disabled:!0,required:!0,fullWidth:!0,id:e.title,onChange:ze,value:p[e.title],label:e.title,autoFocus:!0})):r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{autoComplete:"off",name:e.title,required:!0,fullWidth:!0,id:e.title,onChange:ze,value:p[e.title],label:e.title,autoFocus:!0}))})),q.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(K.a,{component:"fieldset",className:a.formControl},r.a.createElement(fn.a,{component:"legend"},e.title),r.a.createElement(Cn.a,{class:a.formgroup},e.options.map((function(a){return r.a.createElement(P.a,{control:r.a.createElement(F.a,{color:"primary",onChange:(t=e.title,function(e){if(e.target.checked){De((function(a){return[].concat(Object(Me.a)(a),[Object(k.a)({},t,e.target.name)])}));var a=[];Ne.forEach((function(e,n){e[t]&&a.push(e[t])})),a.push(e.target.name),g(Object(u.a)(Object(u.a)({},p),{},Object(k.a)({},t,a)))}}),name:a}),label:a});var t})))))})),A.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(we.a,{id:e.title,options:e.options.map((function(e){return e})),onChange:(t=e.title,function(e,a){g(Object(u.a)(Object(u.a)({},p),{},Object(k.a)({},t,a)))}),renderTags:function(e,a){return e.map((function(e,t){return r.a.createElement(Ge.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(a){return r.a.createElement(b.a,Object.assign({},a,{name:e.name,label:e.title,placeholder:e.name}))}}));var t})),J.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(fn.a,{required:!0,component:"legend"},e.title),r.a.createElement(bt.a,{required:!0,"aria-label":"address",name:e.title,value:p[e.title],onChange:We,style:{display:"inline"}},e.options.map((function(e){return r.a.createElement(P.a,{value:e,control:r.a.createElement(ht.a,{color:"default"}),label:e})}))))})),Q.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(gt.a,{utils:dt.a},r.a.createElement(gn.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Start Date",name:"startDate",value:p[e.title],onChange:(t=e.title,function(e){g(Object(u.a)(Object(u.a)({},p),{},Object(k.a)({},t,e)))}),KeyboardButtonProps:{"aria-label":"change date"}})));var t})),re.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:e.title,autoComplete:"off",required:!0,id:e.title,name:e.title,label:e.title,fullWidth:!0,onChange:_e}))})),ce.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(b.a,{autoComplete:"off",name:e.title,required:!0,fullWidth:!0,id:e.title,onChange:ze,value:p[e.title],label:e.title,autoFocus:!0}))})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(P.a,{control:r.a.createElement(F.a,{color:"primary",name:"terms"}),label:"I accept the terms and conditions"}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:j,className:a.submit},j?r.a.createElement(z.a,{color:"primary",size:24}):"Register"))),r.a.createElement(v.a,{mt:2},r.a.createElement(D,null)))})),hr=Object(x.a)((function(e){var a,t;return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},accordion:{backgroundColor:e.palette.primary.light},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(k.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(k.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(t={borderRadius:e.spacing(50)},Object(k.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(k.a)(t,"backgroundColor",e.palette.primary.main),Object(k.a)(t,"color",e.palette.primary.light),t),fab:Object(k.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(k.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"}),content:{marginTop:e.spacing(3)}}}));var br=function(e){localStorage.setItem("tabIndex",2);var a=hr(),t=r.a.useState(!1),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState([]),c=Object(d.a)(i,2),s=c[0],m=c[1],u=r.a.useContext(za),p=r.a.useContext(Ha),h=u.filter((function(e){return!0===e.registered})),b=r.a.useState(0),E=Object(d.a)(b,2),v=E[0],O=E[1],j=u.filter((function(e){return new Date>new Date(e.finish_time)})),k=function(e){return function(){m(e)}},x=function(){e.history.push("/post")},S=function(e){return function(){m(e),o(!0)}};return r.a.createElement("div",null,r.a.createElement("div",{className:a.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(re.a,{className:a.root2},r.a.createElement(le.a,{value:v,onChange:function(e,a){O(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(oe.a,{label:"Registered Events"}),r.a.createElement(oe.a,{label:"Past Events"}))),r.a.createElement("div",{className:a.content},0===v&&r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:0},h.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,key:a},r.a.createElement(_t,{event:e,handleViewClick:k(e),name:e.name}))}))),1===v&&r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:0},j.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,alignItems:"center",key:a},r.a.createElement(_t,{event:e,handleViewClick:k(e),name:e.name}))}))))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2},r.a.createElement(Ua.a,{color:"primary","aria-label":"add",className:a.fab,onClick:x},r.a.createElement(Ja.a,null)),r.a.createElement(re.a,{className:a.rpaper},r.a.createElement(re.a,{className:a.subRpaper},r.a.createElement(f.a,{onClick:x,variant:"contained",fullWidth:!0,size:"large",className:a.postButton},"Post Event"),r.a.createElement(Oa.a,{className:a.sideList},r.a.createElement(C.a,{variant:"body2"},"Explore Events"),p.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(oa.a,{onClick:S(e),key:a,button:!0},r.a.createElement(ma.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(ia.a,{primary:e.name})),r.a.createElement(_a.a,null))}))))))),r.a.createElement("div",null,r.a.createElement(Ia,{open:l,event:s,handleClose:function(){o(!1)},name:s.name,startTime:s.start_time,endTime:s.finish_time,regEndTime:s.registrationEndTime,type:s.eventType,tags:s.tags,mode:s.eventMode,feeType:s.feesType}))))},Er=t(728),vr=Object(x.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:e.palette.primary.dark},body:{margin:e.spacing(3)},appbar:{backgroundColor:e.palette.secondary.main}}}));function yr(e){var a=localStorage.getItem("token"),t=vr(),n=e.match.params.eventId,l=r.a.useState({}),o=Object(d.a)(l,2),i=o[0],c=o[1],s=r.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1];a&&e.history.replace("/event/".concat(n));var g=function(){p(!1)};return r.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event?id=".concat(n),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){c(e.event)}))}))}),[n]),r.a.createElement("div",{className:t.root},r.a.createElement(se.a,{position:"static",className:t.appbar},r.a.createElement(me.a,null,r.a.createElement(C.a,{variant:"h5",className:t.title},"Ellipse"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){localStorage.setItem("eventid",n),e.history.push("/")}},"Login"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){localStorage.setItem("eventid",n),e.history.push("/signup")}},"Signup"))),r.a.createElement("div",{className:t.body},r.a.createElement(C.a,{align:"center",variant:"h4",style:{paddingBottom:"20px",paddingTop:"10px"}},i.name+"(Login to Register and Know More Info)"),r.a.createElement(Ve,{event:i}),r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){p(!0)}},"Register")),r.a.createElement(Ie.a,{open:u,maxWidth:"md",onClose:g,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(De.a,null,r.a.createElement(Er.a,{id:"alert-dialog-description"},"Login to Register for the Event/Contest")),r.a.createElement(Ne.a,null,r.a.createElement(f.a,{onClick:g,color:"primary",autoFocus:!0},"Dismiss"))))}var Or=t(317),jr=t(318),Cr=t(321),kr=t(320);var xr,Sr=(xr=function(){return r.a.createElement(G,null,r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:W}),r.a.createElement(c.b,{exact:!0,path:"/signin",component:W}),r.a.createElement(c.b,{exact:!0,path:"/signup",component:H}),r.a.createElement(c.b,{exact:!0,path:"/forgotpassword",component:L}),r.a.createElement(c.b,{exact:!0,path:"/userinfo",component:te}),r.a.createElement(c.b,{exact:!0,path:"/otpverification",component:V}),r.a.createElement(c.b,{exact:!0,path:"/un/event/:eventId",component:yr}),r.a.createElement(c.b,{exact:!0,path:"/event/:eventId",component:dr}),r.a.createElement(La,null,r.a.createElement(c.b,{path:"/home",component:Tt}),r.a.createElement(c.b,{exact:!0,path:"/events",component:Ka}),r.a.createElement(c.b,{exact:!0,path:"/post",component:Tn}),r.a.createElement(c.b,{exact:!0,path:"/profile",component:mn}),r.a.createElement(c.b,{exact:!0,path:"/event/register/:eventId",component:fr}),r.a.createElement(c.b,{exact:!0,path:"/yourevents",component:br}))))))},function(e){Object(Cr.a)(t,e);var a=Object(kr.a)(t);function t(){var e;Object(Or.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={isDisconnected:!1},e.handleConnectionChange=function(){if("online"!==(navigator.onLine?"online":"offline"))return e.setState({isDisconnected:!0});var a=setInterval((function(){fetch("//google.com",{mode:"no-cors"}).then((function(){e.setState({isDisconnected:!1},(function(){return clearInterval(a)}))})).catch((function(){return e.setState({isDisconnected:!0})}))}),2e3)},e}return Object(jr.a)(t,[{key:"componentDidMount",value:function(){this.handleConnectionChange(),window.addEventListener("online",this.handleConnectionChange),window.addEventListener("offline",this.handleConnectionChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.handleConnectionChange),window.removeEventListener("offline",this.handleConnectionChange)}},{key:"render",value:function(){var e=this.state.isDisconnected;return r.a.createElement("div",null,e&&r.a.createElement("div",{className:"internet-error"},r.a.createElement("p",null,"Internet connection lost")),r.a.createElement(xr,this.props))}}]),t}(n.Component)),wr=t(729),Nr=t(319),Dr=Object(Nr.a)({palette:{type:"dark",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#000000"},secondary:{main:"#1C1C1E"},background:{default:"#000000"}}}),Tr=Object(Nr.a)({palette:{type:"light",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#ffffff"},secondary:{main:"#e5e5e5"},background:{default:"#ffffff"}}}),Ir=localStorage.getItem("theme");o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(wr.a,{theme:"light"===Ir?Tr:Dr},r.a.createElement(h.a,null,r.a.createElement(Sr,null)))),document.getElementById("root"))}},[[344,1,2]]]);
//# sourceMappingURL=main.4a196477.chunk.js.map