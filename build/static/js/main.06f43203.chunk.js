(this.webpackJsonpellipsereactapp=this.webpackJsonpellipsereactapp||[]).push([[0],{190:function(e,t,a){e.exports=a.p+"static/media/logo.50ff3dd8.svg"},297:function(e,t,a){e.exports=a.p+"static/media/google-play-badge.1a0c1f51.png"},298:function(e,t,a){e.exports=a.p+"static/media/logo300.a7187bbb.svg"},320:function(e,t,a){e.exports=a.p+"static/media/certificate_sample.987b5a91.png"},355:function(e,t,a){e.exports=a(633)},632:function(e,t,a){},633:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),o=a.n(l),i=a(162),c=a(16),s=a(13),m=a.n(s),u=a(11),d=a(19),p=a(2),g=a(738),f=a(163),h=a(684),E=a(339),b=a(682),v=a(729),y=a(683),j=a(100),O=a.n(j),C=a(44),x=a(8),S=a(77),k=Object(S.a)((function(e){var t;return{root:{display:"flex",height:"100vh"},wrapper:{margin:e.spacing(1),position:"relative"},paperRight:Object(x.a)({margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(0),paddingBottom:e.spacing(4),borderRadius:30,height:"80vh"},e.breakpoints.down("sm"),{margin:e.spacing(0,1),paddingBottom:e.spacing(2)}),paperLeft:(t={margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},Object(x.a)(t,e.breakpoints.down("sm"),{margin:e.spacing(3,1)}),Object(x.a)(t,e.breakpoints.up("md"),{height:"80vh"}),t),paperimage:{margin:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center"},avatar:{margin:e.spacing(),marginTop:e.spacing(8),backgroundColor:e.palette.primary.main},form:Object(x.a)({width:"90%",margin:e.spacing(5)},e.breakpoints.down("sm"),{margin:e.spacing(2)}),submit:{margin:e.spacing(3,0,2)},iPhoneImage:Object(x.a)({},e.breakpoints.down("sm"),{display:"none"}),title:{fontFamily:"Gugi",color:e.palette.primary.dark,fontWeight:"bold"},hidden:Object(x.a)({},e.breakpoints.down("sm"),{display:"none"}),image:Object(x.a)({maxHeight:"600px",maxWidth:"600px"},e.breakpoints.down("sm"),{display:"none"})}})),w=a(297),N=a.n(w);var T=function(){return r.a.createElement(C.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(b.a,{color:"inherit",href:"https://ellipseapp.com/"},"ellipseapp.com")," ",(new Date).getFullYear(),".")},D=a(737),_=a(733),z=a(690),I=a(298),B=a.n(I);function P(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}var W=Object(c.g)((function(e){var t=e.history,a=k(),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(p.a)(n,2),o=l[0],i=l[1],s=r.a.useState(!1),j=Object(p.a)(s,2),x=j[0],S=j[1],w=o.vertical,_=o.horizontal,I=o.open,W=o.message,A=o.type,R=o.autoHide,F=r.a.useState(null),H=Object(p.a)(F,2),L=H[0],M=H[1],q=r.a.useState(null),G=Object(p.a)(q,2),U=G[0],J=G[1],V=r.a.useState(null),Y=Object(p.a)(V,2),K=Y[0],X=Y[1],Z=new AbortController,Q=function(){var e=Object(d.a)(m.a.mark((function e(a,n){var r,l,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clickaway"!==n){e.next=2;break}return e.abrupt("return");case 2:if("Signedin successfully"===W)if(localStorage.setItem("token",L),U)localStorage.setItem("token",L),(r=localStorage.getItem("eventid"))?(Z.abort(),t.push("/event/".concat(r))):(Z.abort(),t.push("/home"));else try{new FormData,c={email:K},l=JSON.stringify(c),fetch("http://139.59.16.53:4000/api/users/sendverificationemail",{signal:Z.signal,headers:{Authorization:"Bearer ".concat(L),"Content-Type":"application/json"},method:"POST",body:l}).then((function(e){e.json().then((function(e){"success"===e.message&&(Z.abort(),localStorage.setItem("token",L),t.push("/otpverification"),i({open:!0,vertical:"top",horizontal:"center",message:"Signedin successfully",type:"success",autoHide:300}))}))}))}catch(a){S(!1),i({open:!0,vertical:"top",horizontal:"center",message:a.message,type:"error",autoHide:3e3})}i(Object(u.a)(Object(u.a)({},o),{},{open:!1}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function $(){return($=Object(d.a)(m.a.mark((function e(t){var a,n,r,l,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),S(!0),a=t.target.elements,n=a.email,r=a.password;try{new FormData,o={email:n.value,password:r.value},l=JSON.stringify(o),fetch("http://139.59.16.53:4000/api/users/login",{signal:Z.signal,headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:l}).then((function(e){200===e.status?e.json().then((function(e){M(e.token),J(e.isVerified),X(e.useremail),S(!1),i({open:!0,vertical:"top",horizontal:"center",message:"Signedin successfully",type:"success",autoHide:200})})):(S(!1),i({open:!0,vertical:"top",horizontal:"center",message:"invalid credentials",type:"error",autoHide:6e3}))}))}catch(c){S(!1),i({open:!0,vertical:"top",horizontal:"center",message:c.message,type:"error",autoHide:6e3})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return localStorage.getItem("token")?r.a.createElement(c.a,{to:"/home"}):r.a.createElement(y.a,{container:!0,component:"main",className:a.root},r.a.createElement(h.a,null),r.a.createElement(D.a,{anchorOrigin:{vertical:w,horizontal:_},open:I,autoHideDuration:R,onClose:Q,key:w+_},r.a.createElement(P,{onClose:Q,severity:A},W)),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:7,elevation:6},r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"flex-start",m:1,p:1,className:a.paperLeft},r.a.createElement("img",{src:B.a,alt:"logo",height:"500px",width:"500px",className:a.image}),r.a.createElement(C.a,{className:a.title,component:"h1",variant:"h2"},"Ellipse"),r.a.createElement(C.a,{component:"h1",variant:"h6"},"Kill time for what matters"),r.a.createElement("br",null),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://play.google.com/store/apps/details?id=com.guna0027.ellipse",target:"_blank"},r.a.createElement("img",{className:a.hidden,src:N.a,alt:"playstore"}),r.a.createElement("br",null)))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:5,elevation:6},r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"center",m:1,p:1,className:a.paperRight},r.a.createElement(g.a,{className:a.avatar},r.a.createElement(O.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,onSubmit:function(e){return $.apply(this,arguments)}},r.a.createElement(E.a,{name:"email",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",autoComplete:"email",autoFocus:!0}),r.a.createElement(E.a,{name:"password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement("div",{className:a.wrapper},r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:x,className:a.submit},x?r.a.createElement(z.a,{color:"primary",size:24}):"Sign In")),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:!0},r.a.createElement(b.a,{href:"/forgotpassword",variant:"body2"},"Forgot password?")),r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up")))),r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"flex-end"},r.a.createElement(T,null)))))})),A=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},closeButton:Object(x.a)({position:"absolute",right:e.spacing(1),top:e.spacing(7)},e.breakpoints.down("md"),{top:e.spacing(12)})}})),R=a(692),F=a(734),H=a(691);function L(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}var M=Object(c.g)((function(e){var t=e.history,a=A(),n=r.a.useState(""),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),s=Object(p.a)(c,2),j=s[0],x=s[1],S=r.a.useState(!1),k=Object(p.a)(S,2),w=k[0],N=k[1],_=j.vertical,I=j.horizontal,B=j.open,P=j.message,W=j.type,M=j.autoHide,q=r.a.useState(!1),G=Object(p.a)(q,2),U=G[0],J=G[1],V=r.a.useState(!1),Y=Object(p.a)(V,2),K=Y[0],X=Y[1],Z=r.a.useState(!1),Q=Object(p.a)(Z,2),$=Q[0],ee=Q[1],te=function(){var e=Object(d.a)(m.a.mark((function e(a,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Signedup successfully"===P&&(localStorage.setItem("token",o),t.replace("/otpverification")),x(Object(u.a)(Object(u.a)({},j),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function ae(){return(ae=Object(d.a)(m.a.mark((function e(t){var a,n,r,l,o,c,s,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),N(!0),a=t.target.elements,n=a.fullName,r=a.email,l=a.password,o=a.username,c=a.terms;try{c.checked?(new FormData,u={name:n.value,email:r.value,password:l.value,username:o.value},s=JSON.stringify(u),fetch("http://139.59.16.53:4000/api/users/signup",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:s}).then((function(e){200===e.status?e.json().then((function(e){i(e.token);var t=new FormData,a={email:e.useremail};t=JSON.stringify(a);var n=e.token;fetch("http://139.59.16.53:4000/api/users/sendverificationemail",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},method:"POST",body:t}).then((function(e){e.json().then((function(e){"success"===e.message&&x({open:!0,vertical:"top",horizontal:"center",message:"Signedup successfully",type:"success",autoHide:300})}))}))})):401===e.status&&(N(!1),x({open:!0,vertical:"top",horizontal:"center",message:"Email already registered",type:"error",autoHide:3e3}))}))):(N(!1),x({open:!0,vertical:"top",horizontal:"center",message:"Please agress the terms and condiitons",type:"error"}))}catch(m){N(!1),x({open:!0,vertical:"top",horizontal:"center",message:m.message,type:"error"})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(H.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(D.a,{anchorOrigin:{vertical:_,horizontal:I},open:B,autoHideDuration:M,onClose:te,key:_+I},r.a.createElement(L,{onClose:te,severity:W},P)),r.a.createElement("div",{className:a.paper},r.a.createElement(g.a,{className:a.avatar},r.a.createElement(O.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:a.form,onSubmit:function(e){return ae.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"fullName",name:"fullName",variant:"outlined",required:!0,fullWidth:!0,id:"fullName",label:"Full Name",autoFocus:!0,inputProps:{pattern:"[a-zA-Z ]+"},onInvalid:function(){J(!0)},helperText:U&&"Name should only contain alphabet and spaces",onInput:function(){J(!1)},error:U})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",type:"email",autoComplete:"email"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"User Name",onChange:function(e){var t=e.target.value,a=new FormData,n={username:t};a=JSON.stringify(n),X(!1),ee(!1),fetch("http://139.59.16.53:4000/api/check_username",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){e.json().then((function(e){"user already exists"===e.message&&(X(!0),ee(!0))}))}))},name:"username",error:K,helperText:K&&"username already exists"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(R.a,{control:r.a.createElement(F.a,{color:"primary",name:"terms"}),label:"I accept the terms and conditions"}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:w||$,className:a.submit},w?r.a.createElement(z.a,{color:"primary",size:24}):"Sign Up"),r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{href:"/",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(v.a,{mt:2},r.a.createElement(T,null)))}));function q(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}var G=Object(c.g)((function(e){var t=e.history,a=A(),n=r.a.useState(null),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useState(null),s=Object(p.a)(c,2),u=s[0],j=s[1],x=r.a.useState(null),S=Object(p.a)(x,2),k=S[0],w=S[1],N=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),_=Object(p.a)(N,2),I=_[0],B=_[1],P=r.a.useState(!1),W=Object(p.a)(P,2),R=W[0],F=W[1],L=r.a.useState(!1),M=Object(p.a)(L,2),G=M[0],U=M[1],J=I.vertical,V=I.horizontal,Y=I.open,K=I.message,X=I.type,Z=I.autoHide;function Q(){return(Q=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),F(!0);try{new FormData,n={email:o},a=JSON.stringify(n),fetch("http://139.59.16.53:4000/api/users/sendverificationemail",{headers:{"Content-Type":"application/json"},method:"POST",body:a}).then((function(e){console.log(e),e.json().then((function(e){"success"===e.message&&(F(!1),B({open:!0,vertical:"top",horizontal:"center",message:"Check your email for OTP and enter below",type:"success",autoHide:2e3}))}))}))}catch(r){F(!1),B({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),U(!0);try{new FormData,n={email:o,otp:u,nPassword:k},a=JSON.stringify(n),fetch("http://139.59.16.53:4000/api/users/forgotpassword",{headers:{"Content-Type":"application/json"},method:"POST",body:a}).then((function(e){console.log(e),e.json().then((function(e){"success"===e.message&&(U(!1),B({open:!0,vertical:"top",horizontal:"center",message:"Succesfull Login to continue",type:"success",autoHide:300}))}))}))}catch(r){U(!1),B({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){"Succesfull Login to continue"===K&&t.replace("/")}return r.a.createElement(H.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(D.a,{anchorOrigin:{vertical:J,horizontal:V},open:Y,autoHideDuration:Z,onClose:ee,key:J+V},r.a.createElement(q,{onClose:ee,severity:X},K)),r.a.createElement("div",{className:a.paper},r.a.createElement(g.a,{className:a.avatar},r.a.createElement(O.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Enter your email to receive OTP"),r.a.createElement("form",{className:a.form,onSubmit:function(e){return Q.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:o,onChange:function(e){return i(e.target.value)},autoComplete:"email"}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:R,className:a.submit},R?r.a.createElement(z.a,{color:"primary",size:24}):"Send OTP")),r.a.createElement("form",{className:a.form,onSubmit:function(e){return $.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"otp",label:"OTP",name:"otp",value:u,onChange:function(e){return j(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"password",label:"New Password",name:"password",value:k,type:"password",onChange:function(e){return w(e.target.value)}}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:G,className:a.submit},G?r.a.createElement(z.a,{color:"primary",size:24}):"Reset Password")),r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{href:"/",variant:"body2"},"Instead? Sign in")))),r.a.createElement(v.a,{mt:2},r.a.createElement(T,null)))})),U=r.a.createContext(),J=function(e){var t=e.children,a=Object(n.useState)(null),l=Object(p.a)(a,2),o=l[0],i=l[1],c=Object(n.useState)(!0),s=Object(p.a)(c,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){i(localStorage.getItem("user")),u(!1)}),[]),m?r.a.createElement(r.a.Fragment,null,"Loading..."):r.a.createElement(U.Provider,{value:{currentUser:o}},t)};function V(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}var Y=Object(c.g)((function(e){var t=e.history,a=A(),n=localStorage.getItem("token"),l=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),o=Object(p.a)(l,2),i=o[0],s=o[1],m=r.a.useState(!1),d=Object(p.a)(m,2),b=d[0],j=d[1],x=i.vertical,S=i.horizontal,k=i.open,w=i.message,N=i.type,_=i.autoHide,I=r.a.useState(30),B=Object(p.a)(I,2),P=B[0],W=B[1],R=r.a.useState(!1),F=Object(p.a)(R,2),L=F[0],M=F[1];function q(){"verified"===w&&t.replace("/userinfo"),s(Object(u.a)(Object(u.a)({},i),{},{open:!1}))}if(r.a.useEffect((function(){P>0?setTimeout((function(){return W(P-1)}),1e3):M(!0)}),[P]),!n)return r.a.createElement(c.a,{to:"/"});return r.a.createElement(H.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(D.a,{anchorOrigin:{vertical:x,horizontal:S},open:k,autoHideDuration:_,onClose:q,key:x+S},r.a.createElement(V,{onClose:q,severity:N},w)),r.a.createElement("div",{className:a.paper},r.a.createElement(g.a,{className:a.avatar},r.a.createElement(O.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Email Verification"),r.a.createElement("form",{className:a.form,onSubmit:function(e){e.preventDefault(),j(!0);var t=e.target.elements.otp;try{var a=new FormData,r={otp:t.value};a=JSON.stringify(r),fetch("http://139.59.16.53:4000/api/users/verifyotp",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){e.json().then((function(e){"verified"===e.message?(j(!1),s({open:!0,vertical:"top",horizontal:"center",message:"verified",type:"success",autoHide:300})):"Not verified"===e.message?(j(!1),s({open:!0,vertical:"top",horizontal:"center",message:"incorrect otp",type:"error",autoHide:3e3})):(j(!1),s({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong try again",type:"error",autoHide:3e3}))}))}))}catch(l){j(!1),s({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error"})}}},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp"})),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:b,className:a.submit},b?r.a.createElement(z.a,{color:"primary",size:24}):"Continue"),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0},r.a.createElement(f.a,{disabled:!L,onClick:function(){try{var e=new FormData;e=JSON.stringify({}),fetch("http://139.59.16.53:4000/api/users/sendverificationemailwithauth",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},method:"POST",body:e}).then((function(e){e.json().then((function(e){"success"===e.message&&s({open:!0,vertical:"top",horizontal:"center",message:"Password sent succcessfully",type:"success",autoHide:300})}))}))}catch(t){j(!1),s({open:!0,vertical:"top",horizontal:"center",message:t.message,type:"error"})}}},"Resend OTP in ",P))))),r.a.createElement(v.a,{mt:2},r.a.createElement(T,null)))})),K=a(731),X=a(689),Z=a(688),Q=a(693),$=a(81),ee=a.n($),te=a(240),ae=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main,width:e.spacing(20),height:e.spacing(20)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},textArea:{width:e.spacing(58),margin:e.spacing(2),borderRadius:e.spacing(2),backgroundColor:e.palette.secondary.main,color:e.palette.primary.dark}}}));function ne(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}var re=Object(c.g)((function(e){var t=e.history,a=localStorage.getItem("token"),n=ae(),l=r.a.useState(""),o=Object(p.a)(l,2),i=o[0],s=o[1],b=r.a.useState(null),j=Object(p.a)(b,2),O=j[0],x=j[1],S=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),k=Object(p.a)(S,2),w=k[0],N=k[1],_=r.a.useState(!1),I=Object(p.a)(_,2),B=I[0],P=I[1],W=w.vertical,A=w.horizontal,R=w.open,F=w.message,L=w.type,M=w.autoHide,q=r.a.useState([]),G=Object(p.a)(q,2),U=G[0],J=G[1],V=function(){var e=Object(d.a)(m.a.mark((function e(a,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"successful"===F&&((r=localStorage.getItem("eventid"))?t.push("/event/".concat(r)):t.replace("/home")),N(Object(u.a)(Object(u.a)({},w),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();if(r.a.useEffect((function(){fetch("http://139.59.16.53:4000/api/colleges",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){J(e)}))}))}),[a]),!a)return r.a.createElement(c.a,{to:"/"});function Y(){return(Y=Object(d.a)(m.a.mark((function e(t){var n,r,l,o,i,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),P(!0),n=t.target.elements,r=n.gender,l=n.designation,o=n.collegeId,i=n.bio;try{new FormData,s={gender:r.value,designation:l.value,college_id:o.value,bio:i.value},c=JSON.stringify(s),fetch("http://139.59.16.53:4000/api/users/userdetails",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:c}).then((function(e){200===e.status&&e.json().then((function(e){if(null!=O){var t=new FormData;t.append("image",O),fetch("http://139.59.16.53:4000/api/users/uploadImage",{headers:{Authorization:"Bearer ".concat(a)},method:"POST",body:t}).then((function(e){200===e.status&&(P(!1),N({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else P(!1),N({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300})}))}))}catch(m){P(!1),N({open:!0,vertical:"top",horizontal:"center",message:m.message,type:"error",autoHide:3e3})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(H.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(D.a,{anchorOrigin:{vertical:W,horizontal:A},open:R,autoHideDuration:M,onClose:V,key:W+A},r.a.createElement(ne,{onClose:V,severity:L},F)),r.a.createElement("div",{className:n.paper},r.a.createElement(C.a,{component:"h1",variant:"h3"},"Welcome"),r.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){x(e.target.files[0]);var t=URL.createObjectURL(e.target.files[0]);s(t)}},style:{display:"none"}}),r.a.createElement(Q.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(te.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(ee.a,null)))},r.a.createElement(g.a,{className:n.avatar,sizes:"100",alt:"",src:i})),r.a.createElement("form",{className:n.form,onSubmit:function(e){return Y.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Bio",autoComplete:"off",required:!0,id:"bio",name:"bio",label:"Bio",fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(X.a,{htmlFor:"outlined-age-native-simple"},"Gender"),r.a.createElement(K.a,{fullWidth:!0,native:!0,label:"Age",inputProps:{name:"gender",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Others"},"Others")))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(X.a,{htmlFor:"outlined-age-native-simple"},"You are"),r.a.createElement(K.a,{fullWidth:!0,native:!0,label:"You are",inputProps:{name:"designation",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Faculty"},"Faculty"),r.a.createElement("option",{value:"Club/Organisation"},"Club/Organisation"),r.a.createElement("option",{value:"Institution"},"Institution"),r.a.createElement("option",{value:"Others"},"Others")))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(X.a,{htmlFor:"outlined-age-native-simple"},"Your College"),r.a.createElement(K.a,{fullWidth:!0,native:!0,label:"College",inputProps:{name:"collegeId",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),U.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.name)})))))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:B,className:n.submit},B?r.a.createElement(z.a,{color:"primary",size:24}):"Continue"))),r.a.createElement(v.a,{mt:2},r.a.createElement(T,null)))})),le=a(641),oe=a(198),ie=a(730),ce=a(704),se=a(236),me=a.n(se),ue=a(708),de=a(645),pe=a(706),ge=a(299),fe=a(308),he=a.n(fe),Ee=a(191),be=a.n(Ee),ve=a(234),ye=a.n(ve),je=a(15),Oe=Object(S.a)((function(e){var t,a,n;return{"@global":{"*::-webkit-scrollbar":{width:"0.5em",height:"0.5em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 1px rgba(0,0,0,0.00)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#ad9d9d",outline:"1px solid slategrey"}},paper:{marginTop:e.spacing(0),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30,marginBottom:e.spacing(5)},root:{display:"flex",flexGrow:1,maxWidth:800,background:e.palette.secondary.main,alignItems:"center"},grow:{flexGrow:1,alignItems:"center"},title:(t={display:"none"},Object(x.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(x.a)(t,"fontFamily","Gugi"),Object(x.a)(t,"color",e.palette.primary.dark),Object(x.a)(t,"fontWeight","bold"),t),mobileTitle:Object(x.a)({},e.breakpoints.up("sm"),{display:"none"}),titleButton:(a={display:"none"},Object(x.a)(a,e.breakpoints.up("sm"),{display:"inline-block"}),Object(x.a)(a,"margin",e.spacing(0)),Object(x.a)(a,"padding",e.spacing(0)),Object(x.a)(a,"textTransform","none"),a),mobileTitleButton:(n={display:"none"},Object(x.a)(n,e.breakpoints.down("xs"),{display:"inline-block",width:"fit-content"}),Object(x.a)(n,"margin",e.spacing(0)),Object(x.a)(n,"padding",e.spacing(0)),n),search:Object(x.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(je.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(je.c)(e.palette.common.white,.25)},marginRight:e.spacing(1),marginLeft:e.spacing(1),width:"230px"},e.breakpoints.up("md"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(x.a)({borderBottom:"none",padding:e.spacing(.5,.5,.5,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"30ch"}),sectionDesktop:Object(x.a)({},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(x.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),tabs:Object(x.a)({display:"none"},e.breakpoints.up("lg"),{display:"flex",flexDirection:"row",marginLeft:e.spacing(15)}),mobiletab:Object(x.a)({display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.up("lg"),{display:"none"}),tabPanel:{marginBottom:e.spacing(3)},flex_section:{flexGrow:1,display:"flex",flexDirection:"row"},flex_col_scroll:{flexGrow:1,overflow:"auto"},rpaper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(2)},postButton:{borderRadius:e.spacing(50)}}})),Ce=a(235),xe=a.n(Ce),Se=a(142),ke=a.n(Se),we=a(161),Ne=a.n(we),Te=a(736),De=a(643),_e=a(642),ze=a(694),Ie=a(640),Be=a(307),Pe=a.n(Be),We=a(51),Ae=a(82),Re=a.n(Ae),Fe=a(300),He=a.n(Fe);function Le(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}function Me(e){var t=Object(We.a)(),a=r.a.useState(null),n=Object(p.a)(a,2),l=n[0],o=n[1],i=e.event,c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),s=Object(p.a)(c,2),g=s[0],h=s[1],b=g.vertical,v=g.horizontal,j=g.open,O=g.message,C=g.type,x=g.autoHide;r.a.useEffect((function(){o(i.share_link)}),[i.share_link]);var S=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:h({open:!0,vertical:"top",horizontal:"center",message:"Copied to clipboard",type:"success",autoHide:3e3}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),h({open:!0,vertical:"top",horizontal:"center",message:e.t0.message,type:"error",autoHide:4e3});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(D.a,{anchorOrigin:{vertical:b,horizontal:v},open:j,autoHideDuration:x,onClose:S,key:b+v},r.a.createElement(Le,{onClose:S,severity:C},O)),r.a.createElement(Ie.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(ze.a,{id:"form-dialog-title"},i.name),r.a.createElement(_e.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:11},r.a.createElement(E.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"title",label:"Share Link",name:"title",fullWidth:!0,value:l,required:!0,onChange:function(e){o(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:1},r.a.createElement(te.a,{onClick:function(){return k(l)}},r.a.createElement(He.a,null))))),r.a.createElement(De.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Dismiss"))))}var qe=a(33),Ge=a(104),Ue=a(740),Je=Object(S.a)((function(e){return{imageBox:{display:"flex",justifyContent:"center"},dialog:{minHeight:"90vh",maxHeight:"90vh"},image:{maxWidth:"100%"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},title:{backgroundColor:e.palette.secondary}}}));var Ve=function(e){var t=Je(),a=e.event;function n(){e.handleClose()}return r.a.createElement("div",null,r.a.createElement(Ie.a,{open:e.open,onClose:n,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none"}},classes:{paper:t.dialog}},r.a.createElement(ze.a,{className:t.title},a.name,r.a.createElement("div",{className:t.icons},r.a.createElement(te.a,{"aria-label":"close",className:t.closeButton,onClick:n},r.a.createElement(Re.a,{fontSize:"large"})))),r.a.createElement(_e.a,null,r.a.createElement(v.a,{className:t.imageBox},r.a.createElement("img",{className:t.image,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(a.poster_url),alt:"profile pic"})))))},Ye=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main,width:e.spacing(7),height:e.spacing(7),marginRight:e.spacing(1)},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},adminDetails:{display:"flex",justifyContent:"flex-start",marginTop:e.spacing(2)}}}));var Ke=function(e){var t=Ye(),a=localStorage.getItem("token"),n=(e.children,e.value),l=(e.url,e.index),o=Object(qe.a)(e,["children","value","url","index"]),i=e.event,c=i.tags,s=i.requirements,m=r.a.useState("Registration Ends in"),u=Object(p.a)(m,2),d=u[0],f=u[1],h=r.a.useState({}),E=Object(p.a)(h,2),b=E[0],j=E[1],O=r.a.useState(!1),x=Object(p.a)(O,2),S=x[0],k=x[1];r.a.useEffect((function(){void 0!==i._id&&void 0!==i.user_id&&fetch("http://139.59.16.53:4000"+"/api/event/get_organizer_details?eventId=".concat(i._id,"&userId=").concat(i.user_id),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){j(e)}))}))}),[i,a]);var w=function(){var e=+new Date(i.registration_end_time)-+new Date,t={};return e<0&&(e=+new Date(i.start_time)-+new Date),e<0&&(e=+new Date(i.finish_time)-+new Date),e>0&&(t={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),t},N=r.a.useState(w()),T=Object(p.a)(N,2),D=T[0],_=T[1];r.a.useEffect((function(){var e=setTimeout((function(){f(function(){var e=+new Date(i.registration_end_time)-+new Date,t="Registration ends in";return e<0&&(t="Starts in",e=+new Date(i.start_time)-+new Date),e<0&&(t="Ends in",e=+new Date(i.finish_time)-+new Date),t}()),_(w())}),1e3);return function(){Object(Ge.a)(),clearTimeout(e)}}));var z=[];return Object.keys(D).forEach((function(e){D[e]&&z.push(r.a.createElement("span",{key:e},D[e]," ",e," "))})),r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l},o),n===l&&r.a.createElement("div",{className:t.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:4},r.a.createElement("img",{onClick:function(e){k(!0)},style:{maxWidth:"250px"},alt:"event poster",src:"http://139.59.16.53:4000"+"/api/image?id=".concat(i.poster_url)})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(C.a,null,i.description," "),r.a.createElement(C.a,{style:{marginTop:"20px",marginBottom:"20"}},d),r.a.createElement(C.a,{variant:"h5"},z.length?z:r.a.createElement("span",null,"Time's up!")),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(Ue.a,{variant:"outlined",color:"inherit",label:i.event_type}),r.a.createElement(Ue.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:i.fee_type}),r.a.createElement(Ue.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:i.event_mode}),null!=c&&c.map((function(e){return r.a.createElement(Ue.a,{key:e,style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:e})})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(C.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h4"},"About"),r.a.createElement(C.a,{color:"textSecondary",variant:"body2"},i.about),r.a.createElement(C.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Requirements"),null!=s&&s.map((function(e){return r.a.createElement(Ue.a,{key:e,style:{marginRight:"5px"},variant:"outlined",color:"inherit",label:e})})),"Offline"===i.event_mode&&r.a.createElement(C.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Venue Details"),"Offline"===i.event_mode&&r.a.createElement(C.a,{color:"textSecondary",variant:"body2"},i.venue),"Offline"===i.event_mode&&r.a.createElement(C.a,{color:"textSecondary",variant:"body2"},i.venue_college),"Paid"===i.fee_type&&r.a.createElement(C.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Fee Details"),"Paid"===i.fee_type&&r.a.createElement(C.a,{color:"textSecondary",variant:"body2"},"Rs "+i.fee),r.a.createElement(C.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Organised By"),r.a.createElement(v.a,{className:t.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:t.avatar,alt:b.name,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(b.profile_pic)})),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(C.a,{variant:"h5"},b.name)),r.a.createElement(v.a,null,r.a.createElement(C.a,{color:"textSecondary",variant:"body2"},b.college_name))))),r.a.createElement(y.a,{item:!0,xs:12}),r.a.createElement(y.a,null)),r.a.createElement(Ve,{event:i,open:S,handleClose:function(){k(!1)}})))},Xe=a(695),Ze=a(696),Qe=a(698),$e=a(700),et=a(701),tt=a(697),at=a(699),nt=a(196),rt=a.n(nt),lt=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));var ot=function(e){var t=lt(),a=(e.children,e.value),n=(e.url,e.index),l=Object(qe.a)(e,["children","value","url","index"]),o=e.event,i=new Date(o.start_time),c=new Date(o.finish_time),s=new Date(o.registration_end_time);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},l),a===n&&r.a.createElement("div",{className:t.root},r.a.createElement(Xe.a,{align:"alternate"},r.a.createElement(Ze.a,null,r.a.createElement(tt.a,null,r.a.createElement(C.a,{variant:"body2",color:"textSecondary"},s.toDateString()," "+s.toLocaleTimeString())),r.a.createElement(Qe.a,null,r.a.createElement(at.a,{color:"primary"},r.a.createElement(rt.a,null)),r.a.createElement($e.a,null)),r.a.createElement(et.a,null,r.a.createElement(oe.a,{elevation:3,className:t.paper},r.a.createElement(C.a,{variant:"h6",component:"h1"},"Registration Ends"),r.a.createElement(C.a,null,"Your oppurtunity to participate came to an end")))),r.a.createElement(Ze.a,null,r.a.createElement(tt.a,null,r.a.createElement(C.a,{variant:"body2",color:"textSecondary"},i.toDateString()," "+i.toLocaleTimeString())),r.a.createElement(Qe.a,null,r.a.createElement(at.a,{color:"primary",variant:"outlined"},r.a.createElement(rt.a,null)),r.a.createElement($e.a,null)),r.a.createElement(et.a,null,r.a.createElement(oe.a,{elevation:3,className:t.paper},r.a.createElement(C.a,{variant:"h6",component:"h1"},"Starts"),r.a.createElement(C.a,null,"Party begins")))),r.a.createElement(Ze.a,null,r.a.createElement(tt.a,null,r.a.createElement(C.a,{variant:"body2",color:"textSecondary"},c.toDateString()," "+c.toLocaleTimeString())),r.a.createElement(Qe.a,null,r.a.createElement(at.a,{color:"primary"},r.a.createElement(rt.a,null)),r.a.createElement($e.a,{className:t.secondaryTail})),r.a.createElement(et.a,null,r.a.createElement(oe.a,{elevation:3,className:t.paper},r.a.createElement(C.a,{variant:"h6",component:"h1"},"Ends"),r.a.createElement(C.a,null,"Chill,event came to an end")))))))},it=a(20),ct=Object(S.a)((function(e){return{root:{display:"flex",alignItems:"flex-start",alignContent:"flex-start",width:"100%"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main},timiline:{},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"}}}));function st(e){var t=localStorage.getItem("token"),a=ct(),n=(e.children,e.value),l=(e.url,e.index),o=Object(qe.a)(e,["children","value","url","index"]),i=e.event,c=r.a.useState([]),s=Object(p.a)(c,2),m=s[0],u=s[1];return r.a.useEffect((function(){fetch("http://139.59.16.53:4000"+"/api/event/get_announcements?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){i.registered?u(e):e.forEach((function(e){e.visible_all&&u((function(t){return[].concat(Object(it.a)(t),[e])}))}))}))}))}),[t,i]),r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l},o),n===l&&r.a.createElement("div",null,m.map((function(e,t){var n=new Date(e.time);return r.a.createElement(v.a,{m:1,p:1,key:t,className:a.root3},r.a.createElement(v.a,{className:a.root2,whiteSpace:"normal"},r.a.createElement(C.a,{className:a.title},e.title),r.a.createElement(C.a,{className:a.pos},e.description)),r.a.createElement(v.a,{className:a.root5},r.a.createElement(C.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())))}))))}var mt=a(644),ut=a(703),dt=a(119),pt=a.n(dt),gt=a(702),ft=a(305),ht=a.n(ft),Et=Object(S.a)((function(e){return{root:{position:"fixed",width:"75%",height:"100vh",backgroundColor:e.palette.primary.light},large:{width:e.spacing(7),height:e.spacing(7)},inline:{whiteSpace:"pre-line"},date:{display:"flex",justifyContent:"flex-end"}}}));var bt=function(e){var t=Et(),a=e.message,l=r.a.useState(""),o=Object(p.a)(l,2),i=o[0],c=o[1],s=new Date(a.date);return Object(n.useEffect)((function(){e.adminId===a.user_id&&c(" (Admin)")}),[e.adminId,a]),r.a.createElement(mt.a,{alignItems:"flex-start"},r.a.createElement(gt.a,{style:{display:"none"}},r.a.createElement(pt.a,null)),r.a.createElement(ut.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{component:"h6",variant:"body2"},a.user_name+i)),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{component:"span",variant:"body1",color:"textPrimary",className:t.inline},r.a.createElement(ht.a,{componentDecorator:function(e,t,a){return r.a.createElement("a",{target:"blank",style:{color:"red",fontWeight:"bold"},href:e,key:a},t)}},a.message)),r.a.createElement(v.a,null,r.a.createElement(C.a,{component:"span",variant:"body2",color:"textSecondary",className:t.date},"   "+s.toLocaleTimeString([],{timeStyle:"short"}))))}))},vt=r.a.createContext(null),yt=a(3),jt=a(306),Ot=a.n(jt),Ct=Object(S.a)((function(e){return{bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(4),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},open:{position:"fixed",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(34),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},close:{position:"fixed",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(13),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)}}}));function xt(e){var t=Ct(),a=r.a.useState(!0),n=Object(p.a)(a,2),l=n[0],o=n[1],i=r.a.useState(null),c=Object(p.a)(i,2),s=c[0],m=c[1],u=r.a.useState(t.bottomBar),d=Object(p.a)(u,2),g=d[0],f=d[1];r.a.useEffect((function(){var a;void 0!==e.open&&f(Object(yt.a)((a={},Object(x.a)(a,t.open,e.open),Object(x.a)(a,t.close,!e.open),a)))}),[e.open]);return r.a.createElement(v.a,{className:g,display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(E.a,{disabled:e.loading,fullWidth:!0,placeholder:"Type your message",multiline:!0,onChange:function(e){m(e.target.value),o(!1),""===e.target.value&&o(!0)},value:s||"",rowsMax:"3",onKeyUp:function(t){null!==s&&""!==s&&(13!==t.keyCode||t.shiftKey||(t.preventDefault(),e.handleSend(s),o(!0),m("")))}}),r.a.createElement(te.a,{onClick:function(t){e.handleSend(s),o(!0),m("")},disabled:l,className:t.sendIcon},r.a.createElement(Ot.a,null)))}var St=a(639),kt=a(189),wt=a.n(kt),Nt=a(188),Tt=a.n(Nt),Dt=a(337),_t=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{backgroundColor:e.palette.background.paper,borderRadius:e.spacing(1),textDecorationColor:e.palette.secondary.light,maxWidth:"65%",minWidth:"20%",overflow:"auto"},root3:{display:"flex",justifyContent:"flex-end",minWidth:e.spacing(30)},root6:{display:"flex",justifyContent:"center"},topBar:{},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"}}}));function zt(e){e.children;var t=e.value,a=(e.url,e.index),n=Object(qe.a)(e,["children","value","url","index"]),l=r.a.useContext(vt),o=localStorage.getItem("token"),i=e.event,c=e.open,s=r.a.useState(!1),m=Object(p.a)(s,2),u=m[0],d=m[1],f=r.a.useState(!1),h=Object(p.a)(f,2),E=h[0],b=h[1],y=r.a.useState(null),j=Object(p.a)(y,2),O=j[0],x=j[1],S=r.a.useState([]),k=Object(p.a)(S,2),w=k[0],N=k[1],T=_t(),D=null,_=r.a.useState(null),I=Object(p.a)(_,2),B=I[0],P=I[1],W=function(){var e=new WebSocket("ws://139.59.16.53:4000");e.onopen=function(){console.log("connected"),P(e),e.onmessage=function(e){var t=JSON.parse(e.data),a=t.msg;t.event_id===i._id&&N((function(e){return[].concat(Object(it.a)(e),[a])}))},b(!1)},e.onclose=function(){A(),console.log("closed")}};r.a.useEffect((function(){return b(!0),fetch("http://139.59.16.53:4000"+"/api/chat/load_messages?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){N(e),W()}))})),null!=O&&O.scrollIntoView({behavior:"smooth"}),function(){N([]),Object(Ge.a)()}}),[i._id,o]),r.a.useEffect((function(){null!=O&&O.scrollIntoView({behavior:"smooth"})}),[E]),r.a.useEffect((function(){return null!=O&&O.scrollIntoView({behavior:"smooth"}),function(){Object(Ge.a)()}}),[w,O]);var A=function(){B&&B.readyState!==WebSocket.readyState||(console.log("checking"),W())};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==a},n),t===a&&r.a.createElement("div",null,r.a.createElement("div",{className:T.progress},r.a.createElement(Dt.a,{in:E,unmountOnExit:!0},r.a.createElement(z.a,null))),r.a.createElement(Ie.a,{onClose:function(){d(!1)},"aria-labelledby":"simple-dialog-title",open:u},r.a.createElement(St.a,null,r.a.createElement(mt.a,{button:!0},r.a.createElement(gt.a,null,r.a.createElement(g.a,null,r.a.createElement(Tt.a,null))),r.a.createElement(ut.a,{primary:"Reply"})),r.a.createElement(mt.a,{autoFocus:!0,button:!0},r.a.createElement(gt.a,null,r.a.createElement(g.a,null,r.a.createElement(wt.a,null))),r.a.createElement(ut.a,{primary:"Delete"})))),r.a.createElement(v.a,{className:T.topBar},w.map((function(e,t){var a=new Date,n=new Date(e.date);return n.toDateString()!==D?(D=n.toDateString(),e.user_id===l.user_id?r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(v.a,{m:1,p:1,key:t,position:"sticky",className:T.root6},r.a.createElement(C.a,{variant:"body2"},a.toDateString()===n.toDateString()?"Today":n.toDateString())),r.a.createElement(v.a,{m:1,p:1,key:t+1,className:T.root3},r.a.createElement(v.a,{className:T.root2,whiteSpace:"normal",onClick:function(){return d(!1)}},r.a.createElement(bt,{adminId:i.user_id,message:e})),r.a.createElement(v.a,{className:T.root5},r.a.createElement(g.a,{alt:e.userName,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(e.user_pic)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{m:1,p:1,key:t,className:T.root6},r.a.createElement(C.a,{variant:"body2"},a.toDateString()===n.toDateString()?"Today":n.toDateString())),r.a.createElement(v.a,{m:1,key:t,className:T.root},r.a.createElement(v.a,{className:T.root4},r.a.createElement(g.a,{alt:e.userName,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:T.root2,whiteSpace:"normal"},r.a.createElement(bt,{adminId:i.user_id,message:e}))))):e.user_id===l.user_id?r.a.createElement(v.a,{m:1,p:1,key:t,className:T.root3},r.a.createElement(v.a,{className:T.root2,onClick:function(){return d(!1)},whiteSpace:"normal"},r.a.createElement(bt,{adminId:i.user_id,message:e})),r.a.createElement(v.a,{className:T.root5},r.a.createElement(g.a,{alt:e.userName,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(e.user_pic)}))):r.a.createElement(v.a,{m:1,key:t,className:T.root},r.a.createElement(v.a,{className:T.root4},r.a.createElement(g.a,{alt:e.userName,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:T.root2,whiteSpace:"normal"},r.a.createElement(bt,{adminId:i.user_id,message:e})))})),r.a.createElement("div",{style:{float:"left",clear:"both",paddingBottom:"60px"},ref:function(e){x(e)}}),r.a.createElement("div",null,r.a.createElement(xt,{loading:E,open:c,handleSend:function(e){var t=new Date;B.send(JSON.stringify({action:"send_message",event_id:i._id,msg:{id:l.user_id+Date.now(),user_id:l.user_id,user_name:l.name,user_pic:l.profile_pic,message:e,date:t.toISOString()}})),null!=O&&O.scrollIntoView({behavior:"smooth"})}})))))}function It(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Bt=Object(S.a)((function(e){return{icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root:{},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(1)},bottomBar:{display:"flex",width:"90%",backgroundColor:e.palette.secondary.main},field:{width:"100%"},action:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},dialogContent:Object(x.a)({},e.breakpoints.down("md"),{padding:e.spacing(1)})}}));var Pt=function(e){var t=e.event,a=localStorage.getItem("theme"),n=r.a.useState(0),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useContext(vt),s=Bt(),m=Object(We.a)(),u=r.a.useState(!1),d=Object(p.a)(u,2),g=d[0],h=d[1],E=r.a.useState(!1),b=Object(p.a)(E,2),y=b[0],j=b[1];function O(){e.handleClose()}return r.a.useEffect((function(){t.registered||"form"!==t.reg_mode||t.user_id===c.user_id?j(!0):j(!1)}),[t,c]),r.a.createElement(Ie.a,{open:e.open,onClose:O,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:m.palette.secondary.main,boxShadow:"none"}},classes:{paper:s.dialog}},r.a.createElement(ze.a,{id:"scroll-dialog-title"},t.name,r.a.createElement("div",{className:s.icons},r.a.createElement(te.a,{"aria-label":"share",onClick:function(){h(!0)}},r.a.createElement(Pe.a,null)),r.a.createElement(te.a,{"aria-label":"close",className:s.closeButton,onClick:O},r.a.createElement(Re.a,{fontSize:"large"}))),r.a.createElement("div",{className:s.root},r.a.createElement(oe.a,{className:s.root2},r.a.createElement(ie.a,{value:o,onChange:function(e,t){i(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(ce.a,Object.assign({label:"About"},It(0))),r.a.createElement(ce.a,Object.assign({label:"Schedule"},It(1))),r.a.createElement(ce.a,Object.assign({label:"Announcements"},It(2))),r.a.createElement(ce.a,Object.assign({label:"Chat"},It(3))))))),r.a.createElement(_e.a,{className:s.dialogContent,dividers:!0},r.a.createElement(Me,{event:t,open:g,handleClose:function(){h(!1)}}),r.a.createElement(Ke,{value:o,index:0,event:e.event}),r.a.createElement(ot,{value:o,index:1,event:e.event}),r.a.createElement(st,{value:o,index:2,event:e.event}),3===o&&y&&r.a.createElement(zt,{value:o,index:3,event:e.event}),3===o&&!y&&r.a.createElement(C.a,{align:"center",variant:"h5"},"Register for the event to continue")),r.a.createElement(De.a,{className:s.action},r.a.createElement(v.a,{className:s.bottomBar,display:"flex",alignItems:"center",justifyContent:"center",hidden:3!==o}),r.a.createElement("div",{role:"tabpanel",hidden:3===o},3!==o&&r.a.createElement("div",{className:s.buttonDiv},"form"===t.reg_mode?r.a.createElement(f.a,{disabled:!!t.registered,size:"small",color:"primary",variant:"contained",className:s.button,onClick:function(){e.handleReg(t)}},t.registered?"Registered":"Register"):r.a.createElement(f.a,{disabled:!!t.registered,size:"small",color:"primary",variant:"contained",className:s.button},"light"===a?r.a.createElement("a",{href:t.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register"):r.a.createElement("a",{href:t.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register"))))))},Wt=r.a.createContext(null),At=a(705),Rt=Object(S.a)((function(e){return{dialog:{minHeight:"90vh",maxHeight:"90vh"},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));function Ft(e){var t=Rt(),a=Object(We.a)(),n=localStorage.getItem("token"),l=r.a.useState([]),o=Object(p.a)(l,2),i=o[0],c=o[1];r.a.useEffect((function(){fetch("http://139.59.16.53:4000/api/get_notifications",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){c(e)}))}))}),[n]);var s=function(t){return function(){e.handleClick(t.event_id)}};return r.a.createElement("div",null,r.a.createElement(Ie.a,{scroll:"paper",open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title",classes:{paper:t.dialog}},r.a.createElement(ze.a,{id:"form-dialog-title"},"Notifications"),r.a.createElement(At.a,null),r.a.createElement(_e.a,null,i.map((function(e,a){var n=new Date(e.time);return r.a.createElement(v.a,{onClick:s(e),m:1,p:1,className:t.root3},r.a.createElement(v.a,{className:t.root2,whiteSpace:"normal"},r.a.createElement(C.a,{className:t.title},e.title),r.a.createElement(C.a,{className:t.pos},e.description)),r.a.createElement(v.a,{className:t.root5},r.a.createElement(C.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())))})))))}var Ht=a(707),Lt=a(190),Mt=a.n(Lt),qt=Object(c.g)((function(e){var t=e.history,a=Oe(),l=localStorage.getItem("token"),o=r.a.useState(null),i=Object(p.a)(o,2),c=i[0],s=i[1],m=localStorage.getItem("theme"),u=r.a.useState("light"!==m),d=Object(p.a)(u,2),g=d[0],h=d[1],b=r.a.useState(0),v=Object(p.a)(b,2),y=v[0],j=v[1],O=r.a.useState([]),x=Object(p.a)(O,2),S=x[0],k=x[1],w=r.a.useState(0),N=Object(p.a)(w,2),T=N[0],D=N[1],_=Boolean(c),z=r.a.useState(!1),I=Object(p.a)(z,2),B=I[0],P=I[1],W=r.a.useState(!1),A=Object(p.a)(W,2),R=A[0],F=A[1],H=r.a.useContext(Wt);Object(n.useEffect)((function(){if(null!=localStorage.getItem("tabIndex")){var e=parseInt(localStorage.getItem("tabIndex"));null!=e&&j(e)}fetch("http://139.59.16.53:4000/api/get_unseen_notifications_count",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){D(e)}))}))}),[l]);var L=function(e,t){j(t),localStorage.setItem("tabIndex",t)};l||t.replace("/");var M="primary-search-account-menu",q=r.a.createElement(ge.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:M,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:_,onClose:function(){s(null)}},r.a.createElement(pe.a,null," Dark Theme ",r.a.createElement(Ht.a,{checked:g,onChange:function(e){h(e.target.checked),e.target.checked?(localStorage.setItem("theme","dark"),window.location.reload(!1)):(localStorage.setItem("theme","light"),window.location.reload(!1))},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement(pe.a,{onClick:function(e){fetch("http://139.59.16.53:4000/api/users/logout",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},method:"POST"}).then((function(e){e.json().then((function(e){"success"===e.message&&(localStorage.removeItem("token"),localStorage.removeItem("tabIndex"),t.replace("/"))}))}))}},"Log Out"));function G(e){e.preventDefault(),t.push("/events")}function U(){t.push("/home")}function J(){t.push("/profile")}function V(){t.push("/yourevents")}var Y=function(){P(!1),F(!1)};function K(){localStorage.setItem("tabIndex",0),j(0),t.push("/home")}return r.a.createElement("div",{className:a.grow},r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{position:"sticky",color:"secondary"},r.a.createElement(de.a,null,r.a.createElement("img",{src:Mt.a,alt:"logo",onClick:K,className:a.mobileTitle}),r.a.createElement(f.a,{className:a.titleButton,onClick:K},r.a.createElement(C.a,{className:a.title,variant:"h5",noWrap:!0},"Ellipse")),r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},r.a.createElement(he.a,null)),r.a.createElement(Te.a,{freeSolo:!0,id:"search",placeholder:"search..",options:H,getOptionLabel:function(e){return e.name},onChange:function(e,t){t&&(k(t),P(!0))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{placeholder:"search..",className:a.inputInput}))}})),r.a.createElement("div",{className:a.tabs},r.a.createElement(oe.a,{square:!0,className:a.root},r.a.createElement(ie.a,{value:y,onChange:L,variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon"},r.a.createElement(ce.a,{onClick:U,icon:r.a.createElement(Ne.a,null),"aria-label":"home"}),r.a.createElement(ce.a,{onClick:G,icon:r.a.createElement(ye.a,null),"aria-label":"event"}),r.a.createElement(ce.a,{onClick:V,icon:r.a.createElement(xe.a,null),"aria-label":"person"}),r.a.createElement(ce.a,{onClick:J,icon:r.a.createElement(me.a,null),"aria-label":"person"})))),r.a.createElement("div",{className:a.grow}),r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(te.a,{"aria-label":"notifications",color:"inherit",onClick:function(){fetch("http://139.59.16.53:4000/api/update_notification_status",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){D(0)}))})),F(!0)}},r.a.createElement(Q.a,{badgeContent:T,color:"secondary"},r.a.createElement(be.a,null))),r.a.createElement(te.a,{edge:"end","aria-label":"account of current user","aria-controls":M,"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit"},r.a.createElement(ke.a,null))))),q,r.a.createElement(ue.a,{position:"sticky",color:"secondary"},r.a.createElement("div",{className:a.mobiletab},r.a.createElement(oe.a,{square:!0,className:a.root,position:"sticky"},r.a.createElement(ie.a,{value:y,onChange:L,variant:"fullWidth",indicatorColor:"primary",textColor:"primary"},r.a.createElement(ce.a,{onClick:U,icon:r.a.createElement(Ne.a,null),"aria-label":"home"}),r.a.createElement(ce.a,{onClick:G,icon:r.a.createElement(ye.a,null),"aria-label":"event"}),r.a.createElement(ce.a,{onClick:V,icon:r.a.createElement(xe.a,null),"aria-label":"explore"}),r.a.createElement(ce.a,{onClick:J,icon:r.a.createElement(me.a,null),"aria-label":"person"}))))),r.a.createElement("div",null,B&&r.a.createElement(Pt,{open:B,event:S,handleReg:function(e){P(!1)},handleClose:Y}),r.a.createElement(Ft,{open:R,handleClick:function(e){e&&H.forEach((function(t){t._id===e&&(k(t),P(!0))}))},handleClose:Y}))))})),Gt=r.a.createContext(null),Ut=Object(S.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},root:{background:"white",position:"sticky",top:0,bottom:0,zIndex:5}}}));var Jt=Object(c.g)((function(e){var t=localStorage.getItem("token"),a=Ut(),n=r.a.useState([]),l=Object(p.a)(n,2),o=l[0],i=l[1],s=r.a.useState([]),m=Object(p.a)(s,2),u=m[0],d=m[1],g=r.a.useState(null),f=Object(p.a)(g,2),h=f[0],E=f[1],b=r.a.useState(!0),v=Object(p.a)(b,2),y=v[0],j=v[1],O=r.a.useState(!0),C=Object(p.a)(O,2),x=C[0],S=C[1],k=r.a.useState(!0),w=Object(p.a)(k,2),N=w[0],T=w[1];if(r.a.useEffect((function(){fetch("http://139.59.16.53:4000/api/users/me",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(a){200===a.status?a.json().then((function(a){if(!1===a[0].verified)try{var n=new FormData,r={email:a[0].email};n=JSON.stringify(r),fetch("http://139.59.16.53:4000/api/users/sendverificationemail",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},method:"POST",body:n}).then((function(t){t.json().then((function(t){"success"===t.message&&(j(!1),e.history.push("/otpverification"))}))}))}catch(l){}else null===a[0].college_name?(j(!1),e.history.push("/userinfo")):(T(!0),E(a[0]))})):401===a.status&&(localStorage.removeItem("token"),S(!1))})),fetch("http://139.59.16.53:4000/api/events",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){e.sort((function(e,t){return new Date(e.start_time)-new Date(t.start_time)})),i(e),d(e.filter((function(e){return new Date<new Date(e.finish_time)&&"pending"!==e.status})))})):401===e.status&&(localStorage.removeItem("token"),S(!1))}))}),[t]),!t)return r.a.createElement(c.a,{to:"/"});if(!x)return r.a.createElement(c.a,{to:"/"});if(!N){if(h.verified)return r.a.createElement(c.a,{to:"/userinfo"});console.log("xyz");try{var D=new FormData,_={email:h.email};D=JSON.stringify(_),fetch("http://139.59.16.53:4000/api/users/sendverificationemail",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},method:"POST",body:D}).then((function(e){e.json().then((function(e){if("success"===e.message)return r.a.createElement(c.a,{to:"/otpverification"})}))}))}catch(I){}}return r.a.createElement(vt.Provider,{value:h},r.a.createElement(Wt.Provider,{value:o},r.a.createElement(Gt.Provider,{value:u},null!=h&&r.a.createElement("div",null,r.a.createElement(oe.a,{className:a.root},r.a.createElement(qt,null)),r.a.createElement("div",null,e.children)),null==h&&r.a.createElement(le.a,{className:a.backdrop,open:y},r.a.createElement(z.a,{color:"inherit"})))))})),Vt=a(310),Yt=a(311),Kt=(a(632),a(710)),Xt=a(102),Zt=a.n(Xt),Qt=Object(S.a)((function(e){var t,a;return{root:{height:"300px"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:(t={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(x.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(x.a)(t,"top",e.spacing(10)),t),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(a={borderRadius:e.spacing(50)},Object(x.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(x.a)(a,"backgroundColor",e.palette.primary.main),Object(x.a)(a,"color",e.palette.primary.light),a),fab:Object(x.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(x.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"})}}));var $t=function(e){var t=e.history;localStorage.setItem("tabIndex",1);var a=Qt(),l=r.a.useState([]),o=Object(p.a)(l,2),i=o[0],c=o[1],s=r.a.useState(!1),m=Object(p.a)(s,2),u=m[0],d=m[1],h=r.a.useState([]),E=Object(p.a)(h,2),b=E[0],v=E[1],j=r.a.useState([]),O=Object(p.a)(j,2),x=O[0],S=O[1],k=r.a.useContext(Gt);Object(n.useEffect)((function(){k.forEach((function(e){c((function(t){return[].concat(Object(it.a)(t),[{id:JSON.stringify(e),title:e.name,start:e.start_time,end:e.finish_time}])}))})),S(k.filter((function(e){return!0===e.registered})))}),[k]);var w=function(){t.push("/post")},N=function(e){return function(){v(e),d(!0)}};return r.a.createElement("div",null,r.a.createElement("div",{className:a.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:3,lg:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8},r.a.createElement(Vt.a,{eventBackgroundColor:"#1C1C1E",eventBorderColor:"#00bdaa",events:i,eventClick:function(e){v(JSON.parse(e.event.id)),d(!0)},defaultView:"dayGridMonth",plugins:[Yt.a],backgroundColor:"black",buttonIcons:!1})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:!1,lg:2},r.a.createElement(Kt.a,{color:"primary","aria-label":"add",className:a.fab,onClick:w},r.a.createElement(Zt.a,null)),r.a.createElement(oe.a,{className:a.rpaper},r.a.createElement(oe.a,{className:a.subRpaper},r.a.createElement(f.a,{onClick:w,variant:"contained",fullWidth:!0,size:"large",className:a.postButton},"Post Event"),r.a.createElement(St.a,{className:a.sideList},r.a.createElement(C.a,{variant:"body2"},"Registered Events"),x.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(mt.a,{onClick:N(e),key:t,button:!0},r.a.createElement(gt.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(ut.a,{primary:e.name})),r.a.createElement(At.a,null))}))))))),r.a.createElement("div",null,r.a.createElement(Pt,{open:u,event:b,handleClose:function(){d(!1)},handleReg:function(e){d(!1),t.push("/event/register/"+e._id)}}))))},ea=a(711),ta=a(712),aa=a(713),na=a(714),ra=a(313),la=a.n(ra),oa=a(312),ia=a.n(oa),ca=a(709),sa=a(638),ma=a(685),ua=a(635);function da(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}function pa(e){var t=Object(We.a)(),a=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!1),s=Object(p.a)(c,2),g=s[0],h=s[1],b=o.vertical,v=o.horizontal,j=o.open,O=o.message,C=o.type,x=o.autoHide,S=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(u.a)(Object(u.a)({},o),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=r.a.useState(null),w=Object(p.a)(k,2),N=w[0],T=w[1],_=r.a.useState(null),I=Object(p.a)(_,2),B=I[0],P=I[1],W=e.event;return r.a.createElement("div",null,r.a.createElement(D.a,{anchorOrigin:{vertical:b,horizontal:v},open:j,autoHideDuration:x,onClose:S,key:b+v},r.a.createElement(da,{onClose:S,severity:C},O)),r.a.createElement(Ie.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(ze.a,{id:"form-dialog-title"},"Report(",W.name,")"),r.a.createElement(_e.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:N||"",required:!0,onChange:function(e){T(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:B||"",required:!0,onChange:function(e){P(e.target.value)}})))),r.a.createElement(De.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){h(!0);try{var t=new FormData,n={event_id:W._id,title:N,description:B};t=JSON.stringify(n),fetch("http://139.59.16.53:4000/api/event/report",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},method:"POST",body:t}).then((function(t){t.json().then((function(t){"success"===t.message&&(h(!1),e.handleClose(),i({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3}))}))}))}catch(r){h(!1),i({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}},color:"primary"},g?r.a.createElement(z.a,{color:"primary",size:24}):"Send"))))}var ga=Object(S.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},morePopup:{zIndex:"5"}}}));var fa=function(e){var t=ga(),a=e.event,n=localStorage.getItem("theme"),l=new Date(a.start_time),o=new Date(a.finish_time),i=new Date(a.registration_end_time),c=r.a.useState(!1),s=Object(p.a)(c,2),m=s[0],u=s[1],d=r.a.useRef(null),g=r.a.useState(!1),h=Object(p.a)(g,2),E=h[0],b=h[1],v=r.a.useState(!1),y=Object(p.a)(v,2),j=y[0],O=y[1],x=r.a.useState(!1),S=Object(p.a)(x,2),k=S[0],w=S[1],N=function(e){d.current&&d.current.contains(e.target)||u(!1)};function T(e){"Tab"===e.key&&(e.preventDefault(),u(!1))}var D=r.a.useRef(m);function _(){O(!0)}function z(){w(!0)}return r.a.useEffect((function(){!0===D.current&&!1===m&&d.current.focus(),D.current=m}),[m]),r.a.createElement(ea.a,{className:t.root},r.a.createElement(ta.a,{avatar:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{style:{display:E?"block":"none"},onClick:function(){e.imageDialog(a)},onLoad:function(){return b(!0)},alt:"Event Poster",height:"160",width:"150",src:"http://139.59.16.53:4000"+"/api/image?id=".concat(a.poster_url)}),!E&&r.a.createElement("div",{style:{height:"160px",width:"150px"}},r.a.createElement(ia.a,{color:"disabled",style:{height:"160px",width:"150px"}}))),action:r.a.createElement("div",null,r.a.createElement(te.a,{ref:d,"aria-controls":m?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){u((function(e){return!e}))}},r.a.createElement(la.a,null)),r.a.createElement(ca.a,{className:t.morePopup,open:m,anchorEl:d.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,a=e.placement;return r.a.createElement(ua.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.a.createElement(oe.a,null,r.a.createElement(ma.a,{onClickAway:N},r.a.createElement(sa.a,{autoFocusItem:m,id:"menu-list-grow",onKeyDown:T},r.a.createElement(pe.a,{onClick:z},"Share"),r.a.createElement(pe.a,{onClick:_},"Report")))))}))),title:r.a.createElement(C.a,{variant:"h5",color:"textPrimary",component:"p"},e.name),subheader:r.a.createElement(C.a,{variant:"body1",color:"textSecondary",component:"p"},a.description)}),r.a.createElement(aa.a,null,r.a.createElement(pa,{event:a,open:j,handleClose:function(){O(!1)}}),r.a.createElement(Me,{event:a,open:k,handleClose:function(){w(!1)}}),r.a.createElement(Ue.a,{variant:"outlined",color:"inherit",size:"small",label:a.event_mode}),r.a.createElement(Ue.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:a.fee_type}),r.a.createElement(Ue.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:a.event_type}),r.a.createElement(Ue.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Reg ends on "+i.toDateString()}),r.a.createElement(Ue.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Starts on "+l.toDateString()}),r.a.createElement(Ue.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Ends on "+o.toDateString()})),r.a.createElement(na.a,{disableSpacing:!0},r.a.createElement("div",{className:t.buttonDiv},r.a.createElement(f.a,{size:"small",color:"primary",variant:"outlined",className:t.button,onClick:function(){e.click(e.eventId)}},"See More"),"form"===a.reg_mode?r.a.createElement(f.a,{disabled:!!a.registered,size:"small",color:"primary",variant:"contained",className:t.button,onClick:function(){e.handleReg(e.eventId)}},a.registered?"Registered":"Register"):r.a.createElement(f.a,{disabled:!!a.registered,size:"small",color:"primary",variant:"contained",className:t.button},"light"===n?r.a.createElement("a",{href:a.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register"):r.a.createElement("a",{href:a.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register")))))},ha=a(716),Ea=a(55),ba=a(34),va=a(715),ya=a(732),ja=a(717),Oa=Object(S.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",top:e.spacing(10),zIndex:3},root:Object(x.a)({background:e.palette.primary.light,position:"sticky",marginLeft:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),root2:{marginTop:e.spacing(5),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,borderRadius:e.spacing(2)},filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50),backgroundColor:e.palette.primary.main}}}));var Ca=function(e){var t=Oa(),a=r.a.useContext(vt),n=function(t){return function(){var a=e.modeChecked.indexOf(t),n=Object(it.a)(e.modeChecked);-1===a?n.push(t):n.splice(a,1),e.setModeChecked(n)}},l=function(t){return function(){var a=e.feeChecked.indexOf(t),n=Object(it.a)(e.feeChecked);-1===a?n.push(t):n.splice(a,1),e.setFeeChecked(n)}};return r.a.createElement("div",null,r.a.createElement(oe.a,{className:t.root},r.a.createElement(C.a,{index:0},"Filters"),r.a.createElement(ba.a,{utils:Ea.a},r.a.createElement(va.a,{fullWidth:!0,variant:"dialog",format:"dd MMM yyyy",margin:"normal",id:"startDate",label:"From",name:"startDate",value:e.sortStartDate,onChange:e.handleSortDateChange}),r.a.createElement(va.a,{fullWidth:!0,variant:"dialog",format:"dd MMM yyyy",margin:"normal",id:"endDate",label:"To",name:"endDate",value:e.sortEndDate,onChange:e.handleEndSortDateChange})),r.a.createElement(C.a,{style:{paddingTop:"10px"}},"Event Mode"),r.a.createElement(St.a,{className:t.root},["Online","Offline"].map((function(t){var a="checkbox-list-label-".concat(t);return r.a.createElement(mt.a,{key:t,role:void 0,dense:!0,button:!0,onClick:n(t)},r.a.createElement(ha.a,null,r.a.createElement(F.a,{edge:"start",color:"default",checked:-1!==e.modeChecked.indexOf(t),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}})),r.a.createElement(ut.a,{id:a,primary:t}))}))),r.a.createElement(C.a,{style:{paddingTop:"10px"}},"Event Cost"),r.a.createElement(St.a,{className:t.root},["Free","Paid"].map((function(t){var a="checkbox-list-label-".concat(t);return r.a.createElement(mt.a,{key:t,role:void 0,dense:!0,button:!0,onClick:l(t)},r.a.createElement(ha.a,null,r.a.createElement(F.a,{edge:"start",color:"default",checked:-1!==e.feeChecked.indexOf(t),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}})),r.a.createElement(ut.a,{id:a,primary:t}))}))),r.a.createElement(C.a,null,"College"),r.a.createElement(ja.a,{"aria-label":"address",name:"address",defaultValue:"All",onChange:e.handleSortCollegeChange,style:{display:"inline"}},r.a.createElement(St.a,{className:t.root},["All","".concat(a.college_name)].map((function(e){return r.a.createElement(mt.a,{key:e,role:void 0,dense:!0,button:!0},r.a.createElement(ha.a,null,r.a.createElement(R.a,{value:e,control:r.a.createElement(ya.a,{color:"default"}),label:e})))})))),r.a.createElement(f.a,{className:t.filterButton,onClick:e.handleSortApplyButton,variant:"contained"}," Apply "),r.a.createElement(f.a,{className:t.filterButton,onClick:e.handlesortDiscardButton,variant:"contained"},"Discard")),r.a.createElement("div",null))},xa=Object(S.a)((function(e){return{root:{background:e.palette.secondary.main,position:"sticky",top:e.spacing(10),marginLeft:e.spacing(1)},filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50)}}}));var Sa=function(e){var t=xa(),a=r.a.useContext(vt),n=function(t){return function(){var a=e.modeChecked.indexOf(t),n=Object(it.a)(e.modeChecked);-1===a?n.push(t):n.splice(a,1),e.setModeChecked(n)}},l=function(t){return function(){var a=e.feeChecked.indexOf(t),n=Object(it.a)(e.feeChecked);-1===a?n.push(t):n.splice(a,1),e.setFeeChecked(n)}};return r.a.createElement("div",null,r.a.createElement(oe.a,{className:t.root},r.a.createElement(C.a,{index:0},"Filters"),r.a.createElement(ba.a,{utils:Ea.a},r.a.createElement(va.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy",margin:"normal",id:"startDate",label:"From",name:"startDate",defaultValue:"",value:e.sortStartDate,onChange:e.handleSortDateChange}),r.a.createElement(va.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy",margin:"normal",id:"endDate",label:"To",name:"endDate",defaultValue:"",value:e.sortEndDate,onChange:e.handleEndSortDateChange,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(C.a,{style:{paddingTop:"10px"}},"Event Mode"),r.a.createElement(St.a,null,["online","offline"].map((function(t){var a="checkbox-list-label-".concat(t);return r.a.createElement(mt.a,{key:t,role:void 0,dense:!0,button:!0,onClick:n(t)},r.a.createElement(ha.a,null,r.a.createElement(F.a,{edge:"start",color:"default",checked:-1!==e.modeChecked.indexOf(t),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}})),r.a.createElement(ut.a,{id:a,primary:t}))}))),r.a.createElement(C.a,{style:{paddingTop:"10px"}},"Event Cost"),r.a.createElement(St.a,{className:t.root},["Free","Paid"].map((function(t){var a="checkbox-list-label-".concat(t);return r.a.createElement(mt.a,{key:t,role:void 0,dense:!0,button:!0,onClick:l(t)},r.a.createElement(ha.a,null,r.a.createElement(F.a,{edge:"start",color:"default",checked:-1!==e.feeChecked.indexOf(t),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}})),r.a.createElement(ut.a,{id:a,primary:t}))}))),r.a.createElement(C.a,null,"College"),r.a.createElement(ja.a,{"aria-label":"address",name:"address",defaultValue:"All",onChange:e.handleSortCollegeChange,style:{display:"inline"}},r.a.createElement(St.a,{className:t.root},["All","".concat(a.collegeName)].map((function(e){return r.a.createElement(mt.a,{key:e,role:void 0,dense:!0,button:!0},r.a.createElement(ha.a,null,r.a.createElement(R.a,{value:e,control:r.a.createElement(ya.a,{color:"default"}),label:e})))})))),r.a.createElement(f.a,{className:t.filterButton,onClick:e.handleSortApplyButton,variant:"contained"}," Apply "),r.a.createElement(f.a,{className:t.filterButton,onClick:e.handlesortDiscardButton,variant:"contained"},"Discard")),r.a.createElement("div",null))},ka=a(718);function wa(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}function Na(e){var t=Object(We.a)(),a=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!1),s=Object(p.a)(c,2),g=s[0],h=s[1],b=o.vertical,v=o.horizontal,j=o.open,O=o.message,C=o.type,x=o.autoHide,S=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(u.a)(Object(u.a)({},o),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=r.a.useState(null),w=Object(p.a)(k,2),N=w[0],T=w[1];return r.a.createElement("div",null,r.a.createElement(D.a,{anchorOrigin:{vertical:b,horizontal:v},open:j,autoHideDuration:x,onClose:S,key:b+v},r.a.createElement(wa,{onClose:S,severity:C},O)),r.a.createElement(Ie.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(ze.a,{id:"form-dialog-title"},"FeedBack)"),r.a.createElement(_e.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:N||"",required:!0,onChange:function(e){T(e.target.value)}})))),r.a.createElement(De.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){h(!0);try{var t=new FormData,n={description:N};t=JSON.stringify(n),fetch("http://139.59.16.53:4000/api/event/send_feedback",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},method:"POST",body:t}).then((function(t){t.json().then((function(t){"success"===t.message&&(h(!1),e.handleClose(),i({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3}))}))}))}catch(r){h(!1),i({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}},color:"primary"},g?r.a.createElement(z.a,{color:"primary",size:24}):"Send"))))}var Ta=Object(S.a)((function(e){var t,a,n;return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:(t={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"89vh"},Object(x.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(x.a)(t,"top",e.spacing(10)),t),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(a={borderRadius:e.spacing(50)},Object(x.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(x.a)(a,"backgroundColor",e.palette.primary.main),a),root:Object(x.a)({background:e.palette.primary.light,position:"sticky",top:e.spacing(10),marginLeft:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),leftSubPaper:Object(x.a)({backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},e.breakpoints.down("md"),{maxHeight:"78vh"}),root2:Object(x.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"}),filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50)},fab:Object(x.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),mobileFilterButton:Object(x.a)({},e.breakpoints.up("md"),{display:"none"}),skeleton:{textDecorationColor:e.palette.primary.dark},feedBackButton:(n={borderRadius:e.spacing(50),marginTop:e.spacing(1)},Object(x.a)(n,e.breakpoints.down("md"),{display:"none"}),Object(x.a)(n,"paddingBottom",e.spacing(1)),n)}}));var Da=Object(c.g)((function(e){var t=e.history;localStorage.setItem("tabIndex",0);var a=localStorage.getItem("token"),n=r.a.useContext(vt),l=Ta(),o=r.a.useState(!1),i=Object(p.a)(o,2),c=i[0],s=i[1],u=r.a.useState(!1),h=Object(p.a)(u,2),E=h[0],b=h[1],v=r.a.useState(""),j=Object(p.a)(v,2),O=j[0],x=j[1],S=r.a.useState(null),k=Object(p.a)(S,2),w=k[0],N=k[1],T=r.a.useState(null),D=Object(p.a)(T,2),_=D[0],z=D[1],I=r.a.useState(""),B=Object(p.a)(I,2),P=B[0],W=B[1],A=r.a.useState([]),R=Object(p.a)(A,2),F=R[0],H=R[1],L=r.a.useState(!1),M=Object(p.a)(L,2),q=M[0],G=M[1],U=r.a.useState([0]),J=Object(p.a)(U,2),V=J[0],Y=J[1],K=r.a.useState([0]),X=Object(p.a)(K,2),Z=X[0],Q=X[1],$=r.a.useState(!1),ee=Object(p.a)($,2),te=ee[0],ae=ee[1],ne=r.a.useContext(Gt),re=r.a.useState([]),le=Object(p.a)(re,2),ie=le[0],ce=le[1],se=r.a.useState(!1),me=Object(p.a)(se,2),ue=me[0],de=me[1];r.a.useEffect((function(){ce(ne.filter((function(e){return!0===e.registered})))}),[ne]),a||t.replace("/");var pe=function(e,t){x(e),s(!0)},ge=function(){t.push("/post")},fe=function(e){console.log(e),N(e)},he=function(e){z(e)};function Ee(e,t){W(t)}function be(){return ve.apply(this,arguments)}function ve(){return(ve=Object(d.a)(m.a.mark((function e(){var t,a,r,l,o,i,c,s,u,d,p,g,f,h,E,b,v,y;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae(!1),null==w||null==_){e.next=8;break}t=ye(w,_,ne),H(t),G(!0),Z.length>1?(console.log(Oe(t)),a=Oe(t),H(a),G(!0),V.length>1&&(r=Ce(a),H(r),G(!0),P===n.college_name&&(l=xe(r),H(l),G(!0)))):V.length>1?(o=Ce(t),H(o),G(!0),P===n.college_name&&(i=xe(o),H(i),G(!0))):P===n.collegeName&&(c=xe(t),H(c),G(!0)),e.next=18;break;case 8:if(null==w){e.next=17;break}return e.next=11,je(w,ne);case 11:s=e.sent,H(s),G(!0),Z.length>1?(console.log(Oe(s)),u=Oe(s),H(u),G(!0),V.length>1&&(d=Ce(s),H(d),G(!0),P===n.collegeName&&(p=xe(d),H(p),G(!0)))):V.length>1?(g=Ce(s),H(g),G(!0),P===n.collegeName&&(f=xe(g),H(f),G(!0))):P===n.collegeName&&(h=xe(s),H(h),G(!0)),e.next=18;break;case 17:Z.length>1?(E=Oe(ne),console.log(Oe(ne)),H(E),G(!0),V.length>1&&(b=Ce(E),H(b),G(!0))):V.length>1?(v=Ce(ne),H(v),G(!0)):P===n.collegeName&&(y=xe(ne),H(y),G(!0));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,t,a){var n=[];return a.forEach((function(a){var r=new Date(a.start_time);e.getTime()<=r.getTime()&&r.getTime()<=t.getTime()&&n.push(a)})),n}function je(e,t){var a=[];return t.forEach(function(){var t=Object(d.a)(m.a.mark((function t(n){var r,l,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r="".concat(e.getDate())+e.getMonth()+e.getFullYear(),l=new Date(n.start_time),o="".concat(l.getDate())+l.getMonth()+l.getFullYear(),console.log(o),r===o&&(console.log(n),a.push(n)),console.log(F);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),console.log(a),a}function Oe(e){var t=[];return e.forEach((function(e){Z.includes(e.event_mode)&&(console.log("ddd"),t.push(e))})),console.log(t),t}function Ce(e){var t=[];return e.forEach((function(e){V.includes(e.fee_type)&&t.push(e)})),t}function xe(e){var t=[];return e.forEach((function(e){n.collegeName===e.college&&t.push(e)})),t}function Se(){Q([0]),Y([0]),H([]),N(null),z(null),G(!1),ae(!1)}function ke(e){x(e),b(!0)}function we(e){x(e),t.push("/event/register/"+e._id)}var Ne=function(e){return function(){x(e),s(!0)}};return r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:!1,md:3,lg:2,style:{padding:"10px"}},r.a.createElement(oe.a,{className:l.root},r.a.createElement(oe.a,{className:l.leftSubPaper},r.a.createElement(Ca,{handleSortDateChange:fe,sortStartDate:w,handleEndSortDateChange:he,sortEndDate:_,handleSortCollegeChange:Ee,feeChecked:V,modeChecked:Z,setFeeChecked:Y,setModeChecked:Q,handleSortApplyButton:be,handlesortDiscardButton:Se}))),r.a.createElement(f.a,{className:l.mobileFilterButton,variant:"outlined",onClick:function(){ae(!0)}},"Filters")),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8},r.a.createElement(C.a,{variant:"h5",style:{paddingTop:"5px",paddingBottom:"7px"}}),0===ne.length&&r.a.createElement("div",null,r.a.createElement(ka.a,{variant:"rect",animation:"wave",height:118}),r.a.createElement(ka.a,{animation:"wave"}),r.a.createElement(ka.a,{animation:"wave"}),r.a.createElement(ka.a,{animation:"wave"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ka.a,{variant:"rect",animation:"wave",height:118}),r.a.createElement(ka.a,{animation:"wave"}),r.a.createElement(ka.a,{animation:"wave"}),r.a.createElement(ka.a,{animation:"wave"})),q?F.map((function(e,t){return r.a.createElement(fa,{key:t,click:pe,url:n.imageUrl,name:e.name,startTime:e.start_time,endTime:e.finish_time,eventMode:e.eventMode,eventType:e.eventType,regEndTime:e.registrationEndTime,event:e,feeType:e.feesType,imageDialog:ke,handleReg:we,eventId:e})})):ne.map((function(e,t){return r.a.createElement(fa,{key:t,click:pe,url:n.imageUrl,name:e.name,startTime:e.start_time,endTime:e.finish_time,eventMode:e.eventMode,eventType:e.eventType,regEndTime:e.registrationEndTime,eventId:e,feeType:e.feesType,imageDialog:ke,handleReg:we,event:e})}))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2},r.a.createElement(Kt.a,{color:"primary","aria-label":"add",className:l.fab,onClick:ge},r.a.createElement(Zt.a,null)),r.a.createElement(oe.a,{className:l.rpaper},r.a.createElement(oe.a,{className:l.subRpaper},r.a.createElement(f.a,{onClick:ge,variant:"contained",fullWidth:!0,size:"large",className:l.postButton},"Post Event"),r.a.createElement(St.a,{className:l.root2},r.a.createElement(C.a,{variant:"body2"},"Registered Events"),ie.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(mt.a,{onClick:Ne(e),key:t,button:!0},r.a.createElement(gt.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(ut.a,{primary:e.name})),r.a.createElement(At.a,null))}))),r.a.createElement(f.a,{onClick:function(){de(!0)},variant:"outlined",fullWidth:!0,size:"large",className:l.feedBackButton},"Report Bug/Feedback"))))),r.a.createElement("div",null,r.a.createElement(Na,{open:ue,handleClose:function(){de(!1)}}),c&&r.a.createElement(Pt,{open:c,event:O,handleClose:function(){s(!1)},handleReg:we,imageDialog:ke}),r.a.createElement(Ve,{event:O,open:E,handleClose:function(){b(!1)}}),r.a.createElement(Ie.a,{open:te,onClose:function(){ae(!1)},fullWidth:!0,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",maxWidth:"sm",PaperProps:{style:{backgroundColor:"#1C1C1E",boxShadow:"none"}}},r.a.createElement(ze.a,null,"Filters"),r.a.createElement(_e.a,null,r.a.createElement(Sa,{handleSortDateChange:fe,sortStartDate:w,handleEndSortDateChange:he,sortEndDate:_,handleSortCollegeChange:Ee,feeChecked:V,modeChecked:Z,setFeeChecked:Y,setModeChecked:Q,handleSortApplyButton:be,handlesortDiscardButton:Se})))))})),_a=a(719),za=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main}}}));function Ia(e){var t=za(),a=e.event,n=(localStorage.getItem("theme"),r.a.useState(!1)),l=Object(p.a)(n,2),o=l[0],c=l[1];return r.a.createElement(ea.a,{className:t.root},r.a.createElement(_a.a,{component:"img",height:"180",image:"http://139.59.16.53:4000"+"/api/image?id=".concat(a.poster_url)}),r.a.createElement(aa.a,null,r.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name)),r.a.createElement(na.a,null,r.a.createElement(f.a,{size:"small",color:"primary",onClick:function(){c(!0)}},"Share"),r.a.createElement(f.a,{onClick:function(){e.handleViewClick(e.event)},size:"small",color:"primary"},r.a.createElement(i.b,{target:"_blank",to:{pathname:"/event/".concat(a._id)},style:{textDecoration:"none",color:"#00bdaa"}},"View")),r.a.createElement(C.a,{align:"right",variant:"body2",color:"textSecondary",component:"p"},a.status.toUpperCase())),r.a.createElement(Me,{event:a,open:o,handleClose:function(){c(!1)}}))}var Ba=function(e){e.children;var t=e.value,a=e.url,n=e.index,l=Object(qe.a)(e,["children","value","url","index"]),o=r.a.useState(!1),i=Object(p.a)(o,2),c=i[0],s=i[1],m=r.a.useContext(vt),u=r.a.useContext(Wt).filter((function(e){return e.user_id===m.user_id})),d=r.a.useState(""),g=Object(p.a)(d,2),f=g[0],h=g[1];function E(e){h(e)}return r.a.createElement("div",Object.assign({role:"tabpanel"},l),t===n&&r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===u.length&&r.a.createElement(C.a,null,"No Posted Events"),u.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,key:t},r.a.createElement(Ia,{event:e,handleViewClick:E,name:e.name,image:a}))})),r.a.createElement(Pt,{open:c,event:f,handleClose:function(){s(!1)},name:f.name,startTime:f.start_time,endTime:f.finish_time,regEndTime:f.registrationEndTime,type:f.eventType,tags:f.tags,mode:f.eventMode,feeType:f.feesType,url:m.imageUrl}))))},Pa=a(238),Wa=a.n(Pa),Aa=a(316),Ra=a.n(Aa),Fa=a(315),Ha=a.n(Fa),La=a(317),Ma=a.n(La),qa=a(193),Ga=a.n(qa),Ua=a(314),Ja=a.n(Ua),Va=Object(S.a)((function(e){return{root3:{display:"flex",justifyContent:"flex-start",paddingLeft:e.spacing(4)},content:{marginTop:e.spacing(1),paddingTop:e.spacing(1)},avatar:{margin:e.spacing(1.5),padding:e.spacing(1)}}}));var Ya=function(e){var t=Va(),a=r.a.useState(r.a.createElement(Wa.a,null)),n=Object(p.a)(a,2),l=n[0],o=n[1];return r.a.useEffect((function(){switch(e.name){case"Username":o(r.a.createElement(Ja.a,null));break;case"Name":o(r.a.createElement(Ga.a,null));break;case"College":o(r.a.createElement(Ha.a,null));break;case"Gender":o(r.a.createElement(Ra.a,null));break;case"Bio":o(r.a.createElement(pt.a,null));break;case"Designation":o(r.a.createElement(Ma.a,null));break;case"Email":o(r.a.createElement(Wa.a,null));break;default:o(r.a.createElement(pt.a,null))}}),[e.name]),r.a.createElement(v.a,{className:t.root3},r.a.createElement(v.a,{className:t.avatar},r.a.createElement(g.a,null,l)),r.a.createElement(v.a,{className:t.content},r.a.createElement(v.a,null,r.a.createElement(C.a,null,e.name)),r.a.createElement(v.a,null,r.a.createElement(C.a,{variant:"body2",color:"textSecondary"},e.value))))},Ka=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main},editIcon:{display:"flex",justifyContent:"flex-end"}}}));var Xa=function(e){var t=Ka(),a=(e.children,e.value),n=(e.url,e.index),l=Object(qe.a)(e,["children","value","url","index"]),o=r.a.useContext(vt);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},l),a===n&&r.a.createElement("div",{className:t.root},r.a.createElement(v.a,null,r.a.createElement(v.a,{className:t.editIcon},r.a.createElement(te.a,{onClick:e.handleEditButton},r.a.createElement(ee.a,null))),r.a.createElement(Ya,{name:"Name",value:o.name}),r.a.createElement(Ya,{name:"Email",value:o.email}),r.a.createElement(Ya,{name:"Username",value:o.username}),r.a.createElement(Ya,{name:"College",value:o.college_name}),r.a.createElement(Ya,{name:"Designation",value:o.designation}),r.a.createElement(Ya,{name:"Gender",value:o.gender}),r.a.createElement(Ya,{name:"Bio",value:o.bio}))))},Za=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main}}}));function Qa(e){var t=Za(),a=e.event,n=localStorage.getItem("token"),l=r.a.useState(""),o=Object(p.a)(l,2),i=o[0],c=o[1];return r.a.useEffect((function(){fetch("http://139.59.16.53:4000"+"/api/event/get_event_name?eventId=".concat(a.event_id),{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){c(e)}))}))}),[a,n]),r.a.createElement(ea.a,{className:t.root},r.a.createElement(aa.a,null,r.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},i)),r.a.createElement(na.a,null,r.a.createElement(f.a,{disabled:"GENERATED"!==a.certificate_status.toUpperCase(),download:!0,target:"_blank",href:"http://139.59.16.53:4000"+"/api/user/certificate?id=".concat(a.certificate_url),size:"small",color:"primary",onClick:function(){}},"Download"),r.a.createElement(C.a,{align:"right",variant:"body2",color:"textSecondary",component:"p"},a.certificate_status.toUpperCase())))}var $a=function(e){e.children;var t=e.value,a=(e.url,e.index),n=Object(qe.a)(e,["children","value","url","index"]),l=localStorage.getItem("token"),o=r.a.useState([]),i=Object(p.a)(o,2),c=i[0],s=i[1];return r.a.useEffect((function(){fetch("http://139.59.16.53:4000/api/user/get_certificates",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){s(e)}))}))}),[l]),r.a.createElement("div",Object.assign({role:"tabpanel"},n),t===a&&r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===c.length&&r.a.createElement(C.a,null,"No Posted Events"),c.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:6,key:t},r.a.createElement(Qa,{event:e}))})))))},en=Object(S.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5),borderRadius:e.spacing(3)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"}}}));var tn=function(e){localStorage.setItem("tabIndex",3);var t=en(),a=r.a.useState(0),n=Object(p.a)(a,2),l=n[0],o=n[1],i=r.a.useContext(vt);return r.a.createElement(ea.a,{className:t.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(h.a,null),r.a.createElement(y.a,{item:!0,xs:!1,sm:!1,md:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:8},r.a.createElement(ta.a,{avatar:r.a.createElement(g.a,{className:t.large,sizes:"100",alt:"",src:"http://139.59.16.53:4000"+"/api/image?id=".concat(i.profile_pic)},r.a.createElement(Ga.a,null)),action:r.a.createElement(f.a,{variant:"outlined",color:"default",className:t.button,onClick:e.handleEditButton},"Edit Profile"),title:r.a.createElement(C.a,{variant:"h4"},i.name),subheader:i.bio})),r.a.createElement(y.a,{item:!0,xs:!1,sm:!1,md:2})),r.a.createElement(aa.a,null,r.a.createElement(oe.a,{className:t.root2},r.a.createElement(ie.a,{value:l,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(ce.a,{label:"About"}),r.a.createElement(ce.a,{label:"Posted Events"}),r.a.createElement(ce.a,{label:"Certificates"}))),r.a.createElement("div",null,r.a.createElement(Xa,{handleEditButton:e.handleEditButton,value:l,index:0}),r.a.createElement(Ba,{url:i.imageUrl,value:l,index:1}),r.a.createElement($a,{url:i.imageUrl,value:l,index:2}))))},an=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},button:{marginTop:e.spacing(4)}}}));function nn(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}var rn=function(e){var t=an(),a=(e.children,e.value),n=(e.url,e.index),l=Object(qe.a)(e,["children","value","url","index"]),o=r.a.useContext(vt),i=localStorage.getItem("token"),c=r.a.useState([]),s=Object(p.a)(c,2),h=s[0],b=s[1],v=r.a.useState(null),j=Object(p.a)(v,2),O=j[0],C=j[1],x=r.a.useState(null),S=Object(p.a)(x,2),k=S[0],w=S[1],N=r.a.useState(null),T=Object(p.a)(N,2),_=T[0],I=T[1],B=r.a.useState(null),P=Object(p.a)(B,2),W=P[0],A=P[1],R=r.a.useState(null),F=Object(p.a)(R,2),H=F[0],L=F[1],M=r.a.useState(null),q=Object(p.a)(M,2),G=q[0],U=q[1],J=r.a.useState(null),V=Object(p.a)(J,2),Y=V[0],$=V[1],ae=r.a.useState(null),ne=Object(p.a)(ae,2),re=ne[0],le=ne[1],oe=r.a.useState(null),ie=Object(p.a)(oe,2),ce=ie[0],se=ie[1],me=r.a.useState([]),ue=Object(p.a)(me,2),de=ue[0],pe=ue[1],ge=r.a.useState(null),fe=Object(p.a)(ge,2),he=fe[0],Ee=fe[1],be=r.a.useState(!1),ve=Object(p.a)(be,2),ye=ve[0],je=ve[1],Oe=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),Ce=Object(p.a)(Oe,2),xe=Ce[0],Se=Ce[1],ke=r.a.useState(!1),we=Object(p.a)(ke,2),Ne=we[0],De=we[1],_e=xe.vertical,ze=xe.horizontal,Ie=xe.open,Be=xe.message,Pe=xe.type;r.a.useEffect((function(){I(o.email),w(o.name),A(o.username),$(o.designation),le(o.college_name),se(o.college_id),L(o.bio),U(o.gender),fetch("http://139.59.16.53:4000/api/colleges",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){b(e),e.forEach((function(e){pe((function(t){return[].concat(Object(it.a)(t),[e.name])}))}))}))}))}),[i]);var We=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Se(Object(u.a)(Object(u.a)({},xe),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},l),a===n&&r.a.createElement("div",{className:t.root},r.a.createElement(D.a,{anchorOrigin:{vertical:_e,horizontal:ze},open:Ie,autoHideDuration:6e3,onClose:We,key:_e+ze},r.a.createElement(nn,{onClose:We,severity:Pe},Be)),r.a.createElement(y.a,{container:!0,component:"main",justify:"center",spacing:2},r.a.createElement(y.a,{item:!0,xs:12,md:12,alignContent:"center",alignItems:"center"},r.a.createElement(y.a,{container:!0,component:"main",justify:"center",spacing:2},r.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){C(e.target.files[0]);var t=URL.createObjectURL(e.target.files[0]);Ee(t),je(!0)}},style:{display:"none"}}),r.a.createElement(Q.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(te.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(ee.a,null)))},r.a.createElement(g.a,{className:t.large,sizes:"100",alt:"",src:ye?he:"http://139.59.16.53:4000"+"/api/image?id=".concat(o.profile_pic)})))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(E.a,{autoComplete:"fullName",name:"fullName",value:k||"",onChange:function(e,t){w(e.target.value)},id:"fullName",label:"Full Name",autoFocus:!0,fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(E.a,{disabled:!0,id:"email",value:_,onChange:function(e,t){I(t)},fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(E.a,{fullWidth:!0,required:!0,id:"username",label:"User Name",name:"username",value:W,onChange:function(e,t){A(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(Te.a,{fullWidth:!0,id:"college",options:de,getOptionLabel:function(e){return e},value:re,onChange:function(e,t){le(t),h.forEach((function(e){e.name===t&&se(e._id)}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({name:"college",fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Bio",autoComplete:"off",required:!0,id:"bio",name:"bio",label:"Bio",fullWidth:!0,value:H,onChange:function(e,t){L(t)}})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(Z.a,{fullWidth:!0,required:!0},r.a.createElement(X.a,{htmlFor:"outlined-age-native-simple"},"Gender"),r.a.createElement(K.a,{value:G,onChange:function(e,t){console.log(e.target.value),U(e.target.value)},fullWidth:!0,native:!0,label:"Age",inputProps:{name:"gender",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Others"},"Others")))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(Z.a,{fullWidth:!0,required:!0},r.a.createElement(X.a,{htmlFor:"outlined-age-native-simple"},"You are"),r.a.createElement(K.a,{value:Y,onChange:function(e,t){$(e.target.value)},fullWidth:!0,native:!0,label:"You are",inputProps:{name:"designation",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"WorkingProfessional"},"Working Professional"),r.a.createElement("option",{value:"Club/Organisation"},"Club/Organisation"))))),r.a.createElement(f.a,{className:t.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),De(!0);try{var t=new FormData,a={name:k,email:_,username:W,college_id:ce,designation:Y,gender:G,bio:H};t=JSON.stringify(a),fetch("http://139.59.16.53:4000/api/users/updateprofile",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){200===e.status&&e.json().then((function(e){if(ye){var t=new FormData;t.append("image",O),fetch("http://139.59.16.53:4000/api/users/uploadImage",{headers:{Authorization:"Bearer ".concat(i)},method:"POST",body:t}).then((function(e){200===e.status&&(De(!1),Se({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else De(!1),Se({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300})}))}))}catch(n){De(!1),Se({open:!0,vertical:"top",horizontal:"center",message:n.message,type:"error",autoHide:3e3})}},disabled:Ne},Ne?r.a.createElement(z.a,{color:"primary",size:24}):"Update Profile")))};function ln(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}var on=Object(S.a)((function(e){return{avatar:{backgroundColor:e.palette.primary.main},button:{marginTop:e.spacing(4)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)}}}));var cn=function(e){var t=on(),a=(e.children,e.value),n=(e.url,e.index),l=Object(qe.a)(e,["children","value","url","index"]),o=r.a.useContext(vt),i=localStorage.getItem("token"),c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error"}),s=Object(p.a)(c,2),g=s[0],b=s[1],v=r.a.useState(!1),j=Object(p.a)(v,2),O=j[0],C=j[1],x=g.vertical,S=g.horizontal,k=g.open,w=g.message,N=g.type,T=r.a.useState(null),_=Object(p.a)(T,2),I=_[0],B=_[1],P=r.a.useState(null),W=Object(p.a)(P,2),A=W[0],R=W[1],F=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(null),R(null),b(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},l),a===n&&r.a.createElement(H.a,{component:"main",maxWidth:"xs"},r.a.createElement(h.a,null),r.a.createElement(D.a,{anchorOrigin:{vertical:x,horizontal:S},open:k,autoHideDuration:2e3,onClose:F,key:x+S},r.a.createElement(ln,{onClose:F,severity:N},w)),r.a.createElement("div",{className:t.paper},r.a.createElement("form",{className:t.form,onSubmit:function(e){C(!0),e.preventDefault();try{var t=new FormData,a={email:o.email,cPassword:I,nPassword:A};t=JSON.stringify(a),fetch("http://139.59.16.53:4000/api/users/updatepassword",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){200===e.status?e.json().then((function(e){C(!1),b({open:!0,vertical:"top",horizontal:"center",message:e.message,type:"success"})})):401===e.status&&e.json().then((function(e){C(!1),b({open:!0,vertical:"top",horizontal:"center",message:e.error,type:"error"})}))}))}catch(n){C(!1),b({open:!0,vertical:"top",horizontal:"center",message:n.message,type:"error"})}}},r.a.createElement(y.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{required:!0,fullWidth:!0,name:"cPassword",label:"Current Password",type:"password",id:"cPassword",value:I,onChange:function(e){B(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{required:!0,fullWidth:!0,name:"nPassword",label:"New Password",type:"password",id:"nPassword",value:A,onChange:function(e){R(e.target.value)}}))),r.a.createElement(f.a,{className:t.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:O},O?r.a.createElement(z.a,{color:"primary",size:24}):"Update Password")))))};function sn(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var mn=Object(S.a)((function(e){return{icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root:{flexGrow:1},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"}}}));var un=function(e){var t=r.a.useState(0),a=Object(p.a)(t,2),n=a[0],l=a[1],o=mn(),i=Object(We.a)();function c(){e.handleClose()}return r.a.createElement(Ie.a,{open:e.open,onClose:c,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",style:{minHeight:"400px"},PaperProps:{style:{backgroundColor:i.palette.secondary.main,boxShadow:"none"}},classes:{paper:o.dialog}},r.a.createElement(ze.a,{id:"scroll-dialog-title"},r.a.createElement("div",{className:o.icons},r.a.createElement(te.a,{"aria-label":"close",className:o.closeButton,onClick:c},r.a.createElement(Re.a,{fontSize:"large"}))),r.a.createElement("div",{className:o.root},r.a.createElement(ue.a,{style:{alignItems:"center"},position:"static",color:"secondary"},r.a.createElement(ie.a,{value:n,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},r.a.createElement(ce.a,Object.assign({label:"Update info"},sn(0))),r.a.createElement(ce.a,Object.assign({label:"Change Password"},sn(1))))))),r.a.createElement(_e.a,{dividers:!0},r.a.createElement(rn,{value:n,index:0}),r.a.createElement(cn,{value:n,index:1})),r.a.createElement(De.a,{alignItems:"center"}))},dn=Object(S.a)((function(e){var t,a;return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3)},accordion:{backgroundColor:e.palette.primary.light},rpaper:(t={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(x.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(x.a)(t,"top",e.spacing(10)),t),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(a={borderRadius:e.spacing(50)},Object(x.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(x.a)(a,"backgroundColor",e.palette.primary.main),Object(x.a)(a,"color",e.palette.primary.light),a),fab:Object(x.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(x.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"})}}));var pn=function(e){var t=dn(),a=r.a.useState(!1),n=Object(p.a)(a,2),l=n[0],o=n[1],i=r.a.useState(!1),c=Object(p.a)(i,2),s=c[0],m=c[1],u=r.a.useContext(Gt),d=r.a.useState([]),h=Object(p.a)(d,2),E=h[0],b=h[1];function v(){o(!1),m(!1)}var j=function(){e.history.push("/post")},O=function(e){return function(){b(e),m(!0)}};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:3,lg:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8},r.a.createElement(tn,{handleEditButton:function(){o(!0)}}),r.a.createElement(un,{open:l,handleClose:v})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2},r.a.createElement(Kt.a,{color:"primary","aria-label":"add",className:t.fab,onClick:j},r.a.createElement(Zt.a,null)),r.a.createElement(oe.a,{className:t.rpaper},r.a.createElement(oe.a,{className:t.subRpaper},r.a.createElement(f.a,{onClick:j,variant:"contained",fullWidth:!0,size:"large",className:t.postButton},"Post Event"),r.a.createElement(St.a,{className:t.sideList},r.a.createElement(C.a,{variant:"body2"},"Explore Events"),u.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(mt.a,{onClick:O(e),key:t,button:!0},r.a.createElement(gt.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(ut.a,{primary:e.name})),r.a.createElement(At.a,null))}))))))),r.a.createElement("div",null,r.a.createElement(Pt,{open:s,event:E,handleClose:v,name:E.name,startTime:E.start_time,endTime:E.finish_time,regEndTime:E.registrationEndTime,type:E.eventType,tags:E.tags,mode:E.eventMode,feeType:E.feesType}))))},gn=a(741),fn=a(720),hn=a(735),En=a(744),bn=a(636),vn=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(0),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));function yn(e){var t=localStorage.getItem("token"),a=vn(),n=r.a.useState(!1),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!1),s=Object(p.a)(c,2),m=s[0],u=s[1],d=r.a.useState(!1),g=Object(p.a)(d,2),h=g[0],b=g[1],v=r.a.useState([]),j=Object(p.a)(v,2),O=j[0],C=j[1];r.a.useEffect((function(){fetch("http://139.59.16.53:4000/api/event/get_event_types",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.forEach((function(e){C((function(t){return[].concat(Object(it.a)(t),[e.title])}))}))}))}))}),[t]);return r.a.createElement("form",{className:a.form,onSubmit:function(t){t.preventDefault(),null===e.startDate?i(!0):null===e.endDate?u(!0):null===e.regEndDate?b(!0):e.handleNext()}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"eventName",name:"eventName",label:"Name",fullWidth:!0,value:e.name||"",onChange:function(t){e.setName(t.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"shortdesc",name:"shortdesc",label:"Short Description",fullWidth:!0,value:e.desc||"",onChange:function(t){e.setDesc(t.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:6},r.a.createElement(ba.a,{utils:Ea.a,required:!0},r.a.createElement(En.a,{inputProps:{required:!0},minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Start Date",name:"startDate",value:e.startDate,onChange:function(t){i(!1),e.setStartDate(t)},error:o,helperText:o&&"Fill this field"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:6},r.a.createElement(ba.a,{utils:Ea.a},r.a.createElement(En.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"endDate",label:"End Date",name:"endDate",value:e.endDate,onChange:function(t){u(!1),e.setEndDate(t)},error:m,helperText:m&&"Fill this field"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,lg:12},r.a.createElement(ba.a,{utils:Ea.a},r.a.createElement(En.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"regEndDate",label:"Registration End Date",name:"regEndDate",value:e.regEndDate,onChange:function(t){b(!1),e.setRegEndDate(t)},error:h,helperText:h&&"Fill this field"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,{fullWidth:!0,required:!0},r.a.createElement(X.a,{htmlFor:"outlined-age-native-simple"},"Mode"),r.a.createElement(K.a,{fullWidth:!0,native:!0,label:"Mode",inputProps:{name:"eventMode",id:"eventMode"},value:e.eventMode||"",onChange:function(t){e.setEventMode(t.target.value)}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Online"},"Online"),r.a.createElement("option",{value:"Offline"},"Offline")))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(Te.a,{fullWidth:!0,id:"combo-box-demo",options:O,getOptionLabel:function(e){return e},onChange:function(t,a){e.setEventType(a)},value:e.eventType,renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Type"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Z.a,{fullWidth:!0,required:!0},r.a.createElement(X.a,{htmlFor:"outlined-age-native-simple"},"Registration"),r.a.createElement(K.a,{fullWidth:!0,native:!0,label:"Registration",inputProps:{name:"registrationMode",id:"registaration mode"},value:e.registrationMode||"",onChange:function(t){"form"===t.target.value?e.setSteps((function(e){return[].concat(Object(it.a)(e),["Registration Form"])})):"link"===t.target.value&&e.setSteps(["About","More Details"]),e.setRegistrationMode(t.target.value)}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"form"},"Our Platform(Ellipse)"),r.a.createElement("option",{value:"link"},"Other")))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(bn.a,{component:"legend"},"Entry Fee"),r.a.createElement(ja.a,{"aria-label":"address",name:"address",defaultValue:"Free",onChange:function(t,a){e.setFeeType(a)},style:{display:"inline"}},r.a.createElement(R.a,{value:"Free",control:r.a.createElement(ya.a,{color:"default"}),label:"Free"}),r.a.createElement(R.a,{value:"Paid",control:r.a.createElement(ya.a,{color:"default"}),label:"Paid"})))),r.a.createElement("div",{className:a.buttons},r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:a.button},"Next")))}var jn=a(646),On=a(318),Cn=a.n(On),xn=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));function Sn(e){var t=localStorage.getItem("token"),a=xn(),n=r.a.useState(""),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useState([]),s=Object(p.a)(c,2),m=s[0],u=s[1],d=r.a.useState([]),g=Object(p.a)(d,2),h=g[0],b=g[1],v=r.a.useState([]),j=Object(p.a)(v,2),O=j[0],C=j[1],x=r.a.useState([]),S=Object(p.a)(x,2),k=S[0],w=S[1];return r.a.useEffect((function(){fetch("http://139.59.16.53:4000/api/colleges",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){u(e),e.forEach((function(e){b((function(t){return[].concat(Object(it.a)(t),[e.name])}))}))}))})),fetch("http://139.59.16.53:4000/api/event/get_event_keywords",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.forEach((function(e){"EventTags"===e.type?C((function(t){return[].concat(Object(it.a)(t),[e.title])})):"EventRequirements"===e.type&&w((function(t){return[].concat(Object(it.a)(t),[e.title])}))}))}))}))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:a.form,onSubmit:function(t){t.preventDefault(),e.handleNext()}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",required:!0,id:"about",name:"about",label:"About",fullWidth:!0,onChange:function(t){e.setAbout(t.target.value)},value:e.about||""})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(Te.a,{multiple:!0,id:"themes",options:O.map((function(e){return e})),freeSolo:!0,value:e.eventThemes||[],onChange:function(t,a){e.setThemes(a)},renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ue.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Event Tags",placeholder:"Event Tags"}))}})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(t){if(t.target.files[0]){e.setPoster(t.target.files[0]);var a=t.target.files[0].name;i(a)}},style:{display:"none"}}),r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"eventposter",name:"eventposter",label:"Event Poster",component:"span",value:o,fullWidth:!0,InputProps:{endAdornment:r.a.createElement(jn.a,{position:"start"},r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(te.a,{component:"span"},r.a.createElement(Cn.a,null))))}})),"form"!==e.registrationMode&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"regLink",name:"regLink",label:"Registration Link",fullWidth:!0,value:e.regLink||"",onChange:function(t){e.setRegLink(t.target.value)}})),"Paid"===e.feeType&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"regFees",name:"regFees",label:"Registration Fees",fullWidth:!0,value:e.regFees||"",onChange:function(t){e.setFees(t.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Te.a,{multiple:!0,id:"tags-filled",options:k.map((function(e){return e})),freeSolo:!0,value:e.requirements||[],onChange:function(t,a){e.setRequirements(a)},renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ue.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Requirements",placeholder:"Requirements"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Te.a,{fullWidth:!0,id:"combo-box-demo",options:h,value:e.college||[],getOptionLabel:function(e){return e},onChange:function(t,a){console.log(a),e.setCollegeName(a),m.forEach((function(t){t.name===a&&e.setCollegeId(t._id)}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(bn.a,{component:"legend"},"Participation"),r.a.createElement(ja.a,{"aria-label":"address",name:"address",defaultValue:"open",onChange:function(t,a){e.setParticipantsType(a)},style:{display:"inline"}},r.a.createElement(R.a,{value:"open",control:r.a.createElement(ya.a,{color:"default"}),label:"Open for all"}),r.a.createElement(R.a,{value:"onlycollege",control:r.a.createElement(ya.a,{color:"default"}),label:"Only ".concat(e.college)}))),"Offline"===e.eventMode&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(bn.a,{component:"legend"},"Address"),r.a.createElement(ja.a,{"aria-label":"address","aria-disabled":!0,name:"address",defaultValue:"college",onChange:function(t,a){e.setAddressType(a)},style:{display:"inline"}},r.a.createElement(R.a,{value:"college",control:r.a.createElement(ya.a,{color:"default"}),label:"College/University"}),r.a.createElement(R.a,{disabled:!0,value:"other",control:r.a.createElement(ya.a,{color:"default"}),label:"Others"}))),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",onChange:function(t){e.setBuilding(t.target.value)},value:e.building,id:"building",name:"building",label:"Room No & Building",fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(Te.a,{fullWidth:!0,id:"combo-box-demo",options:h,getOptionLabel:function(e){return e},value:e.venueCollege,onChange:function(t,a){e.setVenueCollege(a)},renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Venue College"}))}}))),"form"!==e.registrationMode&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(R.a,{control:r.a.createElement(F.a,{color:"primary",name:"terms"}),label:"I accept the terms and conditions"}))),r.a.createElement("div",{className:a.buttons},r.a.createElement(f.a,{onClick:e.handleBack,className:a.button},"Back"),r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:a.button},"form"!==e.registrationMode?"POST":"NEXT"))))}var kn=a(647);function wn(e){var t=Object(We.a)(),a=r.a.useState(null),n=Object(p.a)(a,2),l=n[0],o=n[1],i=r.a.useState(null),c=Object(p.a)(i,2),s=c[0],m=c[1],u=r.a.useState(["option1","option2"]),d=Object(p.a)(u,2),g=d[0],h=d[1];return r.a.createElement("div",null,r.a.createElement(Ie.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(ze.a,{id:"form-dialog-title"},"Add Field"),r.a.createElement(_e.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"name",label:"Field Name",name:"name",fullWidth:!0,value:l,required:!0,onChange:function(e){o(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Z.a,{fullWidth:!0,required:!0},r.a.createElement(X.a,{htmlFor:"outlined-age-native-simple"},"Type"),r.a.createElement(K.a,{fullWidth:!0,native:!0,label:"Type",inputProps:{name:"type",id:"outlined-age-native-simple"},value:e.eventMode,onChange:function(e){m(e.target.value)}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"short_text"},"Short Text"),r.a.createElement("option",{value:"paragraph"},"Long Description"),r.a.createElement("option",{value:"dropdown"},"Drop Down"),r.a.createElement("option",{value:"date"},"Date & Time"),r.a.createElement("option",{value:"radiobuttons"},"Radio Button"),r.a.createElement("option",{value:"checkboxes"},"Check Box"),r.a.createElement("option",{value:"link"},"Link")))),("radiobuttons"===s||"checkboxes"===s||"dropdown"===s)&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Te.a,{multiple:!0,id:"tags-filled",options:[].map((function(e){return e})),freeSolo:!0,value:g||[],onChange:function(e,t){h(t)},renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ue.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Options",placeholder:"Options",helperText:"you can choose multiple options for your checkboxes or radio buttons enter one option and press enter"}))}})))),r.a.createElement(De.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){"radiobuttons"!==s&&"checkboxes"!==s&&"dropdown"!==s?e.handleAdd(Object(x.a)({},l,{title:l,field:s,options:[]}),l):e.handleAdd(Object(x.a)({},l,{title:l,field:s,options:g}),l),e.handleClose()},color:"primary"},"Add"))))}var Nn=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},formControl:{},formgroup:{marginTop:e.spacing(1)},root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}));function Tn(e){var t=Nn(),a=r.a.useState(!1),n=Object(p.a)(a,2),l=n[0],o=n[1],i={name:{title:"Name",field:"short_text",options:[]},email:{title:"Email",field:"short_text",options:[]},college:{title:"College",field:"short_text",options:[]}},c=r.a.useState([]),s=Object(p.a)(c,2),g=s[0],h=s[1],E=r.a.useState({name:!1,email:!1,college:!1}),b=Object(p.a)(E,2),v=b[0],j=b[1],O=function(e){j(Object(u.a)(Object(u.a)({},v),{},Object(x.a)({},e.target.name,e.target.checked)));var t=e.target.name;e.target.checked?h((function(e){return[].concat(Object(it.a)(e),[i[t]])})):e.target.checked||h((function(e){return e.filter((function(e){return e.title!==t}))}))},C=v.name,S=v.email,k=v.college;function w(){return(w=Object(d.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.setFields(g);case 3:e.handlePost(g);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:t.form,onSubmit:function(e){return w.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(wn,{open:l,handleClose:function(){o(!1)},handleAdd:function(e,t){h((function(a){return[].concat(Object(it.a)(a),[e[t]])}))}}),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Z.a,{component:"fieldset",className:t.formControl},r.a.createElement(bn.a,{component:"legend"},"Fields for your Registration Form"),r.a.createElement(kn.a,{className:t.formgroup},r.a.createElement(R.a,{control:r.a.createElement(F.a,{color:"primary",checked:C,onChange:O,name:"name"}),label:"Name"}),r.a.createElement(R.a,{control:r.a.createElement(F.a,{color:"primary",checked:S,onChange:O,name:"email"}),label:"Email"}),r.a.createElement(R.a,{control:r.a.createElement(F.a,{color:"primary",checked:k,onChange:O,name:"college"}),label:"College"})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",color:"default",onClick:function(){o(!0)}},"Add More")),r.a.createElement(y.a,null,r.a.createElement(oe.a,{component:"ul",className:t.root},g.map((function(e){return r.a.createElement("li",{key:e.key},r.a.createElement(Ue.a,{label:e.title,onDelete:"React"===e.label?void 0:(a=e,function(){j(Object(u.a)(Object(u.a)({},v),{},Object(x.a)({},a.name,!1))),h((function(e){return e.filter((function(e){return e.title!==a.title}))}))}),className:t.chip}));var a})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(R.a,{control:r.a.createElement(F.a,{color:"primary",name:"terms"}),label:"I accept the terms and conditions"}))),r.a.createElement("div",{className:t.buttons},r.a.createElement(f.a,{onClick:e.handleBack,className:t.button},"Back"),r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"Post"))))}function Dn(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}function _n(){return r.a.createElement(C.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(b.a,{color:"inherit",href:"https://ellipseapp.com/"},"ellipseapp.com")," ",(new Date).getFullYear(),".")}var zn=Object(S.a)((function(e){var t;return{appBar:{position:"relative"},layout:Object(x.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:(t={marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(2)},Object(x.a)(t,e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(3),marginBottom:e.spacing(1),padding:e.spacing(3)}),Object(x.a)(t,"backgroundColor",e.palette.secondary.main),t),stepper:{padding:e.spacing(3,8,2),backgroundColor:e.palette.secondary.main},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},closeButton:Object(x.a)({position:"absolute",right:e.spacing(1),top:e.spacing(7)},e.breakpoints.down("md"),{top:e.spacing(12)}),backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function In(e){var t=e.history,a=zn(),n=localStorage.getItem("token"),l=r.a.useContext(vt),o=r.a.useState(0),i=Object(p.a)(o,2),c=i[0],s=i[1],g=r.a.useState(["About","More Details"]),f=Object(p.a)(g,2),E=f[0],b=f[1],v=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),y=Object(p.a)(v,2),j=y[0],O=y[1],x=r.a.useState(!1),S=Object(p.a)(x,2),k=S[0],w=S[1],N=j.vertical,T=j.horizontal,_=j.open,I=j.message,B=j.type,P=j.autoHide,W=r.a.useState(null),A=Object(p.a)(W,2),R=A[0],F=A[1],H=r.a.useState(null),L=Object(p.a)(H,2),M=L[0],q=L[1],G=r.a.useState(null),U=Object(p.a)(G,2),J=U[0],V=U[1],Y=r.a.useState(null),K=Object(p.a)(Y,2),X=K[0],Z=K[1],Q=r.a.useState(null),$=Object(p.a)(Q,2),ee=$[0],ae=$[1],ne=r.a.useState(null),re=Object(p.a)(ne,2),ie=re[0],ce=re[1],se=r.a.useState(null),me=Object(p.a)(se,2),ue=me[0],de=me[1],pe=r.a.useState(null),ge=Object(p.a)(pe,2),fe=ge[0],he=ge[1],Ee=r.a.useState("Free"),be=Object(p.a)(Ee,2),ve=be[0],ye=be[1],je=r.a.useState(null),Oe=Object(p.a)(je,2),Ce=Oe[0],xe=Oe[1],Se=r.a.useState(null),ke=Object(p.a)(Se,2),we=ke[0],Ne=ke[1],Te=r.a.useState(null),De=Object(p.a)(Te,2),_e=De[0],ze=De[1],Ie=r.a.useState(null),Be=Object(p.a)(Ie,2),Pe=Be[0],We=Be[1],Ae=r.a.useState(null),Fe=Object(p.a)(Ae,2),He=Fe[0],Le=Fe[1],Me=r.a.useState(null),qe=Object(p.a)(Me,2),Ge=qe[0],Ue=qe[1],Je=r.a.useState(null),Ve=Object(p.a)(Je,2),Ye=Ve[0],Ke=Ve[1],Xe=r.a.useState(l.college_name),Ze=Object(p.a)(Xe,2),Qe=Ze[0],$e=Ze[1],et=r.a.useState(l.college_id),tt=Object(p.a)(et,2),at=tt[0],nt=tt[1],rt=r.a.useState(null),lt=Object(p.a)(rt,2),ot=lt[0],it=lt[1],ct=r.a.useState(l.name+","+l.college_name),st=Object(p.a)(ct,2),mt=st[0],ut=st[1],dt=r.a.useState(null),pt=Object(p.a)(dt,2),gt=pt[0],ft=pt[1],ht=r.a.useState("open"),Et=Object(p.a)(ht,2),bt=Et[0],yt=Et[1],jt=r.a.useState([]),Ot=Object(p.a)(jt,2),Ct=Ot[0],xt=Ot[1],St=r.a.useState(null),kt=Object(p.a)(St,2),wt=kt[0],Nt=kt[1];var Tt=function(e){var t=!1;"open"===bt&&(t=!0),w(!0);try{var a=new FormData,r={user_id:l.user_id,name:R,description:M,start_time:ee,finish_time:ie,registration_end_time:ue,event_mode:J,event_type:fe,tags:Pe,reg_link:we,fee:_e,about:X,fee_type:ve,requirements:He,college_name:Qe,college_id:at,venue_type:Ye,venue:ot,reg_fields:e,reg_mode:Ce,o_allowed:t,platform_details:wt};a=JSON.stringify(r),fetch("http://139.59.16.53:4000/api/events",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){200===e.status?e.json().then((function(e){var t=new FormData;t.append("image",Ge),fetch("http://139.59.16.53:4000"+"/api/event/uploadimage?id=".concat(e.eventId),{headers:{Authorization:"Bearer ".concat(n)},method:"POST",body:t}).then((function(e){200===e.status&&e.json().then((function(e){w(!1),O({open:!0,vertical:"top",horizontal:"center",message:"Event Added Successfully",type:"success",autoHide:"4000"})}))}))})):e.json().then((function(e){console.log(e)}))}))}catch(o){w(!1),O({open:!0,vertical:"top",horizontal:"center",message:o.message,type:"error",autoHide:"5000"})}};function Dt(e){xt(e)}function _t(){Tt(null)}var zt=function(){s(c+1)},It=function(){s(c-1)};var Bt=function(){var e=Object(d.a)(m.a.mark((function e(a,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clickaway"!==n){e.next=2;break}return e.abrupt("return");case 2:"Event Added Successfully"===I&&t.replace("/home"),O(Object(u.a)(Object(u.a)({},j),{},{open:!1}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null),r.a.createElement(D.a,{anchorOrigin:{vertical:N,horizontal:T},open:_,autoHideDuration:P,onClose:Bt,key:N+T},r.a.createElement(Dn,{onClose:Bt,severity:B},I)),r.a.createElement(le.a,{open:k,className:a.backdrop},r.a.createElement(z.a,null)),r.a.createElement("main",{className:a.layout},r.a.createElement(te.a,{"aria-label":"close",className:a.closeButton,onClick:function(){t.goBack()}},r.a.createElement(Re.a,{fontSize:"large"})),r.a.createElement(oe.a,{className:a.paper},r.a.createElement(C.a,{component:"h1",variant:"h4",align:"center"},"Post your Event"),r.a.createElement(gn.a,{activeStep:c,className:a.stepper},E.map((function(e){return r.a.createElement(fn.a,{key:e},r.a.createElement(hn.a,null,e))}))),r.a.createElement(r.a.Fragment,null,c===E.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{variant:"h5",gutterBottom:!0},"Thank you.")):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(yn,{name:R,desc:M,startDate:ee,endDate:ie,regEndDate:ue,eventMode:J,eventType:fe,about:X,feeType:ve,registrationMode:Ce,setName:F,setDesc:q,setStartDate:ae,setEndDate:ce,setRegEndDate:de,setEventMode:V,setEventType:he,setRegistrationMode:xe,setAbout:Z,handleNext:zt,setFeeType:ye,steps:E,setSteps:b});case 1:return r.a.createElement(Sn,{handleBack:It,handleEventPost:Tt,eventMode:J,feeType:ve,eventThemes:Pe,eventPoster:Ge,regLink:we,regFees:_e,about:X,requirements:He,college:Qe,building:ot,organizer:mt,registrationMode:Ce,venueCollege:gt,participantsType:bt,platformDetails:wt,setPlatformDetails:Nt,setThemes:We,setPoster:Ue,setRegLink:Ne,setFees:ze,setRequirements:Le,setOrganizer:ut,setAddressType:Ke,setCollegeName:$e,setCollegeId:nt,setBuilding:it,setVenueCollege:ft,setAbout:Z,setParticipantsType:yt,handleNext:"form"===Ce?zt:_t});case 2:return r.a.createElement(Tn,{handleBack:It,fields:Ct,setFields:Dt,handlePost:Tt});default:throw new Error("Unknown step")}}(c)))),r.a.createElement(_n,null)))}var Bn=a(743),Pn=a(322),Wn=a.n(Pn),An=a(321),Rn=a.n(An),Fn=a(325),Hn=a.n(Fn),Ln=a(326),Mn=a.n(Ln),qn=a(323),Gn=a.n(qn),Un=a(324),Jn=a.n(Un),Vn=a(327),Yn=a.n(Vn),Kn=a(319),Xn=a.n(Kn),Zn=Object(S.a)((function(e){var t,a;return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),grow:{flexGrow:1,alignItems:"center"},sectionDesktop:Object(x.a)({},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(x.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),tabs:Object(x.a)({display:"none"},e.breakpoints.up("lg"),{display:"flex",flexDirection:"row",marginLeft:e.spacing(4)}),mobiletab:Object(x.a)({display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.up("lg"),{display:"none"}),tabPanel:{marginBottom:e.spacing(3)},flex_section:{flexGrow:1,display:"flex",flexDirection:"row"},flex_col_scroll:{flexGrow:1,overflow:"auto"},title:(t={display:"none"},Object(x.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(x.a)(t,"fontFamily","Gugi"),Object(x.a)(t,"marginLeft",e.spacing(1)),Object(x.a)(t,"color",e.palette.primary.dark),Object(x.a)(t,"fontWeight","bold"),t),"@global":{"*::-webkit-scrollbar":{width:"0.5em",height:"0.5em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.00)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#ad9d9d",outline:"1px solid slategrey"}},mobileTitle:Object(x.a)({},e.breakpoints.up("sm"),{display:"none"}),titleButton:(a={display:"none"},Object(x.a)(a,e.breakpoints.up("sm"),{display:"inline-block"}),Object(x.a)(a,"margin",e.spacing(0)),Object(x.a)(a,"padding",e.spacing(0)),Object(x.a)(a,"textTransform","none"),a)}}));function Qn(e){var t=Zn(),a=localStorage.getItem("theme"),n=r.a.useState(null),l=Object(p.a)(n,2),o=l[0],i=l[1],s=r.a.useState("light"!==a),m=Object(p.a)(s,2),u=m[0],d=m[1],g=Boolean(o),E=localStorage.getItem("token"),b=r.a.useState(!1),v=Object(p.a)(b,2),y=v[0],j=v[1],O=r.a.useState(!0),S=Object(p.a)(O,2),k=S[0],w=S[1],N=r.a.useState(!0),T=Object(p.a)(N,2),D=T[0],_=T[1];if(r.a.useEffect((function(){fetch("http://139.59.16.53:4000/api/users/me",{headers:{Authorization:"Bearer ".concat(E),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(t){200===t.status?t.json().then((function(t){e.setUser(t[0]),null===t[0].college_name&&_(!1)})):401===t.status&&(localStorage.removeItem("token"),w(!1))}))}),[E]),!E)return r.a.createElement(c.a,{to:"/"});if(!k)return r.a.createElement(c.a,{to:"/"});if(!D)return r.a.createElement(c.a,{to:"/userinfo"});var z="primary-search-account-menu",I=r.a.createElement(ge.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:z,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:function(){i(null)}},r.a.createElement(pe.a,null," Dark Theme ",r.a.createElement(Ht.a,{checked:u,onChange:function(e){d(e.target.checked),e.target.checked?(localStorage.setItem("theme","dark"),window.location.reload(!1)):(localStorage.setItem("theme","light"),window.location.reload(!1))},color:"primary",name:"checkedB",inputProps:{"aria-label":"dark mode checkbox"}})),r.a.createElement(pe.a,{onClick:function(t){fetch("http://139.59.16.53:4000/api/users/logout",{headers:{Authorization:"Bearer ".concat(E),"Content-Type":"application/json"},method:"POST"}).then((function(t){t.json().then((function(t){"success"===t.message&&(localStorage.removeItem("token"),localStorage.removeItem("tabIndex"),e.handleSignout())}))}))}},"Log Out"));function B(){localStorage.setItem("tabIndex",0),e.handleHomeClick()}return r.a.createElement("div",{className:t.root},r.a.createElement(h.a,null),r.a.createElement(ue.a,{position:"fixed",color:"secondary",className:Object(yt.a)(t.appBar,Object(x.a)({},t.appBarShift,e.dOpen))},r.a.createElement(de.a,null,r.a.createElement(te.a,{color:"inherit","aria-label":"open drawer",onClick:function(){e.setDOpen(!0)},edge:"start",className:Object(yt.a)(t.menuButton,Object(x.a)({},t.hide,e.dOpen))},r.a.createElement(Xn.a,{color:"primary"})),r.a.createElement("img",{src:Mt.a,alt:"logo",onClick:B,className:t.mobileTitle}),r.a.createElement(f.a,{className:t.titleButton,onClick:B},r.a.createElement(C.a,{className:t.title,variant:"h5",noWrap:!0},"Ellipse")),r.a.createElement("div",{className:t.grow}),r.a.createElement(C.a,{variant:"h5",noWrap:!0},e.event.name),r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement(te.a,{onClick:function(){e.handleHomeClick()}},r.a.createElement(Ne.a,null)),r.a.createElement(te.a,{"aria-label":"notifications",color:"inherit",onClick:function(){j(!0)}},r.a.createElement(Q.a,{badgeContent:0,color:"secondary"},r.a.createElement(be.a,null))),r.a.createElement(te.a,{edge:"end","aria-label":"account of current user","aria-controls":z,"aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit"},r.a.createElement(ke.a,null))))),I,r.a.createElement(Ft,{open:y,handleClose:function(){j(!1)}}))}var $n=Object(S.a)((function(e){return{root:{display:"flex",alignItems:"flex-start",alignContent:"flex-start",width:"100%"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main},timiline:{},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"}}}));function er(e){var t=localStorage.getItem("token"),a=$n(),n=(e.children,e.value),l=(e.url,e.index),o=Object(qe.a)(e,["children","value","url","index"]),i=e.event,c=r.a.useState([]),s=Object(p.a)(c,2),m=s[0],u=s[1];r.a.useEffect((function(){fetch("http://139.59.16.53:4000"+"/api/event/get_announcements?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){u(e)}))}))}),[t,i._id]);var d=function(e){return function(){fetch("http://139.59.16.53:4000"+"/api/event/delete_announcement?id=".concat(e._id,"&event_id=").concat(i._id),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST"}).then((function(e){e.json().then((function(e){u(e)}))}))}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l},o),n===l&&r.a.createElement("div",null,m.map((function(e,t){var n=new Date(e.time);return r.a.createElement(v.a,{m:1,p:1,key:t,className:a.root3},r.a.createElement(v.a,{className:a.root2,whiteSpace:"normal"},r.a.createElement(C.a,{className:a.title},e.title),r.a.createElement(C.a,{className:a.pos},e.description)),r.a.createElement(v.a,{className:a.root5},r.a.createElement(C.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())),r.a.createElement(v.a,{className:a.root5},r.a.createElement(f.a,{onClick:d(e)},"Delete")))}))))}var tr=a(722),ar=a(726),nr=a(725),rr=a(721),lr=a(723),or=a(742),ir=a(724);function cr(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}function sr(e){var t=Object(We.a)(),a=localStorage.getItem("token"),n=r.a.useState(null),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useState(null),s=Object(p.a)(c,2),g=s[0],h=s[1],b=r.a.useState("All"),v=Object(p.a)(b,2),j=v[0],O=v[1],C=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),x=Object(p.a)(C,2),S=x[0],k=x[1],w=r.a.useState(!1),N=Object(p.a)(w,2),T=N[0],_=N[1],I=S.vertical,B=S.horizontal,P=S.open,W=S.message,A=S.type,F=S.autoHide;var H=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(Object(u.a)(Object(u.a)({},S),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(D.a,{anchorOrigin:{vertical:I,horizontal:B},open:P,autoHideDuration:F,onClose:H,key:I+B},r.a.createElement(cr,{onClose:H,severity:A},W)),r.a.createElement(Ie.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(ze.a,{id:"form-dialog-title"},"Add Announcement"),r.a.createElement(_e.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",name:"title",fullWidth:!0,value:o,required:!0,onChange:function(e){i(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"description",label:"Description",name:"description",fullWidth:!0,value:g,required:!0,onChange:function(e){h(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(bn.a,{component:"legend"},"Announcement visibility"),r.a.createElement(ja.a,{"aria-label":"address",name:"address",value:j,onChange:function(e,t){console.log(t),O(t)},style:{display:"inline"}},r.a.createElement(R.a,{value:"All",control:r.a.createElement(ya.a,{color:"default"}),label:"All"}),r.a.createElement(R.a,{value:"Registered Users",control:r.a.createElement(ya.a,{color:"default"}),label:"Registered Users"}))))),r.a.createElement(De.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){var t=!0;"All"!==j&&(t=!1);try{var n=new FormData,r={event_id:e.id,title:o,description:g,visible_all:t};n=JSON.stringify(r),fetch("http://139.59.16.53:4000/api/event/add_announcement",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:n}).then((function(e){e.json().then((function(e){_(!1),k({open:!0,vertical:"top",horizontal:"center",message:"Added successfully",type:"success",autoHide:2e3})}))}))}catch(l){_(!1),k({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error",autoHide:6e3})}e.handleClose()},disabled:T,color:"primary"},T?r.a.createElement(z.a,{color:"primary",size:24}):"Add"))))}function mr(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}function ur(e){var t=Object(We.a)(),a=localStorage.getItem("token"),n=r.a.useState(null),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useState(null),s=Object(p.a)(c,2),g=s[0],h=s[1],b=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),v=Object(p.a)(b,2),j=v[0],O=v[1],C=r.a.useState(!1),x=Object(p.a)(C,2),S=x[0],k=x[1],w=j.vertical,N=j.horizontal,T=j.open,_=j.message,I=j.type,B=j.autoHide;var P=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(Object(u.a)(Object(u.a)({},j),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(D.a,{anchorOrigin:{vertical:w,horizontal:N},open:T,autoHideDuration:B,onClose:P,key:w+N},r.a.createElement(mr,{onClose:P,severity:I},_)),r.a.createElement(Ie.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(ze.a,{id:"form-dialog-title"},"Content for your Email"),r.a.createElement(_e.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",name:"title",fullWidth:!0,value:o,required:!0,onChange:function(e){i(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",required:!0,id:"content",name:"content",label:"Content",fullWidth:!0,onChange:function(e){h(e.target.value)},value:g||""})))),r.a.createElement(De.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){try{var t=new FormData,n={event_id:e.id,title:o,content:g,emails:e.emails};t=JSON.stringify(n),console.log(t),fetch("http://139.59.16.53:4000/api/event/sendemail",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){e.json().then((function(e){k(!1),O({open:!0,vertical:"top",horizontal:"center",message:"Added successfully",type:"success",autoHide:2e3})}))}))}catch(r){k(!1),O({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:6e3})}e.handleClose()},disabled:S,color:"primary"},S?r.a.createElement(z.a,{color:"primary",size:24}):"Send"))))}var dr=Object(S.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.palette.secondary.main},buttonsPaper:{backgroundColor:e.palette.primary.light,padding:e.spacing(3),height:140},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140},button:{margin:e.spacing(1),borderRadius:e.spacing(5)}}}));function pr(e){var t=dr(),a=r.a.useState(0),n=Object(p.a)(a,2),l=n[0],o=n[1],i=r.a.useState(10),c=Object(p.a)(i,2),s=c[0],m=c[1],u=localStorage.getItem("token"),d=r.a.useState([]),g=Object(p.a)(d,2),h=g[0],E=g[1],b=r.a.useState([]),v=Object(p.a)(b,2),j=v[0],O=v[1],x=r.a.useState([]),S=Object(p.a)(x,2),k=S[0],w=S[1],N=r.a.useState(!1),T=Object(p.a)(N,2),D=T[0],_=T[1],z=r.a.useState(!1),I=Object(p.a)(z,2),B=I[0],P=I[1],W=e.event;r.a.useEffect((function(){fetch("http://139.59.16.53:4000"+"/api/event/registeredEvents?id=".concat(W._id),{headers:{Authorization:"Bearer ".concat(u),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){if(e.length>0){var t=e[0].data;Object.keys(t).forEach((function(e){E((function(t){return[].concat(Object(it.a)(t),[{id:e,label:e,minWidth:170}])}))})),e.forEach((function(e){O((function(t){return[].concat(Object(it.a)(t),[e.data])}))}))}}))}))}),[u,W._id]);return r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(ur,{open:B,emails:k,handleClose:function(){P(!1)}}),r.a.createElement(sr,{open:D,id:W._id,handleClose:function(){_(!1)}}),r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:9},r.a.createElement(oe.a,{className:t.buttonsPaper},r.a.createElement(f.a,{variant:"outlined",onClick:function(){_(!0)},className:t.button},"Add Announcement"),r.a.createElement(f.a,{variant:"contained",onClick:function(){console.log(k),P(!0)},className:t.button},"Send Emails to Selected"))),r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(oe.a,{className:t.fixedHeightPaper},r.a.createElement(C.a,null,"Total Registrations"),r.a.createElement(C.a,{component:"p",variant:"h4"},j.length))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(oe.a,{className:t.paper},r.a.createElement(rr.a,{className:t.container},r.a.createElement(tr.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(lr.a,null,r.a.createElement(ir.a,null,r.a.createElement(nr.a,{padding:"checkbox"},r.a.createElement(F.a,{color:"default",checked:j.length>0&&k.length===j.length,onChange:function(e){if(e.target.checked){var t=j.map((function(e){return e.Email}));w(t)}else w([])},indeterminate:k.length>0&&k.length<j.length,inputProps:{"aria-label":"select all fields"}})),h.map((function(e){return r.a.createElement(nr.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(ar.a,null,j.slice(l*s,l*s+s).map((function(e){var t,a=(t=e.Email,-1!==k.indexOf(t));return r.a.createElement(ir.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.Email,onClick:function(t){return function(e,t){console.log(t);var a=k.indexOf(t),n=[];-1===a?n=n.concat(k,t):0===a?n=n.concat(k.slice(1)):a===k.length-1?n=n.concat(k.slice(0,-1)):a>0&&(n=n.concat(k.slice(0,a),k.slice(a+1))),w(n)}(0,e.Email)},selected:a},r.a.createElement(nr.a,{padding:"checkbox"},r.a.createElement(F.a,{checked:a,color:"default",inputProps:{"aria-label":"select all fields"}})),h.map((function(t){var a=e[t.id];return r.a.createElement(nr.a,{key:t.id,align:t.align},t.format&&"number"===typeof a?t.format(a):a)})))}))))),r.a.createElement(or.a,{rowsPerPageOptions:[10,25,100],component:"div",count:j.length,rowsPerPage:s,page:l,onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){m(+e.target.value),o(0)}}))))}var gr=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{backgroundColor:e.palette.background.paper,borderRadius:e.spacing(1),textDecorationColor:e.palette.secondary.light,maxWidth:"65%",minWidth:"20%",overflow:"auto"},root3:{display:"flex",justifyContent:"flex-end",minWidth:e.spacing(30)},root6:{display:"flex",justifyContent:"center"},topBar:{},root4:{marginRight:e.spacing(.5)},root5:{marginLeft:e.spacing(.5),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},textField:{zIndex:"100",position:"fixed",bottom:"0px"}}}));function fr(e){e.children;var t=e.value,a=(e.url,e.index),n=Object(qe.a)(e,["children","value","url","index"]),l=e.user,o=localStorage.getItem("token"),i=e.event,c=e.open,s=r.a.useState(!1),m=Object(p.a)(s,2),u=m[0],d=m[1],f=r.a.useState(!1),h=Object(p.a)(f,2),E=h[0],b=h[1],y=r.a.useState(null),j=Object(p.a)(y,2),O=j[0],x=j[1],S=r.a.useState([]),k=Object(p.a)(S,2),w=k[0],N=k[1],T=gr(),D=null,_=r.a.useState(null),I=Object(p.a)(_,2),B=I[0],P=I[1],W=function(){var e=new WebSocket("ws://139.59.16.53:4000");e.onopen=function(){console.log("connected"),P(e),e.onmessage=function(e){var t=JSON.parse(e.data),a=t.msg;t.event_id===i._id&&N((function(e){return[].concat(Object(it.a)(e),[a])}))},b(!1)},e.onclose=function(){A(),console.log("closed")}};r.a.useEffect((function(){return b(!0),fetch("http://139.59.16.53:4000"+"/api/chat/load_messages?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){console.log(e),N(e),W()}))})),null!=O&&O.scrollIntoView({behavior:"smooth"}),function(){N([]),Object(Ge.a)()}}),[i._id,o]),r.a.useEffect((function(){null!=O&&O.scrollIntoView({behavior:"smooth"})}),[E]),r.a.useEffect((function(){return null!=O&&O.scrollIntoView({behavior:"smooth"}),function(){Object(Ge.a)()}}),[w,O]);var A=function(){B&&B.readyState!==WebSocket.readyState||(console.log("checking"),W())};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==a},n),t===a&&r.a.createElement("div",null,r.a.createElement("div",{className:T.progress},r.a.createElement(Dt.a,{in:E,unmountOnExit:!0},r.a.createElement(z.a,null))),r.a.createElement(Ie.a,{onClose:function(){d(!1)},"aria-labelledby":"simple-dialog-title",open:u},r.a.createElement(St.a,null,r.a.createElement(mt.a,{button:!0},r.a.createElement(gt.a,null,r.a.createElement(g.a,null,r.a.createElement(Tt.a,null))),r.a.createElement(ut.a,{primary:"Reply"})),r.a.createElement(mt.a,{autoFocus:!0,button:!0},r.a.createElement(gt.a,null,r.a.createElement(g.a,null,r.a.createElement(wt.a,null))),r.a.createElement(ut.a,{primary:"Delete"})))),r.a.createElement(v.a,{className:T.topBar},w.map((function(e,t){var a=new Date,n=new Date(e.date);return n.toDateString()!==D?(D=n.toDateString(),e.user_id===l.user_id?r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(v.a,{m:1,p:1,key:t,position:"sticky",className:T.root6},r.a.createElement(C.a,{variant:"body2"},a.toDateString()===n.toDateString()?"Today":n.toDateString())),r.a.createElement(v.a,{m:1,p:1,key:t+1,className:T.root3},r.a.createElement(v.a,{className:T.root2,whiteSpace:"normal",onClick:function(){return d(!1)}},r.a.createElement(bt,{message:e})),r.a.createElement(v.a,{className:T.root5},r.a.createElement(g.a,{alt:e.userName,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(e.user_pic)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{m:1,p:1,key:t,className:T.root6},r.a.createElement(C.a,{variant:"body2"},a.toDateString()===n.toDateString()?"Today":n.toDateString())),r.a.createElement(v.a,{m:1,key:t,className:T.root},r.a.createElement(v.a,{className:T.root4},r.a.createElement(g.a,{alt:e.userName,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:T.root2,whiteSpace:"normal"},r.a.createElement(bt,{message:e}))))):e.user_id===l.user_id?r.a.createElement(v.a,{m:1,p:1,key:t,className:T.root3},r.a.createElement(v.a,{className:T.root2,onClick:function(){return d(!1)},whiteSpace:"normal"},r.a.createElement(bt,{message:e})),r.a.createElement(v.a,{className:T.root5},r.a.createElement(g.a,{alt:e.userName,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(e.user_pic)}))):r.a.createElement(v.a,{m:1,key:t,className:T.root},r.a.createElement(v.a,{className:T.root4},r.a.createElement(g.a,{alt:e.userName,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:T.root2,whiteSpace:"normal"},r.a.createElement(bt,{message:e})))})),r.a.createElement("div",{style:{float:"left",clear:"both",paddingBottom:"60px"},ref:function(e){x(e)}}),r.a.createElement("div",{className:T.textField},r.a.createElement(xt,{loading:E,open:c,handleSend:function(e){var t=new Date;B.send(JSON.stringify({action:"send_message",event_id:i._id,msg:{id:l.user_id+Date.now(),user_id:l.user_id,user_name:l.name,user_pic:l.profile_pic,message:e,date:t.toISOString()}})),null!=O&&O.scrollIntoView({behavior:"smooth"})}})))))}function hr(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}var Er=Object(S.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",borderRadius:30},avatar:{backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),br=Object(c.g)((function(e){var t=e.event,a=Er(),n=r.a.useState(!1),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error"}),s=Object(p.a)(c,2),g=s[0],b=s[1],v=r.a.useState(null),j=Object(p.a)(v,2),O=j[0],C=j[1],x=r.a.useState(null),S=Object(p.a)(x,2),k=S[0],w=S[1],N=r.a.useState(null),T=Object(p.a)(N,2),_=T[0],I=T[1],B=r.a.useState(null),P=Object(p.a)(B,2),W=P[0],A=P[1],F=r.a.useState(null),L=Object(p.a)(F,2),M=L[0],q=L[1],G=r.a.useState(null),U=Object(p.a)(G,2),J=U[0],V=U[1],Y=r.a.useState(null),$=Object(p.a)(Y,2),ae=$[0],ne=$[1],re=r.a.useState([]),le=Object(p.a)(re,2),oe=le[0],ie=le[1],ce=r.a.useState(null),se=Object(p.a)(ce,2),me=se[0],ue=se[1],de=r.a.useState(null),pe=Object(p.a)(de,2),ge=pe[0],fe=pe[1],he=r.a.useState(null),Ee=Object(p.a)(he,2),be=Ee[0],ve=Ee[1],ye=r.a.useState([]),je=Object(p.a)(ye,2),Oe=je[0],Ce=je[1],xe=r.a.useState("Free"),Se=Object(p.a)(xe,2),ke=Se[0],we=Se[1],Ne=r.a.useState(null),De=Object(p.a)(Ne,2),_e=De[0],ze=De[1],Ie=r.a.useState(null),Be=Object(p.a)(Ie,2),Pe=Be[0],We=Be[1],Ae=r.a.useState(null),Re=Object(p.a)(Ae,2),Fe=Re[0],He=Re[1],Le=r.a.useState("open"),Me=Object(p.a)(Le,2),qe=Me[0],Ge=Me[1],Je=r.a.useState(null),Ve=Object(p.a)(Je,2),Ye=Ve[0],Ke=Ve[1],Xe=r.a.useState(null),Ze=Object(p.a)(Xe,2),Qe=Ze[0],$e=Ze[1],et=r.a.useState(!1),tt=Object(p.a)(et,2),at=tt[0],nt=tt[1],rt=r.a.useState(null),lt=Object(p.a)(rt,2),ot=lt[0],ct=lt[1],st=r.a.useState(null),mt=Object(p.a)(st,2),ut=mt[0],dt=mt[1],pt=g.vertical,gt=g.horizontal,ft=g.open,ht=g.message,Et=g.type,bt=r.a.useState([]),vt=Object(p.a)(bt,2),yt=vt[0],jt=vt[1],Ot=r.a.useState([]),Ct=Object(p.a)(Ot,2),xt=Ct[0],St=Ct[1],kt=localStorage.getItem("token"),wt=["Hackathon","Coding Contest","Webinar"];r.a.useEffect((function(){fetch("http://139.59.16.53:4000/api/colleges",{headers:{Authorization:"Bearer ".concat(kt),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){jt(e),e.forEach((function(e){St((function(t){return[].concat(Object(it.a)(t),[e.name])}))}))}))}))}),[kt]);r.a.useEffect((function(){ie(t.tags),ne(t.event_type),C(t.name),w(t.description),I(t.start_time),A(t.finish_time),q(t.registration_end_time),V(t.event_mode),ue(t.reg_link),ve(t.about),fe(t.fees),Ce(t.requirements),we(t.fee_type),ze(t.college_name),We(t.reg_mode),He(t.organizer),ct(t.venue),dt(t.venue_college),!0===t.o_allowed?Ge("open"):Ge("onlycollege")}),[kt,t]);var Nt=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Saved changes successfully"===ht&&window.location.reload(!1),b(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function Tt(){return(Tt=Object(d.a)(m.a.mark((function e(a){var n,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),i(!0),n=!1,"open"===qe&&(n=!0);try{new FormData,l={eventId:t._id,name:O,description:k,start_time:_,finish_time:W,registration_end_time:M,event_mode:J,event_type:ae,tags:oe,reg_link:me,fee:ge,about:be,fee_type:ke,college:_e,organizer:Fe,requirements:Oe,o_allowed:n,reg_mode:Pe,venue:ot,venue_college:ut},r=JSON.stringify(l),fetch("http://139.59.16.53:4000/api/updateevent",{headers:{Authorization:"Bearer ".concat(kt),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:r}).then((function(e){200===e.status?e.json().then((function(e){if(t=e.event,at){var a=new FormData;a.append("image",Ye),fetch("http://139.59.16.53:4000"+"/api/event/uploadimage?id=".concat(t._id),{headers:{Authorization:"Bearer ".concat(kt)},method:"POST",body:a}).then((function(e){200===e.status&&(i(!1),b({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else i(!1),b({open:!0,vertical:"top",horizontal:"center",message:"Saved changes successfully",type:"success"})})):e.json().then((function(e){console.log(e),i(!1),b({open:!0,vertical:"top",horizontal:"center",message:e,type:"error"})}))}))}catch(o){i(!1),b({open:!0,vertical:"top",horizontal:"center",message:o.message,type:"error"})}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(H.a,{component:"main",maxWidth:"lg"},r.a.createElement(h.a,null),r.a.createElement(D.a,{anchorOrigin:{vertical:pt,horizontal:gt},open:ft,autoHideDuration:6e3,onClose:Nt,key:pt+gt},r.a.createElement(hr,{onClose:Nt,severity:Et},ht)),r.a.createElement("div",{className:a.paper},r.a.createElement("form",{className:a.form,novalidate:!0,onSubmit:function(e){return Tt.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement("input",{id:"contained-button-file",type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){Ke(e.target.files[0]);var t=URL.createObjectURL(e.target.files[0]);$e(t),nt(!0)}},style:{display:"none"}}),r.a.createElement(Q.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(te.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(ee.a,null)))},r.a.createElement("img",{height:"160",width:"150",alt:"poster",src:at?Qe:"http://139.59.16.53:4000"+"/api/image?id=".concat(t.poster_url)}))),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",id:"eventName",name:"eventName",label:"Event name",value:O||"",onChange:function(e){C(e.target.value)},fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",id:"shortdesc",name:"shortdesc",label:"Short Description",fullWidth:!0,value:k||"",onChange:function(e){w(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:4},r.a.createElement(ba.a,{utils:Ea.a},r.a.createElement(En.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Event Start Date",name:"startDate",value:_,onChange:function(e){I(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:4},r.a.createElement(ba.a,{utils:Ea.a},r.a.createElement(En.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"endDate",label:"Event End Date",name:"endDate",value:W,onChange:function(e){A(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,lg:4},r.a.createElement(ba.a,{utils:Ea.a},r.a.createElement(En.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"regEndDate",label:"Registration End Date",name:"regEndDate",value:M,onChange:function(e){q(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,{fullWidth:!0},r.a.createElement(X.a,{htmlFor:"outlined-age-native-simple"},"Event Mode"),r.a.createElement(K.a,{fullWidth:!0,native:!0,label:"Event Mode",value:J||"",onChange:function(e){V(e.target.value)},inputProps:{name:"eventMode",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Online"},"Online"),r.a.createElement("option",{value:"Offline"},"Offline")))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(Te.a,{fullWidth:!0,id:"combo-box-demo",options:wt,getOptionLabel:function(e){return e},value:ae||"",onChange:function(e,t){ne(t)},renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Event Type"}))}})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(Te.a,{multiple:!0,id:"tags-filled",options:wt.map((function(e){return e})),freeSolo:!0,value:oe||[],onChange:function(e,t){ie(t)},renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ue.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Event Themes",placeholder:"Event Themes"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(bn.a,{component:"legend"},"Entry Fee"),r.a.createElement(ja.a,{"aria-label":"address",name:"address",value:ke||"",onChange:function(e,t){we(t)},style:{display:"inline"}},r.a.createElement(R.a,{value:"Free",control:r.a.createElement(ya.a,{color:"default"}),label:"Free"}),r.a.createElement(R.a,{value:"Paid",control:r.a.createElement(ya.a,{color:"default"}),label:"Paid"}))),"form"!==Pe&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",id:"regLink",name:"regLink",label:"Registration Link",fullWidth:!0,value:me||"",onChange:function(e){ue(e.target.value)}})),"Paid"===ke&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",id:"regFees",name:"regFees",value:ge||"",label:"Registration Fees",onChange:function(e){fe(e.target.value)},fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(Te.a,{fullWidth:!0,disabled:!0,id:"combo-box-demo",options:yt,getOptionLabel:function(e){return e},value:_e||"",onChange:function(e,t){ze(t)},renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,{fullWidth:!0},r.a.createElement(X.a,{htmlFor:"outlined-age-native-simple"},"Registration"),r.a.createElement(K.a,{fullWidth:!0,native:!0,disabled:!0,label:"Registration",inputProps:{name:"registrationMode",id:"outlined-age-native-simple"},value:Pe||""},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"form"},"Our Platform(Ellipse)"),r.a.createElement("option",{value:"link"},"Other")))),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(Te.a,{multiple:!0,id:"tags-filled",options:["Laptop","Basic HTML","C++","Machine Learning"].map((function(e){return e})),freeSolo:!0,value:Oe,onChange:function(e,t){Ce(t)},renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ue.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Requirements",placeholder:"Requirements"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(bn.a,{component:"legend"},"Participation"),r.a.createElement(ja.a,{name:"participanttype",value:qe,onChange:function(e,t){Ge(t)},style:{display:"inline"}},r.a.createElement(R.a,{value:"open",control:r.a.createElement(ya.a,{color:"default"}),label:"Open for all"}),r.a.createElement(R.a,{value:"onlycollege",control:r.a.createElement(ya.a,{color:"default"}),label:"Only ".concat(_e)}))),"Offline"===J&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(bn.a,{component:"legend"},"Address"),r.a.createElement(ja.a,{disabled:!0,"aria-label":"address",name:"address",defaultValue:"College/University",onChange:function(e,t){},style:{display:"inline"}},r.a.createElement(R.a,{disabled:!0,value:"College/University",control:r.a.createElement(ya.a,{color:"default"}),label:"College/University"}),r.a.createElement(R.a,{disabled:!0,value:"Other",control:r.a.createElement(ya.a,{color:"default"}),label:"Others"}))),"Offline"===J&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",value:ot||"",onChange:function(e){ct(e.target.value)},id:"building",name:"building",label:"Room No & Building",fullWidth:!0})),"Offline"===J&&r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(Te.a,{fullWidth:!0,id:"combo-box-demo",options:xt,value:ut,getOptionLabel:function(e){return e},onChange:function(e,t){dt(t)},renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Venue College"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",value:be||"",id:"about",name:"about",label:"About",fullWidth:!0}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:o,className:a.submit},o?r.a.createElement(z.a,{color:"primary",size:24}):"Save Changes"))))}));function vr(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}var yr=Object(S.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.palette.secondary.main},buttonsPaper:{backgroundColor:e.palette.primary.light,padding:e.spacing(3),height:140},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140},button:{margin:e.spacing(1),borderRadius:e.spacing(5)}}}));function jr(e){var t=yr(),a=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),n=Object(p.a)(a,2),l=n[0],o=n[1],i=r.a.useState(!1),c=Object(p.a)(i,2),s=c[0],g=c[1],h=l.vertical,E=l.horizontal,b=l.open,v=l.message,j=l.type,O=l.autoHide,C=r.a.useState(0),x=Object(p.a)(C,2),S=x[0],k=x[1],w=r.a.useState(10),N=Object(p.a)(w,2),T=N[0],_=N[1],I=localStorage.getItem("token"),B=r.a.useState([]),P=Object(p.a)(B,2),W=P[0],A=P[1],R=r.a.useState([]),H=Object(p.a)(R,2),L=H[0],M=H[1],q=r.a.useState([]),G=Object(p.a)(q,2),U=G[0],J=G[1],V=e.event,Y=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K(),o(Object(u.a)(Object(u.a)({},l),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();r.a.useEffect((function(){fetch("http://139.59.16.53:4000"+"/api/event/registeredEvents?id=".concat(V._id),{headers:{Authorization:"Bearer ".concat(I),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){if(e.length>0){var t=e[0].data;Object.keys(t).forEach((function(e){A((function(t){return[].concat(Object(it.a)(t),[{id:e,label:e,minWidth:170}])}))})),e.forEach((function(e){"not_generated"===e.certificate_status&&M((function(t){return[].concat(Object(it.a)(t),[e.data])}))}))}}))}))}),[I,V._id]);var K=function(){M([]),fetch("http://139.59.16.53:4000"+"/api/event/registeredEvents?id=".concat(V._id),{headers:{Authorization:"Bearer ".concat(I),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.length>0&&e.forEach((function(e){"not_generated"===e.certificate_status&&M((function(t){return[].concat(Object(it.a)(t),[e.data])}))}))}))}))};return r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(D.a,{anchorOrigin:{vertical:h,horizontal:E},open:b,autoHideDuration:O,onClose:Y,key:h+E},r.a.createElement(vr,{onClose:Y,severity:j},v)),r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:9},r.a.createElement(oe.a,{className:t.buttonsPaper},r.a.createElement(f.a,{variant:"contained",onClick:function(){g(!0),console.log(U);try{var e=new FormData,t={eventId:V._id,participants:U};e=JSON.stringify(t),fetch("http://139.59.16.53:4000/api/event/generate_certificates",{headers:{Authorization:"Bearer ".concat(I),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){e.json().then((function(e){g(!1),o({open:!0,vertical:"top",horizontal:"center",message:"Generated successfully",type:"success",autoHide:4e3})}))}))}catch(a){g(!1),o({open:!0,vertical:"top",horizontal:"center",message:a.message,type:"error",autoHide:6e3})}},className:t.button},s?r.a.createElement(z.a,{color:"primary",size:24}):"Generate Certificates"))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(oe.a,{className:t.paper},r.a.createElement(rr.a,{className:t.container},r.a.createElement(tr.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(lr.a,null,r.a.createElement(ir.a,null,r.a.createElement(nr.a,{padding:"checkbox"},r.a.createElement(F.a,{color:"default",checked:L.length>0&&U.length===L.length,onChange:function(e){if(e.target.checked){var t=L.map((function(e){return e.Email}));J(t)}else J([])},indeterminate:U.length>0&&U.length<L.length,inputProps:{"aria-label":"select all fields"}})),W.map((function(e){return r.a.createElement(nr.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(ar.a,null,L.slice(S*T,S*T+T).map((function(e){var t,a=(t=e.Email,-1!==U.indexOf(t));return r.a.createElement(ir.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.Email,onClick:function(t){return function(e,t){console.log(t);var a=U.indexOf(t),n=[];-1===a?n=n.concat(U,t):0===a?n=n.concat(U.slice(1)):a===U.length-1?n=n.concat(U.slice(0,-1)):a>0&&(n=n.concat(U.slice(0,a),U.slice(a+1))),J(n)}(0,e.Email)},selected:a},r.a.createElement(nr.a,{padding:"checkbox"},r.a.createElement(F.a,{checked:a,color:"default",inputProps:{"aria-label":"select all fields"}})),W.map((function(t){var a=e[t.id];return r.a.createElement(nr.a,{key:t.id,align:t.align},t.format&&"number"===typeof a?t.format(a):a)})))}))))),r.a.createElement(or.a,{rowsPerPageOptions:[10,25,100],component:"div",count:L.length,rowsPerPage:T,page:S,onChangePage:function(e,t){k(t)},onChangeRowsPerPage:function(e){_(+e.target.value),k(0)}}))))}var Or=Object(S.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.palette.secondary.main},buttonsPaper:{backgroundColor:e.palette.primary.light,padding:e.spacing(3),height:140},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140},button:{margin:e.spacing(1),borderRadius:e.spacing(5)}}}));function Cr(e){var t=Or(),a=r.a.useState(0),n=Object(p.a)(a,2),l=n[0],o=n[1],i=r.a.useState(10),c=Object(p.a)(i,2),s=c[0],m=c[1],u=localStorage.getItem("token"),d=r.a.useState([]),g=Object(p.a)(d,2),f=g[0],h=g[1],E=r.a.useState([]),b=Object(p.a)(E,2),v=b[0],j=b[1],O=r.a.useState([]),C=Object(p.a)(O,2),x=C[0],S=C[1],k=e.event;r.a.useEffect((function(){fetch("http://139.59.16.53:4000"+"/api/event/registeredEvents?id=".concat(k._id),{headers:{Authorization:"Bearer ".concat(u),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){if(e.length>0){var t=e[0].data;Object.keys(t).forEach((function(e){h((function(t){return[].concat(Object(it.a)(t),[{id:e,label:e,minWidth:170}])}))})),e.forEach((function(e){"not_generated"!==e.certificate_status&&j((function(t){return[].concat(Object(it.a)(t),[e.data])}))}))}}))}))}),[u,k._id]);return r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:9}),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(oe.a,{className:t.paper},r.a.createElement(rr.a,{className:t.container},r.a.createElement(tr.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(lr.a,null,r.a.createElement(ir.a,null,r.a.createElement(nr.a,{padding:"checkbox"},r.a.createElement(F.a,{color:"default",checked:v.length>0&&x.length===v.length,onChange:function(e){if(e.target.checked){var t=v.map((function(e){return e.Email}));S(t)}else S([])},indeterminate:x.length>0&&x.length<v.length,inputProps:{"aria-label":"select all fields"}})),f.map((function(e){return r.a.createElement(nr.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(ar.a,null,v.slice(l*s,l*s+s).map((function(e){var t,a=(t=e.Email,-1!==x.indexOf(t));return r.a.createElement(ir.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.Email,onClick:function(t){return function(e,t){console.log(t);var a=x.indexOf(t),n=[];-1===a?n=n.concat(x,t):0===a?n=n.concat(x.slice(1)):a===x.length-1?n=n.concat(x.slice(0,-1)):a>0&&(n=n.concat(x.slice(0,a),x.slice(a+1))),S(n)}(0,e.Email)},selected:a},r.a.createElement(nr.a,{padding:"checkbox"},r.a.createElement(F.a,{checked:a,color:"default",inputProps:{"aria-label":"select all fields"}})),f.map((function(t){var a=e[t.id];return r.a.createElement(nr.a,{key:t.id,align:t.align},t.format&&"number"===typeof a?t.format(a):a)})))}))))),r.a.createElement(or.a,{rowsPerPageOptions:[10,25,100],component:"div",count:v.length,rowsPerPage:s,page:l,onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){m(+e.target.value),o(0)}}))))}var xr=a(320),Sr=a.n(xr);function kr(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}var wr=Object(S.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30}}}));function Nr(e){var t=wr(),a=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),n=Object(p.a)(a,2),l=n[0],o=n[1],i=r.a.useState(!1),c=Object(p.a)(i,2),s=c[0],g=c[1],h=l.vertical,b=l.horizontal,v=l.open,j=l.message,O=l.type,x=l.autoHide,S=localStorage.getItem("token"),k=r.a.useState(null),w=Object(p.a)(k,2),N=w[0],T=w[1],_=e.event,I=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(u.a)(Object(u.a)({},l),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.useEffect((function(){T(_.certificate.title)}),[_]),r.a.createElement("div",{className:t.paper},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(D.a,{anchorOrigin:{vertical:h,horizontal:b},open:v,autoHideDuration:x,onClose:I,key:h+b},r.a.createElement(kr,{onClose:I,severity:O},j)),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"title",name:"title",label:"Certificate Title",value:N||"",onChange:function(e){return T(e.target.value)},fullWidth:!0,inputProps:{maxLength:32},helperText:"You can change the title of certificate as shown below in sample by default it is event name"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:s,onClick:function(){g(!0);try{if(""===N||null===N)g(!1),o({open:!0,vertical:"top",horizontal:"center",message:"please fill the details",type:"error",autoHide:6e3});else{var e=new FormData,t={eventId:_._id,title:N};e=JSON.stringify(t),fetch("http://139.59.16.53:4000/api/event/update_certificate_title",{headers:{Authorization:"Bearer ".concat(S),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){e.json().then((function(e){g(!1),o({open:!0,vertical:"top",horizontal:"center",message:"Generated successfully",type:"success",autoHide:4e3})}))}))}}catch(a){g(!1),o({open:!0,vertical:"top",horizontal:"center",message:a.message,type:"error",autoHide:6e3})}},className:t.submit},s?r.a.createElement(z.a,{color:"primary",size:24}):"Update"))),r.a.createElement(C.a,{style:{marginTop:"10px"},variant:"h4"},"Sample Certificate"),r.a.createElement("img",{width:"100%",alt:"certificate sample",src:Sr.a}))}var Tr=Object(S.a)((function(e){return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)}}}));var Dr=function(e){var t=Tr(),a=e.event,n=r.a.useState(0),l=Object(p.a)(n,2),o=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement("div",{className:t.root},r.a.createElement(oe.a,{className:t.root2},r.a.createElement(ie.a,{value:o,onChange:function(e,t){i(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(ce.a,{label:"Dashboard"}),r.a.createElement(ce.a,{label:"Pending"}),r.a.createElement(ce.a,{label:"Generated"}))),0===o&&r.a.createElement(Nr,{event:a}),1===o&&r.a.createElement(jr,{event:a}),2===o&&r.a.createElement(Cr,{event:a})))},_r=Object(S.a)((function(e){var t;return{root:{display:"flex"},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),backgroundColor:e.palette.secondary.main},drawerClose:(t={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(x.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(x.a)(t,"backgroundColor",e.palette.secondary.main),t),toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:Object(x.a)({flexGrow:1},e.breakpoints.up("md"),{padding:e.spacing(3)})}}));function zr(e){var t,a,n=_r(),l=Object(We.a)();localStorage.removeItem("eventid");var o=localStorage.getItem("token"),i=e.match.params.eventId,c=localStorage.getItem("theme"),s=r.a.useState(!1),m=Object(p.a)(s,2),u=m[0],d=m[1],g=r.a.useState({}),E=Object(p.a)(g,2),b=E[0],v=E[1],y=r.a.useState(!1),j=Object(p.a)(y,2),O=j[0],S=j[1],k=r.a.useState({}),w=Object(p.a)(k,2),N=w[0],T=w[1],D=r.a.useState({infoSelected:!0,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1,certificateSelected:!1}),_=Object(p.a)(D,2),z=_[0],I=_[1];r.a.useEffect((function(){fetch("http://139.59.16.53:4000"+"/api/event?id=".concat(i),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){v(e.event)}))}))}),[o,i]),r.a.useEffect((function(){void 0!==b.user_id&&void 0!==N.user_id&&b.user_id===N.user_id&&S(!0)}),[N,b]);var B=z.infoSelected,P=z.dashBoardSelected,W=z.timilineSelected,A=z.announcementSelected,R=z.settingsSelected,F=z.editEventSelected,H=z.chatSelected,L=z.certificateSelected;return r.a.createElement("div",{className:n.root},r.a.createElement(h.a,null),r.a.createElement(Qn,{event:b,handleSignout:function(){e.history.replace("/")},handleHomeClick:function(){e.history.push("/home")},setUser:T,dOpen:u,setDOpen:d}),r.a.createElement(Bn.a,{variant:"permanent",className:Object(yt.a)(n.drawer,(t={},Object(x.a)(t,n.drawerOpen,u),Object(x.a)(t,n.drawerClose,!u),t)),classes:{paper:Object(yt.a)((a={},Object(x.a)(a,n.drawerOpen,u),Object(x.a)(a,n.drawerClose,!u),a))}},r.a.createElement("div",{className:n.toolbar},r.a.createElement(te.a,{onClick:function(){d(!1)}},"rtl"===l.direction?r.a.createElement(Rn.a,{color:"primary"}):r.a.createElement(Wn.a,{color:"primary"}))),r.a.createElement(At.a,null),r.a.createElement(St.a,null,r.a.createElement(mt.a,{button:!0,onClick:function(){I({infoSelected:!0,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1})},selected:B},r.a.createElement(ha.a,null,r.a.createElement(pt.a,{color:"primary"})),r.a.createElement(ut.a,{primary:"About"})),r.a.createElement(mt.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!0,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1,certificateSelected:!1})},selected:W},r.a.createElement(ha.a,null,r.a.createElement(Gn.a,{color:"primary"})),r.a.createElement(ut.a,{primary:"Schedule"})),r.a.createElement(mt.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!0,settingsSelected:!1,editEventSelected:!1,chatSelected:!1,certificateSelected:!1})},selected:A},r.a.createElement(ha.a,null,r.a.createElement(Jn.a,{color:"primary"})),r.a.createElement(ut.a,{primary:"Announcements"})),r.a.createElement(mt.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!0,certificateSelected:!1})},selected:H},r.a.createElement(ha.a,null,r.a.createElement(Hn.a,{color:"primary"})),r.a.createElement(ut.a,{primary:"Chat"}))),r.a.createElement(At.a,null),O&&r.a.createElement(St.a,null,r.a.createElement(mt.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!0,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1,certificateSelected:!1})},selected:P},r.a.createElement(ha.a,null,r.a.createElement(Mn.a,{color:"primary"})),r.a.createElement(ut.a,{primary:"Dashboard"})),r.a.createElement(mt.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!0,chatSelected:!1,certificateSelected:!1})},selected:F},r.a.createElement(ha.a,null,r.a.createElement(ee.a,{color:"primary"})),r.a.createElement(ut.a,{primary:"Edit Event"})),r.a.createElement(mt.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1,certificateSelected:!0})},selected:L},r.a.createElement(ha.a,null,r.a.createElement(Yn.a,{color:"primary"})),r.a.createElement(ut.a,{primary:"Certificates"})),r.a.createElement(mt.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!0,editEventSelected:!1,chatSelected:!1,certificateSelected:!1})},selected:R},r.a.createElement(ha.a,null,r.a.createElement(ke.a,{color:"primary"})),r.a.createElement(ut.a,{primary:"Settings"})))),r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),B&&null!=b&&r.a.createElement(Ke,{event:b}),F&&null!=b&&r.a.createElement(br,{event:b}),W&&null!=b&&r.a.createElement(ot,{event:b}),P&&null!=b&&r.a.createElement(pr,{event:b}),H&&null!=b&&r.a.createElement("div",{className:n.chat},r.a.createElement(fr,{user:N,open:u,event:b})),O&&A&&null!=b&&r.a.createElement(er,{event:b}),!O&&A&&null!=b&&r.a.createElement(st,{event:b}),O&&L&&null!=b&&r.a.createElement(Dr,{event:b}),B&&"form"===b.reg_mode&&r.a.createElement(f.a,{disabled:b.registered||O,size:"small",color:"primary",variant:"contained",className:n.button,onClick:function(){e.history.push("/event/register/"+b._id)}},b.registered?"Registered":"Register"),B&&"form"!==b.reg_mode&&r.a.createElement(f.a,{disabled:b.registered||O,size:"small",color:"primary",variant:"contained",className:n.button},"light"===c?r.a.createElement("a",{href:b.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register"):r.a.createElement("a",{href:b.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register")),O&&R&&r.a.createElement(C.a,null,"Any queries contact us at support@ellipseapp.com")))}function Ir(e){return r.a.createElement(_.a,Object.assign({elevation:6,variant:"filled"},e))}var Br=Object(c.g)((function(e){var t=A(),a=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:6e3}),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!0),s=Object(p.a)(c,2),m=s[0],d=s[1],g=r.a.useState(!1),b=Object(p.a)(g,2),j=b[0],O=b[1],S=r.a.useState(null),k=Object(p.a)(S,2),w=k[0],N=k[1],_=r.a.useState(!1),I=Object(p.a)(_,2),B=I[0],P=I[1],W=r.a.useState([]),L=Object(p.a)(W,2),M=L[0],q=L[1],G=r.a.useState([]),U=Object(p.a)(G,2),J=U[0],V=U[1],Y=r.a.useState([]),K=Object(p.a)(Y,2),X=K[0],Q=K[1],$=r.a.useState([]),ee=Object(p.a)($,2),ae=ee[0],ne=ee[1],re=r.a.useState([]),oe=Object(p.a)(re,2),ie=oe[0],ce=oe[1],se=r.a.useState([]),me=Object(p.a)(se,2),ue=me[0],de=me[1],pe=r.a.useState([]),ge=Object(p.a)(pe,2),fe=ge[0],he=ge[1],Ee=o.vertical,be=o.horizontal,ve=o.open,ye=o.message,je=o.type,Oe=o.autoHide,Ce=e.match.params.eventId,xe=r.a.useState(!0),Se=Object(p.a)(xe,2),ke=Se[0],we=Se[1],Ne=r.a.useState({}),De=Object(p.a)(Ne,2),_e=De[0],ze=De[1],Ie=r.a.useState([]),Be=Object(p.a)(Ie,2),Pe=Be[0],We=Be[1],Ae=["VIT University,Vellore","GITAM University","SRM University"],Fe=r.a.useContext(vt);function He(){"Registered successfully"===ye&&(e.history.push("/home"),window.location.reload(!1)),i(Object(u.a)(Object(u.a)({},o),{},{open:!1}))}function Le(e){N(Object(u.a)(Object(u.a)({},w),{},Object(x.a)({},e.target.name,e.target.value)))}r.a.useEffect((function(){"Student"===Fe.designation||"Faculty"===Fe.designation||(d(!1),O("You are "+Fe.designation+" so you cannot register")),Fe.user_id===_e.user_id&&(d(!1),O("You are event organizer so you cannot register")),new Date>new Date(_e.registration_end_time)&&(d(!1),O("Registration closed"))}),[_e,Fe.designation,Fe.user_id]),r.a.useEffect((function(){fetch("http://139.59.16.53:4000"+"/api/event?id=".concat(Ce),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){console.log(e),e.json().then((function(e){ze(e.event);var t=e.event.reg_fields;console.log(t),null!=t&&(t.forEach((function(e){"Name"===e.title?N((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(x.a)({},e.title,Fe.name))})):"Email"===e.title?N((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(x.a)({},e.title,Fe.email))})):"College"===e.title?N((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(x.a)({},e.title,Fe.college_name))})):N((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(x.a)({},e.title,null))})),e.field})),q(t.filter((function(e){return"short_text"===e.field}))),de(t.filter((function(e){return"paragraph"===e.field}))),Q(t.filter((function(e){return"checkboxes"===e.field}))),ne(t.filter((function(e){return"radiobuttons"===e.field}))),ce(t.filter((function(e){return"date"===e.field}))),V(t.filter((function(e){return"dropdown"===e.field}))),he(t.filter((function(e){return"link"===e.field})))),we(!1)}))}))}),[a,Ce,Fe]);var Me=function(e){N(Object(u.a)(Object(u.a)({},w),{},Object(x.a)({},e.target.name,e.target.value)))};function qe(e,t){N(Object(u.a)(Object(u.a)({},w),{},Object(x.a)({},e.target.name,t)))}return r.a.createElement(H.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(D.a,{anchorOrigin:{vertical:Ee,horizontal:be},open:ve,autoHideDuration:Oe,onClose:He,key:Ee+be},r.a.createElement(Ir,{onClose:He,severity:je},ye)),r.a.createElement(le.a,{className:t.backdrop,open:ke},r.a.createElement(z.a,{color:"inherit"})),r.a.createElement(te.a,{"aria-label":"close",className:t.closeButton,onClick:function(){e.history.goBack()}},r.a.createElement(Re.a,{fontSize:"large"})),null!=_e&&r.a.createElement("div",{className:t.paper},r.a.createElement(C.a,{component:"h1",variant:"h5"},"Registration for "+_e.name),r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault(),console.log(w),Object.keys(w).forEach((function(e){null===w[e]&&i({open:!0,vertical:"top",horizontal:"center",message:"Please fill in all fields",type:"error",autoHide:4e3})}));try{var t=new FormData,n={data:w};t=JSON.stringify(n),fetch("http://139.59.16.53:4000"+"/api/event/register?id=".concat(Ce),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){console.log(e),e.json().then((function(e){console.log(e),P(!1),i({open:!0,vertical:"top",horizontal:"center",message:"Registered successfully",type:"success",autoHide:200})}))}))}catch(r){P(!1),i({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:6e3})}}},r.a.createElement(y.a,{container:!0,spacing:2},M.map((function(e,t){return"College"===e.title?r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Te.a,{fullWidth:!0,id:e.title,options:Ae,getOptionLabel:function(e){return e},onChange:Le,value:w[e.title],disabled:!0,renderInput:function(t){return r.a.createElement(E.a,Object.assign({name:e.title,fullWidth:!0,required:!0},t,{label:e.title}))}})):"Email"===e.title?r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",name:e.title,disabled:!0,required:!0,fullWidth:!0,id:e.title,onChange:Le,value:w[e.title],label:e.title,autoFocus:!0})):r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",name:e.title,required:!0,fullWidth:!0,id:e.title,onChange:Le,value:w[e.title],label:e.title,autoFocus:!0}))})),X.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Z.a,{component:"fieldset",className:t.formControl},r.a.createElement(bn.a,{component:"legend"},e.title),r.a.createElement(kn.a,{class:t.formgroup},e.options.map((function(t){return r.a.createElement(R.a,{control:r.a.createElement(F.a,{color:"primary",onChange:(a=e.title,function(e){if(e.target.checked){We((function(t){return[].concat(Object(it.a)(t),[Object(x.a)({},a,e.target.name)])}));var t=[];Pe.forEach((function(e,n){e[a]&&t.push(e[a])})),t.push(e.target.name),N(Object(u.a)(Object(u.a)({},w),{},Object(x.a)({},a,t)))}}),name:t}),label:t});var a})))))})),J.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Te.a,{id:e.title,options:e.options.map((function(e){return e})),onChange:(a=e.title,function(e,t){N(Object(u.a)(Object(u.a)({},w),{},Object(x.a)({},a,t)))}),renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ue.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(t){return r.a.createElement(E.a,Object.assign({},t,{name:e.name,label:e.title,placeholder:e.name}))}}));var a})),ae.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(bn.a,{required:!0,component:"legend"},e.title),r.a.createElement(ja.a,{required:!0,"aria-label":"address",name:e.title,value:w[e.title],onChange:qe,style:{display:"inline"}},e.options.map((function(e){return r.a.createElement(R.a,{value:e,control:r.a.createElement(ya.a,{color:"default"}),label:e})}))))})),ie.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(ba.a,{utils:Ea.a},r.a.createElement(En.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Start Date",name:"startDate",value:w[e.title],onChange:(a=e.title,function(e){N(Object(u.a)(Object(u.a)({},w),{},Object(x.a)({},a,e)))}),KeyboardButtonProps:{"aria-label":"change date"}})));var a})),ue.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:e.title,autoComplete:"off",required:!0,id:e.title,name:e.title,label:e.title,fullWidth:!0,onChange:Me}))})),fe.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",name:e.title,required:!0,fullWidth:!0,id:e.title,onChange:Le,value:w[e.title],label:e.title,autoFocus:!0}))})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(R.a,{control:r.a.createElement(F.a,{color:"primary",name:"terms"}),label:"I accept the terms and conditions"}))),m&&r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:B,className:t.submit},B?r.a.createElement(z.a,{color:"primary",size:24}):"Register"),!m&&r.a.createElement(C.a,null,j))),r.a.createElement(v.a,{mt:2},r.a.createElement(T,null)))})),Pr=Object(S.a)((function(e){var t,a;return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},accordion:{backgroundColor:e.palette.primary.light},rpaper:(t={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(x.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(x.a)(t,"top",e.spacing(10)),t),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(a={borderRadius:e.spacing(50)},Object(x.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(x.a)(a,"backgroundColor",e.palette.primary.main),Object(x.a)(a,"color",e.palette.primary.light),a),fab:Object(x.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(x.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"}),content:{marginTop:e.spacing(3)}}}));var Wr=function(e){localStorage.setItem("tabIndex",2);var t=Pr(),a=r.a.useState(!1),n=Object(p.a)(a,2),l=n[0],o=n[1],i=r.a.useState([]),c=Object(p.a)(i,2),s=c[0],m=c[1],u=r.a.useContext(Wt),d=r.a.useContext(Gt),h=u.filter((function(e){return!0===e.registered})),E=r.a.useState(0),b=Object(p.a)(E,2),v=b[0],j=b[1],O=u.filter((function(e){return new Date>new Date(e.finish_time)})),x=function(e){return function(){m(e)}},S=function(){e.history.push("/post")},k=function(e){return function(){m(e),o(!0)}};return r.a.createElement("div",null,r.a.createElement("div",{className:t.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(oe.a,{className:t.root2},r.a.createElement(ie.a,{value:v,onChange:function(e,t){j(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(ce.a,{label:"Registered Events"}),r.a.createElement(ce.a,{label:"Past Events"}))),r.a.createElement("div",{className:t.content},0===v&&r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===h.length&&r.a.createElement(C.a,{align:"center"},"No Registered Events"),h.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,key:t},r.a.createElement(Ia,{event:e,handleViewClick:x(e),name:e.name}))}))),1===v&&r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===O.length&&r.a.createElement(C.a,{align:"center"},"No Past Events at this time"),O.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,alignItems:"center",key:t},r.a.createElement(Ia,{event:e,handleViewClick:x(e),name:e.name}))}))))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2},r.a.createElement(Kt.a,{color:"primary","aria-label":"add",className:t.fab,onClick:S},r.a.createElement(Zt.a,null)),r.a.createElement(oe.a,{className:t.rpaper},r.a.createElement(oe.a,{className:t.subRpaper},r.a.createElement(f.a,{onClick:S,variant:"contained",fullWidth:!0,size:"large",className:t.postButton},"Post Event"),r.a.createElement(St.a,{className:t.sideList},r.a.createElement(C.a,{variant:"body2"},"Explore Events"),d.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(mt.a,{onClick:k(e),key:t,button:!0},r.a.createElement(gt.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"http://139.59.16.53:4000"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(ut.a,{primary:e.name})),r.a.createElement(At.a,null))}))))))),r.a.createElement("div",null,r.a.createElement(Pt,{open:l,event:s,handleClose:function(){o(!1)},name:s.name,startTime:s.start_time,endTime:s.finish_time,regEndTime:s.registrationEndTime,type:s.eventType,tags:s.tags,mode:s.eventMode,feeType:s.feesType}))))},Ar=a(727),Rr=Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:e.palette.primary.dark},body:{margin:e.spacing(3)},appbar:{backgroundColor:e.palette.secondary.main}}}));function Fr(e){var t=localStorage.getItem("token"),a=Rr(),n=e.match.params.eventId,l=r.a.useState({}),o=Object(p.a)(l,2),i=o[0],c=o[1],s=r.a.useState(!1),m=Object(p.a)(s,2),u=m[0],d=m[1];t&&e.history.replace("/event/".concat(n));var g=function(){d(!1)};return r.a.useEffect((function(){fetch("http://139.59.16.53:4000"+"/api/unregistered/event?id=".concat(n),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){c(e.event)}))}))}),[n]),r.a.createElement("div",{className:a.root},r.a.createElement(ue.a,{position:"static",className:a.appbar},r.a.createElement(de.a,null,r.a.createElement(C.a,{variant:"h5",className:a.title},"Ellipse"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){localStorage.setItem("eventid",n),e.history.push("/")}},"Login"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){localStorage.setItem("eventid",n),e.history.push("/signup")}},"Signup"))),r.a.createElement("div",{className:a.body},r.a.createElement(C.a,{align:"center",variant:"h4",style:{paddingBottom:"20px",paddingTop:"10px"}},i.name+"(Login to Register and Know More Info)"),r.a.createElement(Ke,{event:i}),r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){d(!0)}},"Register")),r.a.createElement(Ie.a,{open:u,maxWidth:"md",onClose:g,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(_e.a,null,r.a.createElement(Ar.a,{id:"alert-dialog-description"},"Login to Register for the Event/Contest")),r.a.createElement(De.a,null,r.a.createElement(f.a,{onClick:g,color:"primary",autoFocus:!0},"Dismiss"))))}var Hr=a(328),Lr=a(329),Mr=a(334),qr=a(333),Gr=a(330),Ur=a.n(Gr),Jr=a(331),Vr=a.n(Jr),Yr=Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:e.palette.primary.dark},body:{margin:e.spacing(3)},appbar:{backgroundColor:e.palette.secondary.main},root2:{display:"flex","& > *":{margin:e.spacing(1),width:e.spacing(50),height:e.spacing(50)}},root3:{display:"flex",justifyContent:"center"},root4:{backgroundColor:e.palette.secondary.main}}}));function Kr(e){var t=Yr(),a=e.match.params.id,n=r.a.useState({}),l=Object(p.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!0),s=Object(p.a)(c,2),m=s[0],u=s[1];return r.a.useEffect((function(){fetch("http://139.59.16.53:4000"+"/api/event/verify_certificate?id=".concat(a),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){u(!0),i(e)})):u(!1)}))}),[a]),r.a.createElement("div",{className:t.root},r.a.createElement(ue.a,{position:"static",className:t.appbar},r.a.createElement(de.a,null,r.a.createElement(C.a,{variant:"h5",className:t.title},"Ellipse"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){e.history.push("/")}},"Login"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){e.history.push("/signup")}},"Signup"))),m&&r.a.createElement(v.a,{m:1,p:1,className:t.root3},r.a.createElement(v.a,{m:1,p:3,className:t.root4},r.a.createElement(Ur.a,{fontSize:"large"}),r.a.createElement(C.a,{variant:"h4"},o.participantname),r.a.createElement(C.a,null,o.participant_college),r.a.createElement(C.a,{style:{marginTop:"20px"}},"Event Name: ",o.event_name),r.a.createElement(C.a,null,"Organizer: ",o.organizer),r.a.createElement(C.a,null,"Held on ",o.date),r.a.createElement(C.a,{style:{marginTop:"20px"}},"participation by ",o.participantname," has been confirmed"))),!m&&r.a.createElement(v.a,{m:1,p:1,className:t.root3},r.a.createElement(v.a,{m:1,p:3,className:t.root4},r.a.createElement(Vr.a,{fontSize:"large"}),r.a.createElement(C.a,{variant:"h4"},"Certificate NOT FOUND"))))}var Xr,Zr=(Xr=function(){return r.a.createElement(J,null,r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:W}),r.a.createElement(c.b,{exact:!0,path:"/signin",component:W}),r.a.createElement(c.b,{exact:!0,path:"/signup",component:M}),r.a.createElement(c.b,{exact:!0,path:"/forgotpassword",component:G}),r.a.createElement(c.b,{exact:!0,path:"/userinfo",component:re}),r.a.createElement(c.b,{exact:!0,path:"/otpverification",component:Y}),r.a.createElement(c.b,{exact:!0,path:"/un/event/:eventId",component:Fr}),r.a.createElement(c.b,{exact:!0,path:"/event/:eventId",component:zr}),r.a.createElement(c.b,{exact:!0,path:"/verify_certificate/:id",component:Kr}),r.a.createElement(Jt,null,r.a.createElement(c.b,{path:"/home",component:Da}),r.a.createElement(c.b,{exact:!0,path:"/events",component:$t}),r.a.createElement(c.b,{exact:!0,path:"/post",component:In}),r.a.createElement(c.b,{exact:!0,path:"/profile",component:pn}),r.a.createElement(c.b,{exact:!0,path:"/event/register/:eventId",component:Br}),r.a.createElement(c.b,{exact:!0,path:"/yourevents",component:Wr}))))))},function(e){Object(Mr.a)(a,e);var t=Object(qr.a)(a);function a(){var e;Object(Hr.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isDisconnected:!1},e.handleConnectionChange=function(){if("online"!==(navigator.onLine?"online":"offline"))return e.setState({isDisconnected:!0});var t=setInterval((function(){fetch("//google.com",{mode:"no-cors"}).then((function(){e.setState({isDisconnected:!1},(function(){return clearInterval(t)}))})).catch((function(){return e.setState({isDisconnected:!0})}))}),2e3)},e}return Object(Lr.a)(a,[{key:"componentDidMount",value:function(){this.handleConnectionChange(),window.addEventListener("online",this.handleConnectionChange),window.addEventListener("offline",this.handleConnectionChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.handleConnectionChange),window.removeEventListener("offline",this.handleConnectionChange)}},{key:"render",value:function(){var e=this.state.isDisconnected;return r.a.createElement("div",null,e&&r.a.createElement("div",{className:"internet-error"},r.a.createElement("p",null,"Internet connection lost")),r.a.createElement(Xr,this.props))}}]),a}(n.Component)),Qr=a(728),$r=a(332),el=Object($r.a)({palette:{type:"dark",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#000000"},secondary:{main:"#1C1C1E"},background:{default:"#000000"}}}),tl=Object($r.a)({palette:{type:"light",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#ffffff"},secondary:{main:"#e5e5e5"},background:{default:"#ffffff"}}}),al=localStorage.getItem("theme");o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Qr.a,{theme:"light"===al?tl:el},r.a.createElement(h.a,null,r.a.createElement(Zr,null)))),document.getElementById("root"))}},[[355,1,2]]]);
//# sourceMappingURL=main.06f43203.chunk.js.map