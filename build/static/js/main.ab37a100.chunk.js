(this.webpackJsonpellipsereactapp=this.webpackJsonpellipsereactapp||[]).push([[0],{285:function(e,a){e.exports="data:image/png;base64,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"},286:function(e,a,t){e.exports=t.p+"static/media/google-play-badge.db9b21a1.png"},287:function(e,a,t){e.exports=t.p+"static/media/iPhone 11 Pro Max@2x.ed59271c.png"},299:function(e,a,t){e.exports=t.p+"static/media/dark_theme_logo.8b400d86.png"},300:function(e,a,t){e.exports=t.p+"static/media/light_theme_logo.25444565.png"},336:function(e,a,t){e.exports=t(602)},601:function(e,a,t){},602:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(19),o=t.n(r),i=t(159),c=t(16),s=t(14),m=t.n(s),u=t(11),p=t(22),d=t(4),g=t(728),f=t(160),h=t(668),E=t(320),b=t(674),v=t(723),y=t(666),O=t(718),j=t(667),x=t(99),C=t.n(x),S=t(43),k=t(10),w=t(76),N=Object(w.a)((function(e){return{root:{display:"flex",height:"100vh"},wrapper:{margin:e.spacing(1),position:"relative"},paperRight:Object(k.a)({margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(0),paddingBottom:e.spacing(4),borderRadius:30},e.breakpoints.down("sm"),{margin:e.spacing(0,1),paddingBottom:e.spacing(2)}),paperLeft:Object(k.a)({margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.down("sm"),{margin:e.spacing(3,1)}),paperimage:{margin:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center"},avatar:{margin:e.spacing(),marginTop:e.spacing(10),backgroundColor:e.palette.primary.main},form:Object(k.a)({width:"90%",margin:e.spacing(5)},e.breakpoints.down("sm"),{margin:e.spacing(2)}),submit:{margin:e.spacing(3,0,2)},iPhoneImage:Object(k.a)({},e.breakpoints.down("sm"),{display:"none"})}})),D=t(285),T=t.n(D),z=t(286),A=t.n(z),I=t(287),P=t.n(I);var B=function(){return l.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",l.a.createElement(y.a,{color:"inherit",href:"https://ellipseapp.com/"},"Ellipse")," ",(new Date).getFullYear(),".")},W=t(727),R=t(722),F=t(675);function H(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}var M=Object(c.g)((function(e){var a=e.history,t=N(),n=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),r=Object(d.a)(n,2),o=r[0],i=r[1],s=l.a.useState(!1),x=Object(d.a)(s,2),k=x[0],w=x[1],D=o.vertical,z=o.horizontal,I=o.open,R=o.message,M=o.type,L=o.autoHide,q=l.a.useState(null),_=Object(d.a)(q,2),G=_[0],U=_[1],X=l.a.useState(null),V=Object(d.a)(X,2),Z=V[0],Y=V[1],K=l.a.useState(null),Q=Object(d.a)(K,2),J=Q[0],$=Q[1],ee=new AbortController,ae=function(){var e=Object(p.a)(m.a.mark((function e(t,n){var l,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clickaway"!==n){e.next=2;break}return e.abrupt("return");case 2:if("Signedin successfully"===R)if(localStorage.setItem("token",G),Z)localStorage.setItem("token",G),(l=localStorage.getItem("eventid"))?(ee.abort(),a.push("/event/".concat(l))):(ee.abort(),a.push("/home"));else try{new FormData,c={email:J},r=JSON.stringify(c),fetch("https://ellipseapp.com/api/users/sendverificationemail",{signal:ee.signal,headers:{Authorization:"Bearer ".concat(G),"Content-Type":"application/json"},method:"POST",body:r}).then((function(e){e.json().then((function(e){"success"===e.message&&(ee.abort(),localStorage.setItem("token",G),a.push("/otpverification"),i({open:!0,vertical:"top",horizontal:"center",message:"Signedup successfully",type:"success",autoHide:300}))}))}))}catch(t){w(!1),i({open:!0,vertical:"top",horizontal:"center",message:t.message,type:"error",autoHide:3e3})}i(Object(u.a)(Object(u.a)({},o),{},{open:!1}));case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();function te(){return(te=Object(p.a)(m.a.mark((function e(a){var t,n,l,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),w(!0),t=a.target.elements,n=t.email,l=t.password;try{new FormData,o={email:n.value,password:l.value},r=JSON.stringify(o),fetch("https://ellipseapp.com/api/users/login",{signal:ee.signal,headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:r}).then((function(e){200===e.status?e.json().then((function(e){U(e.token),Y(e.isVerified),$(e.useremail),w(!1),i({open:!0,vertical:"top",horizontal:"center",message:"Signedin successfully",type:"success",autoHide:200})})):(w(!1),i({open:!0,vertical:"top",horizontal:"center",message:"invalid credentials",type:"error",autoHide:6e3}))}))}catch(c){w(!1),i({open:!0,vertical:"top",horizontal:"center",message:c.message,type:"error",autoHide:6e3})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return localStorage.getItem("token")?l.a.createElement(c.a,{to:"/home"}):l.a.createElement(j.a,{container:!0,component:"main",className:t.root},l.a.createElement(h.a,null),l.a.createElement(W.a,{anchorOrigin:{vertical:D,horizontal:z},open:I,autoHideDuration:L,onClose:ae,key:D+z},l.a.createElement(H,{onClose:ae,severity:M},R)),l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:7,elevation:6},l.a.createElement("div",{className:t.paperLeft},l.a.createElement(S.a,{component:"h1",variant:"h3"},"Ellipse"),l.a.createElement(S.a,{component:"h1",variant:"h6"},"Kill time for what matters"),l.a.createElement("br",null),l.a.createElement("img",{src:P.a,className:t.iPhoneImage,alt:"iphone",height:"500px",width:"300px",align:"center"}),l.a.createElement("br",null),l.a.createElement("div",{className:t.paperimage},l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:12,className:t.iPhoneImage,elevation:12},l.a.createElement("img",{src:A.a,alt:"playstore",height:"100px",width:"250px"}),l.a.createElement("br",null)),l.a.createElement(j.a,{item:!0,xs:12,sm:12,className:t.iPhoneImage,md:12,elevation:12},l.a.createElement("img",{src:T.a,alt:"appstore",height:"70px",width:"220px"}))))),l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:5,elevation:6},l.a.createElement("div",{className:t.paperRight},l.a.createElement(g.a,{className:t.avatar},l.a.createElement(C.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement("form",{className:t.form,onSubmit:function(e){return te.apply(this,arguments)}},l.a.createElement(E.a,{name:"email",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",autoComplete:"email",autoFocus:!0}),l.a.createElement(E.a,{name:"password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password"}),l.a.createElement(b.a,{control:l.a.createElement(v.a,{value:"remember",color:"primary"}),label:"Remember me"}),l.a.createElement("div",{className:t.wrapper},l.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:k,className:t.submit},k?l.a.createElement(F.a,{color:"primary",size:24}):"Sign In")),l.a.createElement(j.a,{container:!0},l.a.createElement(j.a,{item:!0,xs:!0},l.a.createElement(y.a,{href:"/forgotpassword",variant:"body2"},"Forgot password?")),l.a.createElement(j.a,{item:!0},l.a.createElement(y.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up"))),l.a.createElement(O.a,{mt:5},l.a.createElement(B,null))))))})),L=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},closeButton:Object(k.a)({position:"absolute",right:e.spacing(1),top:e.spacing(7)},e.breakpoints.down("md"),{top:e.spacing(12)})}})),q=t(676);function _(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}var G=Object(c.g)((function(e){var a=e.history,t=L(),n=l.a.useState(""),r=Object(d.a)(n,2),o=r[0],i=r[1],c=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),s=Object(d.a)(c,2),x=s[0],k=s[1],w=l.a.useState(!1),N=Object(d.a)(w,2),D=N[0],T=N[1],z=x.vertical,A=x.horizontal,I=x.open,P=x.message,R=x.type,H=x.autoHide,M=function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(o),"Signedup successfully"===P&&(localStorage.setItem("token",o),a.replace("/otpverification")),k(Object(u.a)(Object(u.a)({},x),{},{open:!1}));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();function G(){return(G=Object(p.a)(m.a.mark((function e(a){var t,n,l,r,c,s,u,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),T(!0),t=a.target.elements,n=t.fullName,l=t.email,r=t.password,c=t.username,s=t.terms;try{s.checked?(new FormData,p={name:n.value,email:l.value,password:r.value,username:c.value},u=JSON.stringify(p),console.log(u),fetch("https://ellipseapp.com/api/users/signup",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:u}).then((function(e){200===e.status?e.json().then((function(e){i(e.token);var a=new FormData,t={email:e.useremail};a=JSON.stringify(t),console.log(o);var n=e.token;fetch("https://ellipseapp.com/api/users/sendverificationemail",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},method:"POST",body:a}).then((function(e){console.log(e),e.json().then((function(e){"success"===e.message&&k({open:!0,vertical:"top",horizontal:"center",message:"Signedup successfully",type:"success",autoHide:300})}))}))})):401===e.status&&(T(!1),k({open:!0,vertical:"top",horizontal:"center",message:"Email already registered",type:"error",autoHide:3e3}))}))):(T(!1),k({open:!0,vertical:"top",horizontal:"center",message:"Please agress the terms and condiitons",type:"error"}))}catch(m){T(!1),k({open:!0,vertical:"top",horizontal:"center",message:m.message,type:"error"})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement(q.a,{component:"main",maxWidth:"sm"},l.a.createElement(h.a,null),l.a.createElement(W.a,{anchorOrigin:{vertical:z,horizontal:A},open:I,autoHideDuration:H,onClose:M,key:z+A},l.a.createElement(_,{onClose:M,severity:R},P)),l.a.createElement("div",{className:t.paper},l.a.createElement(g.a,{className:t.avatar},l.a.createElement(C.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign up"),l.a.createElement("form",{className:t.form,onSubmit:function(e){return G.apply(this,arguments)}},l.a.createElement(j.a,{container:!0,spacing:2},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{autoComplete:"fullName",name:"fullName",variant:"outlined",required:!0,fullWidth:!0,id:"fullName",label:"Full Name",autoFocus:!0})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"User Name",name:"username"})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(b.a,{control:l.a.createElement(v.a,{color:"primary",name:"terms"}),label:"I accept the terms and conditions"}))),l.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:D,className:t.submit},D?l.a.createElement(F.a,{color:"primary",size:24}):"Sign Up"),l.a.createElement(j.a,{container:!0,justify:"center"},l.a.createElement(j.a,{item:!0},l.a.createElement(y.a,{href:"/",variant:"body2"},"Already have an account? Sign in"))))),l.a.createElement(O.a,{mt:2},l.a.createElement(B,null)))}));function U(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}var X=Object(c.g)((function(e){var a=e.history,t=L(),n=l.a.useState(null),r=Object(d.a)(n,2),o=r[0],i=r[1],c=l.a.useState(null),s=Object(d.a)(c,2),u=s[0],b=s[1],v=l.a.useState(null),x=Object(d.a)(v,2),k=x[0],w=x[1],N=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),D=Object(d.a)(N,2),T=D[0],z=D[1],A=l.a.useState(!1),I=Object(d.a)(A,2),P=I[0],R=I[1],H=l.a.useState(!1),M=Object(d.a)(H,2),_=M[0],G=M[1],X=T.vertical,V=T.horizontal,Z=T.open,Y=T.message,K=T.type,Q=T.autoHide;function J(){return(J=Object(p.a)(m.a.mark((function e(a){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),R(!0);try{new FormData,n={email:o},t=JSON.stringify(n),fetch("https://ellipseapp.com/api/users/sendverificationemail",{headers:{"Content-Type":"application/json"},method:"POST",body:t}).then((function(e){console.log(e),e.json().then((function(e){"success"===e.message&&(R(!1),z({open:!0,vertical:"top",horizontal:"center",message:"Check your email for OTP and enter below",type:"success",autoHide:2e3}))}))}))}catch(l){R(!1),z({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error",autoHide:3e3})}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(p.a)(m.a.mark((function e(a){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),G(!0);try{new FormData,n={email:o,otp:u,nPassword:k},t=JSON.stringify(n),fetch("https://ellipseapp.com/api/users/forgotpassword",{headers:{"Content-Type":"application/json"},method:"POST",body:t}).then((function(e){console.log(e),e.json().then((function(e){"success"===e.message&&(G(!1),z({open:!0,vertical:"top",horizontal:"center",message:"Succesfull Login to continue",type:"success",autoHide:300}))}))}))}catch(l){G(!1),z({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error",autoHide:3e3})}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){"Succesfull Login to continue"===Y&&a.replace("/")}return l.a.createElement(q.a,{component:"main",maxWidth:"sm"},l.a.createElement(h.a,null),l.a.createElement(W.a,{anchorOrigin:{vertical:X,horizontal:V},open:Z,autoHideDuration:Q,onClose:ee,key:X+V},l.a.createElement(U,{onClose:ee,severity:K},Y)),l.a.createElement("div",{className:t.paper},l.a.createElement(g.a,{className:t.avatar},l.a.createElement(C.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},"Enter your email to receive OTP"),l.a.createElement("form",{className:t.form,onSubmit:function(e){return J.apply(this,arguments)}},l.a.createElement(j.a,{container:!0,spacing:2},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:o,onChange:function(e){return i(e.target.value)},autoComplete:"email"}))),l.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:P,className:t.submit},P?l.a.createElement(F.a,{color:"primary",size:24}):"Send OTP")),l.a.createElement("form",{className:t.form,onSubmit:function(e){return $.apply(this,arguments)}},l.a.createElement(j.a,{container:!0,spacing:2},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"otp",label:"OTP",name:"otp",value:u,onChange:function(e){return b(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"password",label:"New Password",name:"password",value:k,type:"password",onChange:function(e){return w(e.target.value)}}))),l.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:_,className:t.submit},_?l.a.createElement(F.a,{color:"primary",size:24}):"Reset Password")),l.a.createElement(j.a,{container:!0,justify:"center"},l.a.createElement(j.a,{item:!0},l.a.createElement(y.a,{href:"/",variant:"body2"},"Instead? Sign in")))),l.a.createElement(O.a,{mt:2},l.a.createElement(B,null)))})),V=l.a.createContext(),Z=function(e){var a=e.children,t=Object(n.useState)(null),r=Object(d.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)(!0),s=Object(d.a)(c,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){i(localStorage.getItem("user")),u(!1)}),[]),m?l.a.createElement(l.a.Fragment,null,"Loading..."):l.a.createElement(V.Provider,{value:{currentUser:o}},a)};function Y(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}var K=Object(c.g)((function(e){var a=e.history,t=L(),n=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),r=Object(d.a)(n,2),o=r[0],i=r[1],c=l.a.useState(!1),s=Object(d.a)(c,2),m=s[0],u=s[1],p=o.vertical,b=o.horizontal,v=o.open,y=o.message,x=o.type,k=o.autoHide;function w(){console.log("message"),"verified"===y&&a.replace("/userinfo")}return l.a.createElement(q.a,{component:"main",maxWidth:"sm"},l.a.createElement(h.a,null),l.a.createElement(W.a,{anchorOrigin:{vertical:p,horizontal:b},open:v,autoHideDuration:k,onClose:w,key:p+b},l.a.createElement(Y,{onClose:w,severity:x},y)),l.a.createElement("div",{className:t.paper},l.a.createElement(g.a,{className:t.avatar},l.a.createElement(C.a,null)),l.a.createElement(S.a,{component:"h1",variant:"h5"},"Email Verification"),l.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault(),u(!0);var a=e.target.elements.otp;try{var t=new FormData,n={otp:a.value};t=JSON.stringify(n);var l=localStorage.getItem("token");fetch("https://ellipseapp.com/api/users/verifyotp",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){e.json().then((function(e){console.log(e.message),"verified"===e.message?(u(!1),i({open:!0,vertical:"top",horizontal:"center",message:"verified",type:"success",autoHide:300})):"Not verified"===e.message?(u(!1),i({open:!0,vertical:"top",horizontal:"center",message:"incorrect otp",type:"error",autoHide:3e3})):(u(!1),i({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong try again",type:"error",autoHide:3e3}))}))}))}catch(r){u(!1),i({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error"})}}},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp"})),l.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:m,className:t.submit},m?l.a.createElement(F.a,{color:"primary",size:24}):"Continue"))),l.a.createElement(O.a,{mt:2},l.a.createElement(B,null)))})),Q=t(720),J=t(673),$=t(672),ee=t(677),ae=t(101),te=t.n(ae),ne=t(196),le=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main,width:e.spacing(20),height:e.spacing(20)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},textArea:{width:e.spacing(58),margin:e.spacing(2),borderRadius:e.spacing(2),backgroundColor:e.palette.secondary.main,color:e.palette.primary.dark}}}));function re(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}var oe=Object(c.g)((function(e){var a=e.history,t=localStorage.getItem("token"),n=le(),r=l.a.useState(""),o=Object(d.a)(r,2),i=o[0],c=o[1],s=l.a.useState(null),b=Object(d.a)(s,2),v=b[0],y=b[1],x=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),C=Object(d.a)(x,2),k=C[0],w=C[1],N=l.a.useState(!1),D=Object(d.a)(N,2),T=D[0],z=D[1],A=k.vertical,I=k.horizontal,P=k.open,R=k.message,H=k.type,M=k.autoHide,L=l.a.useState([]),_=Object(d.a)(L,2),G=_[0],U=_[1],X=function(){var e=Object(p.a)(m.a.mark((function e(t,n){var l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"successful"===R&&((l=localStorage.getItem("eventid"))?a.push("/event/".concat(l)):a.replace("/home")),w(Object(u.a)(Object(u.a)({},k),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();function V(){return(V=Object(p.a)(m.a.mark((function e(a){var n,l,r,o,i,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),z(!0),n=a.target.elements,l=n.gender,r=n.designation,o=n.collegeId,i=n.bio;try{new FormData,s={gender:l.value,designation:r.value,college_id:o.value,bio:i.value},c=JSON.stringify(s),fetch("https://ellipseapp.com/api/users/userdetails",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:c}).then((function(e){200===e.status&&e.json().then((function(e){if(console.log(e.message),null!=v){var a=new FormData;a.append("image",v),fetch("https://ellipseapp.com/api/users/uploadImage",{headers:{Authorization:"Bearer ".concat(t)},method:"POST",body:a}).then((function(e){200===e.status&&(z(!1),w({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else z(!1),w({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300})}))}))}catch(m){z(!1),w({open:!0,vertical:"top",horizontal:"center",message:m.message,type:"error",autoHide:3e3})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.useEffect((function(){fetch("https://ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){U(e)}))}))}),[t]),l.a.createElement(q.a,{component:"main",maxWidth:"sm"},l.a.createElement(h.a,null),l.a.createElement(W.a,{anchorOrigin:{vertical:A,horizontal:I},open:P,autoHideDuration:M,onClose:X,key:A+I},l.a.createElement(re,{onClose:X,severity:H},R)),l.a.createElement("div",{className:n.paper},l.a.createElement(S.a,{component:"h1",variant:"h3"},"Welcome"),l.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){y(e.target.files[0]);var a=URL.createObjectURL(e.target.files[0]);c(a)}},style:{display:"none"}}),l.a.createElement(ee.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:l.a.createElement("label",{htmlFor:"contained-button-file"},l.a.createElement(ne.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},l.a.createElement(te.a,null)))},l.a.createElement(g.a,{className:n.avatar,sizes:"100",alt:"",src:i})),l.a.createElement("form",{className:n.form,onSubmit:function(e){return V.apply(this,arguments)}},l.a.createElement(j.a,{container:!0,spacing:2},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Bio",autoComplete:"off",required:!0,id:"bio",name:"bio",label:"Bio",fullWidth:!0})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement($.a,{variant:"outlined",fullWidth:!0,required:!0},l.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Gender"),l.a.createElement(Q.a,{fullWidth:!0,native:!0,label:"Age",inputProps:{name:"gender",id:"outlined-age-native-simple"}},l.a.createElement("option",{"aria-label":"None",value:""}),l.a.createElement("option",{value:"Male"},"Male"),l.a.createElement("option",{value:"Female"},"Female"),l.a.createElement("option",{value:"Others"},"Others")))),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement($.a,{variant:"outlined",fullWidth:!0,required:!0},l.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"You are"),l.a.createElement(Q.a,{fullWidth:!0,native:!0,label:"You are",inputProps:{name:"designation",id:"outlined-age-native-simple"}},l.a.createElement("option",{"aria-label":"None",value:""}),l.a.createElement("option",{value:"Student"},"Student"),l.a.createElement("option",{value:"WorkingProfessional"},"Working Professional"),l.a.createElement("option",{value:"Club/Organisation"},"Club/Organisation")))),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement($.a,{variant:"outlined",fullWidth:!0,required:!0},l.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Your College"),l.a.createElement(Q.a,{fullWidth:!0,native:!0,label:"College",inputProps:{name:"collegeId",id:"outlined-age-native-simple"}},l.a.createElement("option",{"aria-label":"None",value:""}),G.map((function(e,a){return l.a.createElement("option",{key:a,value:e._id},e.name)})))))),l.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:T,className:n.submit},T?l.a.createElement(F.a,{color:"primary",size:24}):"Continue"))),l.a.createElement(O.a,{mt:2},l.a.createElement(B,null)))})),ie=t(610),ce=t(195),se=t(719),me=t(688),ue=t(231),pe=t.n(ue),de=t(692),ge=t(614),fe=t(690),he=t(288),Ee=t(301),be=t.n(Ee),ve=t(303),ye=t.n(ve),Oe=t(229),je=t.n(Oe),xe=t(15),Ce=Object(w.a)((function(e){var a;return{paper:{marginTop:e.spacing(0),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30,marginBottom:e.spacing(5)},root:{display:"flex",flexGrow:1,maxWidth:800,background:e.palette.secondary.main,alignItems:"center"},grow:{flexGrow:1,alignItems:"center"},title:(a={display:"none"},Object(k.a)(a,e.breakpoints.up("sm"),{display:"block"}),Object(k.a)(a,"fontFamily","Gugi"),Object(k.a)(a,"marginLeft",e.spacing(1)),a),search:Object(k.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(xe.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(xe.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:e.spacing(3),width:"230px"},e.breakpoints.up("md"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(k.a)({borderBottom:"none",padding:e.spacing(.5,.5,.5,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"30ch"}),sectionDesktop:Object(k.a)({},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(k.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),tabs:Object(k.a)({marginLeft:e.spacing(14),display:"none"},e.breakpoints.up("lg"),{display:"flex",flexDirection:"row"}),mobiletab:Object(k.a)({display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.up("lg"),{display:"none"}),tabPanel:{marginBottom:e.spacing(3)},flex_section:{flexGrow:1,display:"flex",flexDirection:"row"},flex_col_scroll:{flexGrow:1,overflow:"auto"},rpaper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(2)},postButton:{borderRadius:e.spacing(50)}}})),Se=t(230),ke=t.n(Se),we=t(187),Ne=t.n(we),De=t(228),Te=t.n(De),ze=t(725),Ae=t(612),Ie=t(611),Pe=t(678),Be=t(609),We=t(298),Re=t.n(We),Fe=t(41),He=t(103),Me=t.n(He),Le=t(289),qe=t.n(Le);function _e(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}function Ge(e){var a=Object(Fe.a)(),t=l.a.useState(null),n=Object(d.a)(t,2),r=n[0],o=n[1],i=e.event,c=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),s=Object(d.a)(c,2),g=s[0],h=s[1],b=g.vertical,v=g.horizontal,y=g.open,O=g.message,x=g.type,C=g.autoHide;l.a.useEffect((function(){o("http://staging.ellipseapp.com/un/event/".concat(i._id))}),[i._id]);var S=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(a);case 3:h({open:!0,vertical:"top",horizontal:"center",message:"Copied to clipboard",type:"success",autoHide:3e3}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),h({open:!0,vertical:"top",horizontal:"center",message:e.t0.message,type:"error",autoHide:4e3});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(W.a,{anchorOrigin:{vertical:b,horizontal:v},open:y,autoHideDuration:C,onClose:S,key:b+v},l.a.createElement(_e,{onClose:S,severity:x},O)),l.a.createElement(Be.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},l.a.createElement(Pe.a,{id:"form-dialog-title"},i.name),l.a.createElement(Ie.a,null,l.a.createElement(j.a,{container:!0,spacing:2},l.a.createElement(j.a,{item:!0,xs:11},l.a.createElement(E.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:r,required:!0,onChange:function(e){o(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:1},l.a.createElement(ne.a,{onClick:function(){return k(r)}},l.a.createElement(qe.a,null))))),l.a.createElement(Ae.a,null,l.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Dismiss"))))}var Ue=t(27),Xe=t(48),Ve=t(155),Ze=t(730),Ye=Object(w.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"}}}));var Ke=function(e){var a=Ye(),t=(e.children,e.value),n=(e.url,e.index),r=Object(Xe.a)(e,["children","value","url","index"]),o=e.event,i=o.tags,c=l.a.useState("Registration Ends in"),s=Object(d.a)(c,2),m=s[0],u=s[1],p=function(){var e=+new Date(o.registration_end_time)-+new Date,a={};return e<0&&(e=+new Date(o.start_time)-+new Date),e<0&&(e=+new Date(o.finish_time)-+new Date),e>0&&(a={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),a},g=l.a.useState(p()),f=Object(d.a)(g,2),h=f[0],E=f[1];l.a.useEffect((function(){var e=setTimeout((function(){u(function(){var e=+new Date(o.registration_end_time)-+new Date,a="Registration ends in";return e<0&&(a="Starts in",e=+new Date(o.start_time)-+new Date),e<0&&(a="Ends in",e=+new Date(o.finish_time)-+new Date),a}()),E(p())}),1e3);return function(){Object(Ve.a)(),clearTimeout(e)}}));var b=[];return Object.keys(h).forEach((function(e){h[e]&&b.push(l.a.createElement("span",{key:e},h[e]," ",e," "))})),l.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},r),t===n&&l.a.createElement("div",{className:a.root},l.a.createElement(j.a,{container:!0,component:"main"},l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:4,lg:4},l.a.createElement("img",{style:{maxWidth:"250px"},alt:"event poster",src:"https://ellipseapp.com"+"/api/image?id=".concat(o.poster_url)})),l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:8,lg:8},l.a.createElement(S.a,null,o.description," This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like."),l.a.createElement(S.a,{style:{marginTop:"20px",marginBottom:"20"}},m),l.a.createElement(S.a,{variant:"h5"},b.length?b:l.a.createElement("span",null,"Time's up!")),l.a.createElement("div",{style:{marginTop:"10px"}},l.a.createElement(Ze.a,{variant:"outlined",color:"primary",label:o.event_type}),l.a.createElement(Ze.a,{style:{marginLeft:"5px"},variant:"outlined",color:"primary",label:o.fee_type}),l.a.createElement(Ze.a,{style:{marginLeft:"5px"},variant:"outlined",color:"primary",label:o.event_mode}),null!=i&&i.map((function(e){return l.a.createElement(Ze.a,{key:e,style:{marginLeft:"5px"},variant:"outlined",color:"primary",label:e})})))),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(S.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h4"},"About"),l.a.createElement(S.a,{color:"textSecondary",variant:"body2"},Object(Ue.a)(new Array(5)).map((function(){return"Cras mattis consectetur purus sit amet fermentum. \n                                    Cras justo odio, dapibus ac facilisis in, egestas eget quam.\n                                    Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n                                    Praesent commodo cursus magna, vel scelerisque nisl consectetur et."})).join("\n"))),l.a.createElement(j.a,{item:!0,xs:12}),l.a.createElement(j.a,null))))},Qe=t(679),Je=t(680),$e=t(682),ea=t(684),aa=t(685),ta=t(681),na=t(683),la=t(192),ra=t.n(la),oa=Object(w.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));var ia=function(e){var a=oa(),t=(e.children,e.value),n=(e.url,e.index),r=Object(Xe.a)(e,["children","value","url","index"]),o=e.event,i=new Date(o.start_time),c=new Date(o.finish_time),s=new Date(o.registration_end_time);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},r),t===n&&l.a.createElement("div",{className:a.root},l.a.createElement(Qe.a,{align:"alternate"},l.a.createElement(Je.a,null,l.a.createElement(ta.a,null,l.a.createElement(S.a,{variant:"body2",color:"textSecondary"},s.toDateString()," "+s.toLocaleTimeString())),l.a.createElement($e.a,null,l.a.createElement(na.a,{color:"primary"},l.a.createElement(ra.a,null)),l.a.createElement(ea.a,null)),l.a.createElement(aa.a,null,l.a.createElement(ce.a,{elevation:3,className:a.paper},l.a.createElement(S.a,{variant:"h6",component:"h1"},"Registration Ends"),l.a.createElement(S.a,null,"Your oppurtunity to participate came to an end")))),l.a.createElement(Je.a,null,l.a.createElement(ta.a,null,l.a.createElement(S.a,{variant:"body2",color:"textSecondary"},i.toDateString()," "+i.toLocaleTimeString())),l.a.createElement($e.a,null,l.a.createElement(na.a,{color:"primary",variant:"outlined"},l.a.createElement(ra.a,null)),l.a.createElement(ea.a,null)),l.a.createElement(aa.a,null,l.a.createElement(ce.a,{elevation:3,className:a.paper},l.a.createElement(S.a,{variant:"h6",component:"h1"},"Starts"),l.a.createElement(S.a,null,"Party begins")))),l.a.createElement(Je.a,null,l.a.createElement(ta.a,null,l.a.createElement(S.a,{variant:"body2",color:"textSecondary"},c.toDateString()," "+c.toLocaleTimeString())),l.a.createElement($e.a,null,l.a.createElement(na.a,{color:"primary"},l.a.createElement(ra.a,null)),l.a.createElement(ea.a,{className:a.secondaryTail})),l.a.createElement(aa.a,null,l.a.createElement(ce.a,{elevation:3,className:a.paper},l.a.createElement(S.a,{variant:"h6",component:"h1"},"Ends"),l.a.createElement(S.a,null,"Chill,event came to an end")))))))},ca=Object(w.a)((function(e){return{root:{display:"flex",alignItems:"flex-start",alignContent:"flex-start",width:"100%"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main},timiline:{},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"}}}));function sa(e){var a=localStorage.getItem("token"),t=ca(),n=(e.children,e.value),r=(e.url,e.index),o=Object(Xe.a)(e,["children","value","url","index"]),i=e.event,c=l.a.useState([]),s=Object(d.a)(c,2),m=s[0],u=s[1];return l.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event/get_announcements?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){u(e)}))}))}),[a,i._id]),l.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==r},o),n===r&&l.a.createElement("div",null,m.map((function(e,a){var n=new Date(e.time);return l.a.createElement(O.a,{m:1,p:1,key:a,className:t.root3},l.a.createElement(O.a,{className:t.root2,whiteSpace:"normal"},l.a.createElement(S.a,{className:t.title},e.title),l.a.createElement(S.a,{className:t.pos},e.description)),l.a.createElement(O.a,{className:t.root5},l.a.createElement(S.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())))}))))}var ma=t(294),ua=t(613),pa=t(687),da=t(138),ga=t.n(da),fa=t(686),ha=Object(w.a)((function(e){return{root:{position:"fixed",width:"75%",height:"100vh",backgroundColor:e.palette.primary.light},large:{width:e.spacing(7),height:e.spacing(7)},inline:{whiteSpace:"pre-line"},date:{display:"flex",justifyContent:"flex-end"}}}));var Ea=function(e){var a=ha(),t=e.message,r=l.a.useState(""),o=Object(d.a)(r,2),i=o[0],c=o[1],s=new Date(t.date);return Object(n.useEffect)((function(){e.adminId===t.id&&c("Admin")}),[e.adminId,t.id]),l.a.createElement(ua.a,{alignItems:"flex-start"},l.a.createElement(fa.a,{style:{display:"none"}},l.a.createElement(ga.a,null)),l.a.createElement(pa.a,{primary:l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,{component:"h6",variant:"body2"},t.user_name),l.a.createElement(S.a,{component:"span",variant:"body2",color:"textSecondary"},i)),secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,{component:"span",variant:"body1",color:"textPrimary",className:a.inline},t.message),l.a.createElement(O.a,null,l.a.createElement(S.a,{component:"span",variant:"body2",color:"textSecondary",className:a.date},"   "+s.toLocaleTimeString([],{timeStyle:"short"}))))}))},ba=l.a.createContext(null),va=t(2),ya=t(295),Oa=t.n(ya),ja=Object(w.a)((function(e){return{bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(4),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},open:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(34),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},close:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(13),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)}}}));function xa(e){var a=ja(),t=l.a.useState(!0),n=Object(d.a)(t,2),r=n[0],o=n[1],i=l.a.useState(null),c=Object(d.a)(i,2),s=c[0],m=c[1],u=l.a.useState(a.bottomBar),p=Object(d.a)(u,2),g=p[0],f=p[1];l.a.useEffect((function(){var t;void 0!==e.open&&f(Object(va.a)((t={},Object(k.a)(t,a.open,e.open),Object(k.a)(t,a.close,!e.open),t)))}),[e.open]);return l.a.createElement(O.a,{className:g,display:"flex",alignItems:"center",justifyContent:"center"},l.a.createElement(E.a,{disabled:e.loading,fullWidth:!0,placeholder:"Type your message",multiline:!0,onChange:function(e){m(e.target.value),o(!1),""===e.target.value&&o(!0)},value:s||"",rowsMax:"3",onKeyUp:function(a){null!==s&&""!==s&&(13!==a.keyCode||a.shiftKey||(a.preventDefault(),e.handleSend(s),o(!0),m("")))}}),l.a.createElement(ne.a,{onClick:function(a){e.handleSend(s),o(!0),m("")},disabled:r,className:a.sendIcon},l.a.createElement(Oa.a,null)))}var Ca=t(608),Sa=t(297),ka=t.n(Sa),wa=t(296),Na=t.n(wa),Da=t(318);function Ta(){var e=Object(ma.a)(["/api/image?id=",""]);return Ta=function(){return e},e}var za=Object(w.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{backgroundColor:e.palette.background.paper,borderRadius:e.spacing(1),textDecorationColor:e.palette.secondary.light,maxWidth:"65%",minWidth:"20%",overflow:"auto"},root3:{display:"flex",justifyContent:"flex-end",minWidth:e.spacing(30)},root6:{display:"flex",justifyContent:"center"},topBar:{},root4:{marginRight:e.spacing(.5)},root5:{marginLeft:e.spacing(.5),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"}}}));function Aa(e){e.children;var a=e.value,t=(e.url,e.index),n=Object(Xe.a)(e,["children","value","url","index"]),r=l.a.useContext(ba),o=localStorage.getItem("token"),i=e.event,c=e.open,s=l.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1],f=l.a.useState(!1),h=Object(d.a)(f,2),E=h[0],b=h[1],v=l.a.useState(null),y=Object(d.a)(v,2),j=y[0],x=y[1],C=l.a.useState([]),k=Object(d.a)(C,2),w=k[0],N=k[1],D=za(),T=null,z=l.a.useState(null),A=Object(d.a)(z,2),I=A[0],P=A[1],B=function(){var e=new WebSocket("wss://ellipseapp.com/ws/");e.onopen=function(){console.log("connected"),P(e),e.onmessage=function(e){var a=JSON.parse(e.data),t=a.msg;a.event_id===i._id&&(console.log(t),N((function(e){return[].concat(Object(Ue.a)(e),[t])})))},b(!1)},e.onclose=function(){W(),console.log("closed")}};l.a.useEffect((function(){return b(!0),fetch("https://ellipseapp.com"+"/api/chat/load_messages?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){N(e),B()}))})),null!=j&&j.scrollIntoView({behavior:"smooth"}),function(){N([]),Object(Ve.a)()}}),[i._id,o]),l.a.useEffect((function(){null!=j&&j.scrollIntoView({behavior:"smooth"})}),[E]),l.a.useEffect((function(){return null!=j&&j.scrollIntoView({behavior:"smooth"}),function(){Object(Ve.a)()}}),[w,j]);var W=function(){I&&I.readyState!==WebSocket.readyState||(console.log("checking"),B())};return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==t},n),a===t&&l.a.createElement("div",null,l.a.createElement("div",{className:D.progress},l.a.createElement(Da.a,{in:E,unmountOnExit:!0},l.a.createElement(F.a,null))),l.a.createElement(Be.a,{onClose:function(){p(!1)},"aria-labelledby":"simple-dialog-title",open:u},l.a.createElement(Ca.a,null,l.a.createElement(ua.a,{button:!0},l.a.createElement(fa.a,null,l.a.createElement(g.a,null,l.a.createElement(Na.a,null))),l.a.createElement(pa.a,{primary:"Reply"})),l.a.createElement(ua.a,{autoFocus:!0,button:!0},l.a.createElement(fa.a,null,l.a.createElement(g.a,null,l.a.createElement(ka.a,null))),l.a.createElement(pa.a,{primary:"Delete"})))),l.a.createElement(O.a,{className:D.topBar},w.map((function(e,a){var t=new Date,n=new Date(e.date);return n.toDateString()!==T?(T=n.toDateString(),e.user_id===r.user_id?l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(O.a,{m:1,p:1,key:a,position:"sticky",className:D.root6},l.a.createElement(S.a,{variant:"body2"},t.toDateString()===n.toDateString()?"Today":n.toDateString())),l.a.createElement(O.a,{m:1,p:1,key:a+1,className:D.root3},l.a.createElement(O.a,{className:D.root2,whiteSpace:"normal",onClick:function(){return p(!1)}},l.a.createElement(Ea,{message:e})),l.a.createElement(O.a,{className:D.root5},l.a.createElement(g.a,{alt:e.userName,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})))):l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a,{m:1,p:1,key:a,className:D.root6},l.a.createElement(S.a,{variant:"body2"},t.toDateString()===n.toDateString()?"Today":n.toDateString())),l.a.createElement(O.a,{m:1,key:a,className:D.root},l.a.createElement(O.a,{className:D.root4},l.a.createElement(g.a,{alt:e.userName,src:"https://ellipseapp.com"(Ta(),e.user_pic)})),l.a.createElement(O.a,{className:D.root2,whiteSpace:"normal"},l.a.createElement(Ea,{message:e}))))):e.user_id===r.user_id?l.a.createElement(O.a,{m:1,p:1,key:a,className:D.root3},l.a.createElement(O.a,{className:D.root2,onClick:function(){return p(!1)},whiteSpace:"normal"},l.a.createElement(Ea,{message:e})),l.a.createElement(O.a,{className:D.root5},l.a.createElement(g.a,{alt:e.userName,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.user_pic)}))):l.a.createElement(O.a,{m:1,key:a,className:D.root},l.a.createElement(O.a,{className:D.root4},l.a.createElement(g.a,{alt:e.userName,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),l.a.createElement(O.a,{className:D.root2,whiteSpace:"normal"},l.a.createElement(Ea,{message:e})))})),l.a.createElement("div",{style:{float:"left",clear:"both",paddingBottom:"60px"},ref:function(e){x(e)}}),l.a.createElement("div",null,l.a.createElement(xa,{loading:E,open:c,handleSend:function(e){var a=new Date;console.log(a.toISOString()),I.send(JSON.stringify({action:"send_message",event_id:i._id,msg:{id:r.user_id+Date.now(),user_id:r.user_id,user_name:r.name,user_pic:r.profile_pic,message:e,date:a.toISOString()}})),null!=j&&j.scrollIntoView({behavior:"smooth"})}})))))}function Ia(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Pa=Object(w.a)((function(e){return{icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root:{},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(1)},bottomBar:{display:"flex",width:"90%",backgroundColor:e.palette.secondary.main},field:{width:"100%"},action:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}}));var Ba=function(e){var a=e.event,t=localStorage.getItem("theme"),n=l.a.useState(0),r=Object(d.a)(n,2),o=r[0],i=r[1],c=Pa(),s=Object(Fe.a)(),m=l.a.useState(!1),u=Object(d.a)(m,2),p=u[0],g=u[1];function h(){e.handleClose()}return l.a.createElement(Be.a,{open:e.open,onClose:h,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:s.palette.secondary.main,boxShadow:"none"}},classes:{paper:c.dialog}},l.a.createElement(Pe.a,{id:"scroll-dialog-title"},a.name,l.a.createElement("div",{className:c.icons},l.a.createElement(ne.a,{"aria-label":"share",onClick:function(){g(!0)}},l.a.createElement(Re.a,null)),l.a.createElement(ne.a,{"aria-label":"close",className:c.closeButton,onClick:h},l.a.createElement(Me.a,{fontSize:"large"}))),l.a.createElement("div",{className:c.root},l.a.createElement(ce.a,{className:c.root2},l.a.createElement(se.a,{value:o,onChange:function(e,a){i(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},l.a.createElement(me.a,Object.assign({label:"About"},Ia(0))),l.a.createElement(me.a,Object.assign({label:"Schedule"},Ia(1))),l.a.createElement(me.a,Object.assign({label:"Announcements"},Ia(2))),l.a.createElement(me.a,Object.assign({label:"Chat"},Ia(3))))))),l.a.createElement(Ie.a,{dividers:!0},l.a.createElement(Ge,{event:a,open:p,handleClose:function(){g(!1)}}),l.a.createElement(Ke,{value:o,index:0,event:e.event}),l.a.createElement(ia,{value:o,index:1,event:e.event}),l.a.createElement(sa,{value:o,index:2,event:e.event}),3===o&&l.a.createElement(Aa,{value:o,index:3,event:e.event})),l.a.createElement(Ae.a,{className:c.action},l.a.createElement(O.a,{className:c.bottomBar,display:"flex",alignItems:"center",justifyContent:"center",hidden:3!==o}),l.a.createElement("div",{role:"tabpanel",hidden:3===o},3!==o&&l.a.createElement("div",{className:c.buttonDiv},"form"===a.reg_mode?l.a.createElement(f.a,{disabled:!!a.registered,size:"small",color:"primary",variant:"contained",className:c.button,onClick:function(){e.handleReg(a)}},a.registered?"Registered":"Register"):l.a.createElement(f.a,{disabled:!!a.registered,size:"small",color:"primary",variant:"contained",className:c.button},"dark"===t?l.a.createElement("a",{href:a.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register"):l.a.createElement("a",{href:a.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register"))))))},Wa=l.a.createContext(null),Ra=t(689),Fa=Object(w.a)((function(e){return{dialog:{minHeight:"90vh",maxHeight:"90vh"},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));function Ha(e){var a=Fa(),t=Object(Fe.a)(),n=localStorage.getItem("token"),r=l.a.useState([]),o=Object(d.a)(r,2),i=o[0],c=o[1];return l.a.useEffect((function(){fetch("https://ellipseapp.com/api/get_notifications",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){c(e)}))}))}),[n]),l.a.createElement("div",null,l.a.createElement(Be.a,{scroll:"paper",open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title",classes:{paper:a.dialog}},l.a.createElement(Pe.a,{id:"form-dialog-title"},"Notifications"),l.a.createElement(Ra.a,null),l.a.createElement(Ie.a,null,i.map((function(e,t){var n=new Date(e.time);return l.a.createElement(O.a,{m:1,p:1,className:a.root3},l.a.createElement(O.a,{className:a.root2,whiteSpace:"normal"},l.a.createElement(S.a,{className:a.title},e.title),l.a.createElement(S.a,{className:a.pos},e.description)),l.a.createElement(O.a,{className:a.root5},l.a.createElement(S.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())))})))))}var Ma=t(691),La=t(299),qa=t.n(La),_a=t(300),Ga=t.n(_a),Ua=Object(c.g)((function(e){var a=e.history,t=Ce(),r=l.a.useState(null),o=Object(d.a)(r,2),i=o[0],c=o[1],s=localStorage.getItem("theme"),m=l.a.useState("light"!==s),u=Object(d.a)(m,2),p=u[0],g=u[1],f=l.a.useState(0),h=Object(d.a)(f,2),b=h[0],v=h[1],y=l.a.useState([]),O=Object(d.a)(y,2),j=O[0],x=O[1],C=Boolean(i),k=l.a.useState(!1),w=Object(d.a)(k,2),N=w[0],D=w[1],T=l.a.useState(!1),z=Object(d.a)(T,2),A=z[0],I=z[1],P=l.a.useContext(Wa);Object(n.useEffect)((function(){if(null!=localStorage.getItem("tabIndex")){var e=parseInt(localStorage.getItem("tabIndex"));null!=e&&v(e)}}),[]);var B=function(e,a){v(a),localStorage.setItem("tabIndex",a)},W=localStorage.getItem("token");W||a.replace("/");var R="primary-search-account-menu",F=l.a.createElement(he.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:R,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:C,onClose:function(){c(null)}},l.a.createElement(fe.a,null," Dark Theme ",l.a.createElement(Ma.a,{checked:p,onChange:function(e){console.log(e.target.checked),g(e.target.checked),e.target.checked?(localStorage.setItem("theme","dark"),window.location.reload(!1)):(localStorage.setItem("theme","light"),window.location.reload(!1))},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}})),l.a.createElement(fe.a,{onClick:function(e){fetch("https://ellipseapp.com/api/users/logout",{headers:{Authorization:"Bearer ".concat(W),"Content-Type":"application/json"},method:"POST"}).then((function(e){e.json().then((function(e){"success"===e.message&&(localStorage.removeItem("token"),localStorage.removeItem("tabIndex"),a.replace("/"))}))}))}},"Log Out"));function H(e){e.preventDefault(),a.push("/events")}function M(){a.push("/home")}function L(){a.push("/profile")}function q(){a.push("/yourevents")}var _=function(){D(!1),I(!1)};return l.a.createElement("div",{className:t.grow},l.a.createElement(l.a.Fragment,null,l.a.createElement(de.a,{position:"sticky",color:"secondary"},l.a.createElement(ge.a,null,l.a.createElement("img",{src:"light"===s?Ga.a:qa.a,alt:"logo",height:"45",width:"45"}),l.a.createElement(S.a,{className:t.title,variant:"h5",noWrap:!0},"Ellipse"),l.a.createElement("div",{className:t.search},l.a.createElement("div",{className:t.searchIcon},l.a.createElement(be.a,null)),l.a.createElement(ze.a,{freeSolo:!0,id:"search",placeholder:"search..",options:P,getOptionLabel:function(e){return e.name},onChange:function(e,a){a&&(console.log(a),x(a),D(!0))},renderInput:function(e){return l.a.createElement(E.a,Object.assign({},e,{placeholder:"search..",className:t.inputInput}))}})),l.a.createElement("div",{className:t.tabs},l.a.createElement(ce.a,{square:!0,className:t.root},l.a.createElement(se.a,{value:b,onChange:B,variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon tabs example"},l.a.createElement(me.a,{onClick:M,icon:l.a.createElement(Te.a,null),"aria-label":"home"}),l.a.createElement(me.a,{onClick:H,icon:l.a.createElement(je.a,null),"aria-label":"event"}),l.a.createElement(me.a,{onClick:q,icon:l.a.createElement(ke.a,null),"aria-label":"person"}),l.a.createElement(me.a,{onClick:L,icon:l.a.createElement(pe.a,null),"aria-label":"person"})))),l.a.createElement("div",{className:t.grow}),l.a.createElement("div",{className:t.sectionDesktop},l.a.createElement(ne.a,{"aria-label":"notifications",color:"inherit",onClick:function(){I(!0)}},l.a.createElement(ee.a,{badgeContent:0,color:"secondary"},l.a.createElement(ye.a,null))),l.a.createElement(ne.a,{edge:"end","aria-label":"account of current user","aria-controls":R,"aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit"},l.a.createElement(Ne.a,null))))),F,l.a.createElement(de.a,{position:"sticky",color:"secondary"},l.a.createElement("div",{className:t.mobiletab},l.a.createElement(ce.a,{square:!0,className:t.root,position:"sticky"},l.a.createElement(se.a,{value:b,onChange:B,variant:"fullWidth",indicatorColor:"primary",textColor:"primary"},l.a.createElement(me.a,{onClick:M,icon:l.a.createElement(Te.a,null),"aria-label":"home"}),l.a.createElement(me.a,{onClick:H,icon:l.a.createElement(je.a,null),"aria-label":"event"}),l.a.createElement(me.a,{onClick:q,icon:l.a.createElement(ke.a,null),"aria-label":"explore"}),l.a.createElement(me.a,{onClick:L,icon:l.a.createElement(pe.a,null),"aria-label":"person"}))))),l.a.createElement("div",null,N&&l.a.createElement(Ba,{open:N,event:j,handleReg:function(e){D(!1),a.push("/event/register/"+e._id)},handleClose:_}),l.a.createElement(Ha,{open:A,handleClose:_}))))})),Xa=l.a.createContext(null),Va=Object(w.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},root:{background:"white",position:"sticky",top:0,bottom:0,zIndex:5}}}));var Za=function(e){var a=localStorage.getItem("token"),t=Va(),n=l.a.useState([]),r=Object(d.a)(n,2),o=r[0],i=r[1],s=l.a.useState([]),m=Object(d.a)(s,2),u=m[0],p=m[1],g=l.a.useState(null),f=Object(d.a)(g,2),h=f[0],E=f[1],b=l.a.useState(!0),v=Object(d.a)(b,2),y=v[0],O=v[1],j=l.a.useState(!0),x=Object(d.a)(j,2),C=x[0],S=x[1],k=l.a.useState(!0),w=Object(d.a)(k,2),N=w[0],D=w[1];return l.a.useEffect((function(){fetch("https://ellipseapp.com/api/users/me",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){E(e[0]),null===e[0].college_name&&D(!1),O(!1)})):401===e.status&&(localStorage.removeItem("token"),S(!1))})),fetch("https://ellipseapp.com/api/events",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){e.sort((function(e,a){return new Date(e.start_time)-new Date(a.start_time)})),i(e),p(e.filter((function(e){return new Date<new Date(e.finish_time)})))})):401===e.status&&(localStorage.removeItem("token"),S(!1))}))}),[a]),a&&C?N?l.a.createElement(ba.Provider,{value:h},l.a.createElement(Wa.Provider,{value:o},l.a.createElement(Xa.Provider,{value:u},null!=h&&l.a.createElement("div",null,l.a.createElement(ce.a,{className:t.root},l.a.createElement(Ua,null)),l.a.createElement("div",null,e.children)),null==h&&l.a.createElement(ie.a,{className:t.backdrop,open:y},l.a.createElement(F.a,{color:"inherit"}))))):l.a.createElement(c.a,{to:"/userinfo"}):l.a.createElement(c.a,{to:"/"})},Ya=t(304),Ka=t(305),Qa=(t(601),t(694)),Ja=t(104),$a=t.n(Ja),et=Object(w.a)((function(e){var a;return{root:{height:"300px"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(k.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(k.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:Object(k.a)({borderRadius:e.spacing(50)},e.breakpoints.down("md"),{display:"none"}),fab:Object(k.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(k.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"})}}));var at=function(e){var a=e.history;localStorage.setItem("tabIndex",1);var t=et(),r=l.a.useState([]),o=Object(d.a)(r,2),i=o[0],c=o[1],s=l.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1],h=l.a.useState([]),E=Object(d.a)(h,2),b=E[0],v=E[1],y=l.a.useState([]),O=Object(d.a)(y,2),x=O[0],C=O[1],k=l.a.useContext(Xa);Object(n.useEffect)((function(){k.forEach((function(e){c((function(a){return[].concat(Object(Ue.a)(a),[{id:JSON.stringify(e),title:e.name,start:e.start_time,end:e.finish_time}])}))})),C(k.filter((function(e){return!0===e.registered})))}),[k]);var w=function(){a.push("/post")},N=function(e){return function(){v(e),p(!0)}};return l.a.createElement("div",null,l.a.createElement("div",{className:t.root},l.a.createElement(j.a,{container:!0,component:"main"},l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:3,lg:2}),l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:9,lg:8},l.a.createElement(Ya.a,{eventBackgroundColor:"#1C1C1E",events:i,eventClick:function(e){v(JSON.parse(e.event.id)),p(!0)},defaultView:"dayGridMonth",plugins:[Ka.a],backgroundColor:"black",buttonIcons:!1})),l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:!1,lg:2},l.a.createElement(Qa.a,{color:"primary","aria-label":"add",className:t.fab,onClick:w},l.a.createElement($a.a,null)),l.a.createElement(ce.a,{className:t.rpaper},l.a.createElement(ce.a,{className:t.subRpaper},l.a.createElement(f.a,{onClick:w,variant:"contained",fullWidth:!0,size:"large",className:t.postButton},"Post Event"),l.a.createElement(Ca.a,{className:t.sideList},l.a.createElement(S.a,{variant:"body2"},"Registered Events"),x.map((function(e,a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(ua.a,{onClick:N(e),key:a,button:!0},l.a.createElement(fa.a,null,l.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),l.a.createElement(pa.a,{primary:e.name})),l.a.createElement(Ra.a,null))}))))))),l.a.createElement("div",null,l.a.createElement(Ba,{open:u,event:b,handleClose:function(){p(!1)},handleReg:function(e){p(!1),a.push("/event/register/"+e._id)}}))))},tt=t(695),nt=t(696),lt=t(697),rt=t(698),ot=t(307),it=t.n(ot),ct=t(306),st=t.n(ct),mt=t(693),ut=t(607),pt=t(669),dt=t(604);function gt(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}function ft(e){var a=Object(Fe.a)(),t=localStorage.getItem("token"),n=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),r=Object(d.a)(n,2),o=r[0],i=r[1],c=l.a.useState(!1),s=Object(d.a)(c,2),g=s[0],h=s[1],b=o.vertical,v=o.horizontal,y=o.open,O=o.message,x=o.type,C=o.autoHide,S=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(u.a)(Object(u.a)({},o),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),k=l.a.useState(null),w=Object(d.a)(k,2),N=w[0],D=w[1],T=l.a.useState(null),z=Object(d.a)(T,2),A=z[0],I=z[1],P=e.event;return l.a.createElement("div",null,l.a.createElement(W.a,{anchorOrigin:{vertical:b,horizontal:v},open:y,autoHideDuration:C,onClose:S,key:b+v},l.a.createElement(gt,{onClose:S,severity:x},O)),l.a.createElement(Be.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},l.a.createElement(Pe.a,{id:"form-dialog-title"},"Report(",P.name,")"),l.a.createElement(Ie.a,null,l.a.createElement(j.a,{container:!0,spacing:2},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:N||"",required:!0,onChange:function(e){D(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:A||"",required:!0,onChange:function(e){I(e.target.value)}})))),l.a.createElement(Ae.a,null,l.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),l.a.createElement(f.a,{onClick:function(){h(!0);try{var a=new FormData,n={event_id:P._id,title:N,description:A};a=JSON.stringify(n),fetch("https://ellipseapp.com/api/event/report",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},method:"POST",body:a}).then((function(a){a.json().then((function(a){"success"===a.message&&(h(!1),e.handleClose(),i({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3}))}))}))}catch(l){h(!1),i({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error",autoHide:3e3})}},color:"primary"},g?l.a.createElement(F.a,{color:"primary",size:24}):"Send"))))}var ht=Object(w.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},morePopup:{zIndex:"5"}}}));var Et=function(e){var a=ht(),t=e.event,n=localStorage.getItem("theme"),r=new Date(t.start_time),o=new Date(t.finish_time),i=new Date(t.registration_end_time),c=l.a.useState(!1),s=Object(d.a)(c,2),m=s[0],u=s[1],p=l.a.useRef(null),g=l.a.useState(!1),h=Object(d.a)(g,2),E=h[0],b=h[1],v=l.a.useState(!1),y=Object(d.a)(v,2),O=y[0],j=y[1],x=l.a.useState(!1),C=Object(d.a)(x,2),k=C[0],w=C[1],N=function(e){p.current&&p.current.contains(e.target)||u(!1)};function D(e){"Tab"===e.key&&(e.preventDefault(),u(!1))}var T=l.a.useRef(m);function z(){j(!0)}function A(){w(!0)}return l.a.useEffect((function(){!0===T.current&&!1===m&&p.current.focus(),T.current=m}),[m]),l.a.createElement(tt.a,{className:a.root},l.a.createElement(nt.a,{avatar:l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{style:{display:E?"block":"none"},onClick:function(){},onLoad:function(){return b(!0)},alt:"Event Poster",height:"160",width:"150",src:"https://ellipseapp.com"+"/api/image?id=".concat(t.poster_url)}),!E&&l.a.createElement("div",{style:{height:"160px",width:"150px"}},l.a.createElement(st.a,{color:"disabled",style:{height:"160px",width:"150px"}}))),action:l.a.createElement("div",null,l.a.createElement(ne.a,{ref:p,"aria-controls":m?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){u((function(e){return!e}))}},l.a.createElement(it.a,null)),l.a.createElement(mt.a,{className:a.morePopup,open:m,anchorEl:p.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,t=e.placement;return l.a.createElement(dt.a,Object.assign({},a,{style:{transformOrigin:"bottom"===t?"center top":"center bottom"}}),l.a.createElement(ce.a,null,l.a.createElement(pt.a,{onClickAway:N},l.a.createElement(ut.a,{autoFocusItem:m,id:"menu-list-grow",onKeyDown:D},l.a.createElement(fe.a,{onClick:A},"Share"),l.a.createElement(fe.a,{onClick:z},"Report")))))}))),title:l.a.createElement(S.a,{variant:"h5",color:"textPrimary",component:"p"},e.name),subheader:l.a.createElement(S.a,{variant:"body1",color:"textSecondary",component:"p"},"This impressive paella is a perfect party dish and a fun meal to cook together with your guests. Add 1 cup of frozen peas along with the mussels, if you like.")}),l.a.createElement(lt.a,null,l.a.createElement(ft,{event:t,open:O,handleClose:function(){j(!1)}}),l.a.createElement(Ge,{event:t,open:k,handleClose:function(){w(!1)}}),l.a.createElement(Ze.a,{variant:"outlined",color:"inherit",size:"small",label:t.event_mode}),l.a.createElement(Ze.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:t.fee_type}),l.a.createElement(Ze.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:t.event_type}),l.a.createElement(Ze.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Reg ends at "+i.toDateString()}),l.a.createElement(Ze.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Starts at "+r.toDateString()}),l.a.createElement(Ze.a,{style:{marginLeft:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Ends at  "+o.toDateString()})),l.a.createElement(rt.a,{disableSpacing:!0},l.a.createElement("div",{className:a.buttonDiv},l.a.createElement(f.a,{size:"small",color:"primary",variant:"outlined",className:a.button,onClick:function(){e.click(e.eventId)}},"See More"),"form"===t.reg_mode?l.a.createElement(f.a,{disabled:!!t.registered,size:"small",color:"primary",variant:"contained",className:a.button,onClick:function(){e.handleReg(e.eventId)}},t.registered?"Registered":"Register"):l.a.createElement(f.a,{disabled:!!t.registered,size:"small",color:"primary",variant:"contained",className:a.button},"dark"===n?l.a.createElement("a",{href:t.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register"):l.a.createElement("a",{href:t.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register")))))},bt=t(700),vt=t(52),yt=t(33),Ot=t(699),jt=t(721),xt=t(701),Ct=Object(w.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",top:e.spacing(10),zIndex:3},root:Object(k.a)({background:e.palette.primary.light,position:"sticky",marginLeft:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),root2:{marginTop:e.spacing(5),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,borderRadius:e.spacing(2)},filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50)}}}));var St=function(e){var a=Ct(),t=l.a.useContext(ba),n=function(a){return function(){var t=e.modeChecked.indexOf(a),n=Object(Ue.a)(e.modeChecked);-1===t?n.push(a):n.splice(t,1),e.setModeChecked(n)}},r=function(a){return function(){var t=e.feeChecked.indexOf(a),n=Object(Ue.a)(e.feeChecked);-1===t?n.push(a):n.splice(t,1),e.setFeeChecked(n)}};return l.a.createElement("div",null,l.a.createElement(ce.a,{className:a.root},l.a.createElement(S.a,{index:0},"Filters"),l.a.createElement(yt.a,{utils:vt.a},l.a.createElement(Ot.a,{fullWidth:!0,variant:"dialog",format:"dd MMM yyyy",margin:"normal",id:"startDate",label:"From",name:"startDate",value:e.sortStartDate,onChange:e.handleSortDateChange}),l.a.createElement(Ot.a,{fullWidth:!0,variant:"dialog",format:"dd MMM yyyy",margin:"normal",id:"endDate",label:"To",name:"endDate",value:e.sortEndDate,onChange:e.handleEndSortDateChange})),l.a.createElement(S.a,{style:{paddingTop:"10px"}},"Event Mode"),l.a.createElement(Ca.a,{className:a.root},["Online","Offline"].map((function(a){var t="checkbox-list-label-".concat(a);return l.a.createElement(ua.a,{key:a,role:void 0,dense:!0,button:!0,onClick:n(a)},l.a.createElement(bt.a,null,l.a.createElement(v.a,{edge:"start",color:"default",checked:-1!==e.modeChecked.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),l.a.createElement(pa.a,{id:t,primary:a}))}))),l.a.createElement(S.a,{style:{paddingTop:"10px"}},"Event Cost"),l.a.createElement(Ca.a,{className:a.root},["Free","Paid"].map((function(a){var t="checkbox-list-label-".concat(a);return l.a.createElement(ua.a,{key:a,role:void 0,dense:!0,button:!0,onClick:r(a)},l.a.createElement(bt.a,null,l.a.createElement(v.a,{edge:"start",color:"default",checked:-1!==e.feeChecked.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),l.a.createElement(pa.a,{id:t,primary:a}))}))),l.a.createElement(S.a,null,"College"),l.a.createElement(xt.a,{"aria-label":"address",name:"address",defaultValue:"All",onChange:e.handleSortCollegeChange,style:{display:"inline"}},l.a.createElement(Ca.a,{className:a.root},["All","".concat(t.college_name)].map((function(e){return l.a.createElement(ua.a,{key:e,role:void 0,dense:!0,button:!0},l.a.createElement(bt.a,null,l.a.createElement(b.a,{value:e,control:l.a.createElement(jt.a,{color:"default"}),label:e})))})))),l.a.createElement(f.a,{className:a.filterButton,onClick:e.handleSortApplyButton,variant:"contained"}," Apply "),l.a.createElement(f.a,{className:a.filterButton,onClick:e.handlesortDiscardButton,variant:"contained"},"Discard")),l.a.createElement("div",null))},kt=Object(w.a)((function(e){return{root:{background:e.palette.secondary.main,position:"sticky",top:e.spacing(10),marginLeft:e.spacing(1)},filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50)}}}));var wt=function(e){var a=kt(),t=l.a.useContext(ba),n=function(a){return function(){var t=e.modeChecked.indexOf(a),n=Object(Ue.a)(e.modeChecked);-1===t?n.push(a):n.splice(t,1),e.setModeChecked(n)}},r=function(a){return function(){var t=e.feeChecked.indexOf(a),n=Object(Ue.a)(e.feeChecked);-1===t?n.push(a):n.splice(t,1),e.setFeeChecked(n)}};return l.a.createElement("div",null,l.a.createElement(ce.a,{className:a.root},l.a.createElement(S.a,{index:0},"Filters"),l.a.createElement(yt.a,{utils:vt.a},l.a.createElement(Ot.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy",margin:"normal",id:"startDate",label:"From",name:"startDate",defaultValue:"",value:e.sortStartDate,onChange:e.handleSortDateChange}),l.a.createElement(Ot.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy",margin:"normal",id:"endDate",label:"To",name:"endDate",defaultValue:"",value:e.sortEndDate,onChange:e.handleEndSortDateChange,KeyboardButtonProps:{"aria-label":"change date"}})),l.a.createElement(S.a,{style:{paddingTop:"10px"}},"Event Mode"),l.a.createElement(Ca.a,null,["online","offline"].map((function(a){var t="checkbox-list-label-".concat(a);return l.a.createElement(ua.a,{key:a,role:void 0,dense:!0,button:!0,onClick:n(a)},l.a.createElement(bt.a,null,l.a.createElement(v.a,{edge:"start",color:"default",checked:-1!==e.modeChecked.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),l.a.createElement(pa.a,{id:t,primary:a}))}))),l.a.createElement(S.a,{style:{paddingTop:"10px"}},"Event Cost"),l.a.createElement(Ca.a,{className:a.root},["Free","Paid"].map((function(a){var t="checkbox-list-label-".concat(a);return l.a.createElement(ua.a,{key:a,role:void 0,dense:!0,button:!0,onClick:r(a)},l.a.createElement(bt.a,null,l.a.createElement(v.a,{edge:"start",color:"default",checked:-1!==e.feeChecked.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),l.a.createElement(pa.a,{id:t,primary:a}))}))),l.a.createElement(S.a,null,"College"),l.a.createElement(xt.a,{"aria-label":"address",name:"address",defaultValue:"All",onChange:e.handleSortCollegeChange,style:{display:"inline"}},l.a.createElement(Ca.a,{className:a.root},["All","".concat(t.collegeName)].map((function(e){return l.a.createElement(ua.a,{key:e,role:void 0,dense:!0,button:!0},l.a.createElement(bt.a,null,l.a.createElement(b.a,{value:e,control:l.a.createElement(jt.a,{color:"default"}),label:e})))})))),l.a.createElement(f.a,{className:a.filterButton,onClick:e.handleSortApplyButton,variant:"contained"}," Apply "),l.a.createElement(f.a,{className:a.filterButton,onClick:e.handlesortDiscardButton,variant:"contained"},"Discard")),l.a.createElement("div",null))};var Nt=function(e){return l.a.createElement("div",null,l.a.createElement(Be.a,{open:e.open,onClose:function(){e.handleClose()},scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:"#1C1C1E",boxShadow:"none"}}},l.a.createElement(Pe.a,null,"Hello"),l.a.createElement(Ie.a,null,l.a.createElement("img",{src:e.image,alt:"profile pic"}))))},Dt=t(705),Tt=t(702),zt=t(703),At=t(704),It=Object(w.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"auto",backgroundColor:e.palette.primary.light,padding:e.spacing(2)},gridList:{flexWrap:"nowrap",color:e.palette.background.paper,transform:"translateZ(0)"},title:{color:e.palette.primary.dark},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},img:{height:355,maxWidth:400,overflow:"hidden",display:"block",width:"100%"}}}));function Pt(e){var a=e.events,t=It(),n=function(a){return function(){e.click(a,"")}};return l.a.createElement("div",{className:t.root},l.a.createElement(Tt.a,{className:t.gridList,cols:2.5},a.map((function(e){return l.a.createElement(zt.a,{key:e._id,rows:1},l.a.createElement("img",{src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url),alt:e.name,className:t.img}),l.a.createElement(At.a,{title:e.name,classes:{root:t.titleBar,title:t.title},actionIcon:l.a.createElement(ne.a,{"aria-label":"star ".concat(e.name),onClick:n(e)},l.a.createElement(ga.a,{className:t.title}))}))}))))}var Bt=Object(w.a)((function(e){var a;return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"89vh"},Object(k.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(k.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:Object(k.a)({borderRadius:e.spacing(50)},e.breakpoints.down("md"),{display:"none"}),root:Object(k.a)({background:e.palette.primary.light,position:"sticky",top:e.spacing(10),marginLeft:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),leftSubPaper:Object(k.a)({backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},e.breakpoints.down("md"),{maxHeight:"78vh"}),root2:Object(k.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"}),filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50)},fab:Object(k.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),mobileFilterButton:Object(k.a)({},e.breakpoints.up("md"),{display:"none"}),skeleton:{textDecorationColor:e.palette.primary.dark}}}));var Wt=Object(c.g)((function(e){var a=e.history;localStorage.setItem("tabIndex",0);var t=localStorage.getItem("token"),n=l.a.useContext(ba),r=Bt(),o=l.a.useState(!1),i=Object(d.a)(o,2),c=i[0],s=i[1],u=l.a.useState(!1),h=Object(d.a)(u,2),E=h[0],b=h[1],v=l.a.useState(""),y=Object(d.a)(v,2),O=y[0],x=y[1],C=l.a.useState(null),k=Object(d.a)(C,2),w=k[0],N=k[1],D=l.a.useState(null),T=Object(d.a)(D,2),z=T[0],A=T[1],I=l.a.useState(""),P=Object(d.a)(I,2),B=P[0],W=P[1],R=l.a.useState([]),F=Object(d.a)(R,2),H=F[0],M=F[1],L=l.a.useState(!1),q=Object(d.a)(L,2),_=q[0],G=q[1],U=l.a.useState([0]),X=Object(d.a)(U,2),V=X[0],Z=X[1],Y=l.a.useState([0]),K=Object(d.a)(Y,2),Q=K[0],J=K[1],$=l.a.useState(!1),ee=Object(d.a)($,2),ae=ee[0],te=ee[1],ne=l.a.useState(null),le=Object(d.a)(ne,2),re=le[0],oe=le[1],ie=l.a.useContext(Xa),se=l.a.useState([]),me=Object(d.a)(se,2),ue=me[0],pe=me[1];l.a.useEffect((function(){pe(ie.filter((function(e){return!0===e.registered})))}),[ie]),t||a.replace("/");var de=function(e,a){x(e),oe(a),s(!0)},ge=function(){a.push("/post")},fe=function(e){console.log(e),N(e)},he=function(e){A(e)};function Ee(e,a){W(a)}function be(){return ve.apply(this,arguments)}function ve(){return(ve=Object(p.a)(m.a.mark((function e(){var a,t,l,r,o,i,c,s,u,p,d,g,f,h,E,b,v,y;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==w||null==z){e.next=7;break}a=ye(w,z,ie),M(a),G(!0),Q.length>1?(console.log(je(a)),t=je(a),M(t),G(!0),V.length>1&&(l=xe(t),M(l),G(!0),B===n.college_name&&(r=Ce(l),M(r),G(!0)))):V.length>1?(o=xe(a),M(o),G(!0),B===n.college_name&&(i=Ce(o),M(i),G(!0))):B===n.collegeName&&(c=Ce(a),M(c),G(!0)),e.next=17;break;case 7:if(null==w){e.next=16;break}return e.next=10,Oe(w,ie);case 10:s=e.sent,M(s),G(!0),Q.length>1?(console.log(je(s)),u=je(s),M(u),G(!0),V.length>1&&(p=xe(s),M(p),G(!0),B===n.collegeName&&(d=Ce(p),M(d),G(!0)))):V.length>1?(g=xe(s),M(g),G(!0),B===n.collegeName&&(f=Ce(g),M(f),G(!0))):B===n.collegeName&&(h=Ce(s),M(h),G(!0)),e.next=17;break;case 16:Q.length>1?(E=je(ie),console.log(je(ie)),M(E),G(!0),V.length>1&&(b=xe(E),M(b),G(!0))):V.length>1?(v=xe(ie),M(v),G(!0)):B===n.collegeName&&(y=Ce(ie),M(y),G(!0));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,a,t){var n=[];return t.forEach((function(t){var l=new Date(t.start_time);e.getTime()<=l.getTime()&&l.getTime()<=a.getTime()&&n.push(t)})),n}function Oe(e,a){var t=[];return a.forEach(function(){var a=Object(p.a)(m.a.mark((function a(n){var l,r,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l="".concat(e.getDate())+e.getMonth()+e.getFullYear(),r=new Date(n.start_time),o="".concat(r.getDate())+r.getMonth()+r.getFullYear(),console.log(o),l===o&&(console.log(n),t.push(n)),console.log(H);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),console.log(t),t}function je(e){var a=[];return e.forEach((function(e){Q.includes(e.event_mode)&&(console.log("ddd"),a.push(e))})),console.log(a),a}function xe(e){var a=[];return e.forEach((function(e){V.includes(e.fee_type)&&a.push(e)})),a}function Ce(e){var a=[];return e.forEach((function(e){n.collegeName===e.college&&a.push(e)})),a}function Se(){J([0]),Z([0]),M([]),G(!1)}function ke(e){}function we(e){x(e),a.push("/event/register/"+e._id)}var Ne=function(e){return function(){x(e),s(!0)}};return l.a.createElement("div",null,l.a.createElement(j.a,{container:!0,component:"main"},l.a.createElement(j.a,{item:!0,xs:!1,md:3,lg:2,style:{padding:"10px"}},l.a.createElement(ce.a,{className:r.root},l.a.createElement(ce.a,{className:r.leftSubPaper},l.a.createElement(St,{handleSortDateChange:fe,sortStartDate:w,handleEndSortDateChange:he,sortEndDate:z,handleSortCollegeChange:Ee,feeChecked:V,modeChecked:Q,setFeeChecked:Z,setModeChecked:J,handleSortApplyButton:be,handlesortDiscardButton:Se}))),l.a.createElement(f.a,{className:r.mobileFilterButton,variant:"outlined",onClick:function(){te(!0)}},"Filters")),l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:9,lg:8},l.a.createElement(S.a,{variant:"h5",style:{paddingTop:"5px"}},"Your College Events"),l.a.createElement(Pt,{click:de,events:ie.filter((function(e){return e.college_name===n.college_name}))}),0===ie.length&&l.a.createElement("div",null,l.a.createElement(Dt.a,{variant:"rect",animation:"wave",height:118}),l.a.createElement(Dt.a,{animation:"wave"}),l.a.createElement(Dt.a,{animation:"wave"}),l.a.createElement(Dt.a,{animation:"wave"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Dt.a,{variant:"rect",animation:"wave",height:118}),l.a.createElement(Dt.a,{animation:"wave"}),l.a.createElement(Dt.a,{animation:"wave"}),l.a.createElement(Dt.a,{animation:"wave"})),_?H.map((function(e,a){return l.a.createElement(Et,{key:a,click:de,url:n.imageUrl,name:e.name,startTime:e.start_time,endTime:e.finish_time,eventMode:e.eventMode,eventType:e.eventType,regEndTime:e.registrationEndTime,event:e,feeType:e.feesType,imageDialog:ke,handleReg:we,eventId:e})})):ie.map((function(e,a){return l.a.createElement(Et,{key:a,click:de,url:n.imageUrl,name:e.name,startTime:e.start_time,endTime:e.finish_time,eventMode:e.eventMode,eventType:e.eventType,regEndTime:e.registrationEndTime,eventId:e,feeType:e.feesType,imageDialog:ke,handleReg:we,event:e})}))),l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:4,lg:2},l.a.createElement(Qa.a,{color:"primary","aria-label":"add",className:r.fab,onClick:ge},l.a.createElement($a.a,null)),l.a.createElement(ce.a,{className:r.rpaper},l.a.createElement(ce.a,{className:r.subRpaper},l.a.createElement(f.a,{onClick:ge,variant:"contained",fullWidth:!0,size:"large",className:r.postButton},"Post Event"),l.a.createElement(Ca.a,{className:r.root2},l.a.createElement(S.a,{variant:"body2"},"Registered Events"),ue.map((function(e,a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(ua.a,{onClick:Ne(e),key:a,button:!0},l.a.createElement(fa.a,null,l.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),l.a.createElement(pa.a,{primary:e.name})),l.a.createElement(Ra.a,null))}))))))),l.a.createElement("div",null,l.a.createElement(Ba,{open:c,event:O,imageUrl:re,handleClose:function(){s(!1)},handleReg:we},"imageDialog=",ke),l.a.createElement(Nt,{image:re,open:E,handleClose:function(){b(!1)},url:n.imageUrl}),l.a.createElement(Be.a,{open:ae,onClose:function(){te(!1)},fullWidth:!0,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",maxWidth:"sm",PaperProps:{style:{backgroundColor:"#1C1C1E",boxShadow:"none"}}},l.a.createElement(Pe.a,null,"Filters"),l.a.createElement(Ie.a,null,l.a.createElement(wt,{handleSortDateChange:fe,sortStartDate:w,handleEndSortDateChange:he,sortEndDate:z,handleSortCollegeChange:Ee,feeChecked:V,modeChecked:Q,setFeeChecked:Z,setModeChecked:J,handleSortApplyButton:be,handlesortDiscardButton:Se})))))})),Rt=t(706),Ft=Object(w.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main}}}));function Ht(e){var a=Ft(),t=e.event,n=localStorage.getItem("theme"),r=l.a.useState(!1),o=Object(d.a)(r,2),c=o[0],s=o[1];return l.a.createElement(tt.a,{className:a.root},l.a.createElement(Rt.a,{component:"img",height:"180",image:"https://ellipseapp.com"+"/api/image?id=".concat(t.poster_url)}),l.a.createElement(lt.a,null,l.a.createElement(S.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name)),l.a.createElement(rt.a,null,l.a.createElement(f.a,{size:"small",color:"primary",onClick:function(){s(!0)}},"Share"),l.a.createElement(f.a,{onClick:function(){e.handleViewClick(e.event)},size:"small",color:"primary"},"dark"===n?l.a.createElement(i.b,{to:{pathname:"/event/".concat(t._id),state:{event:e.event}},style:{textDecoration:"none",color:"#ffffff"}},"View"):l.a.createElement(i.b,{to:{pathname:"/event/".concat(t._id),state:{event:e.event}},style:{textDecoration:"none",color:"#000000"}},"View"))),l.a.createElement(Ge,{event:t,open:c,handleClose:function(){s(!1)}}))}var Mt=function(e){e.children;var a=e.value,t=e.url,n=e.index,r=Object(Xe.a)(e,["children","value","url","index"]),o=l.a.useState(!1),i=Object(d.a)(o,2),c=i[0],s=i[1],m=l.a.useContext(ba),u=l.a.useContext(Wa).filter((function(e){return!0===e.registered})),p=l.a.useState(""),g=Object(d.a)(p,2),f=g[0],h=g[1];function E(e){h(e)}return l.a.createElement("div",Object.assign({role:"tabpanel"},r),a===n&&l.a.createElement("div",null,l.a.createElement(j.a,{container:!0,component:"main",alignItems:"center",spacing:1},u.map((function(e,a){return l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:4,key:a},l.a.createElement(Ht,{event:e,handleViewClick:E,name:e.name,image:t}))})),null===u&&l.a.createElement("div",null,l.a.createElement(S.a,{align:"center",alignItems:"center"},"No registered Events")),l.a.createElement(Ba,{open:c,event:f,handleClose:function(){s(!1)},name:f.name,startTime:f.start_time,endTime:f.finish_time,regEndTime:f.registrationEndTime,type:f.eventType,tags:f.tags,mode:f.eventMode,feeType:f.feesType,url:m.imageUrl}))))};var Lt=function(e){e.children;var a=e.value,t=e.url,n=e.index,r=Object(Xe.a)(e,["children","value","url","index"]),o=l.a.useState(!1),i=Object(d.a)(o,2),c=i[0],s=i[1],m=l.a.useContext(ba),u=l.a.useContext(Wa).filter((function(e){return e.user_id===m.user_id})),p=l.a.useState(""),g=Object(d.a)(p,2),f=g[0],h=g[1];function E(e){h(e)}return l.a.createElement("div",Object.assign({role:"tabpanel"},r),a===n&&l.a.createElement("div",null,l.a.createElement(j.a,{container:!0,component:"main",alignItems:"center",spacing:1},u.map((function(e,a){return l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:4,key:a},l.a.createElement(Ht,{event:e,handleViewClick:E,name:e.name,image:t}))})),l.a.createElement(Ba,{open:c,event:f,handleClose:function(){s(!1)},name:f.name,startTime:f.start_time,endTime:f.finish_time,regEndTime:f.registrationEndTime,type:f.eventType,tags:f.tags,mode:f.eventMode,feeType:f.feesType,url:m.imageUrl}))))},qt=Object(w.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5),borderRadius:e.spacing(3)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"}}}));var _t=function(e){localStorage.setItem("tabIndex",3);var a=qt(),t=l.a.useState(0),n=Object(d.a)(t,2),r=n[0],o=n[1],i=l.a.useContext(ba);return l.a.createElement(tt.a,{className:a.root},l.a.createElement(j.a,{container:!0,component:"main"},l.a.createElement(h.a,null),l.a.createElement(j.a,{item:!0,xs:!1,sm:!1,md:2}),l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:8},l.a.createElement(nt.a,{avatar:l.a.createElement(g.a,{className:a.large,sizes:"100",alt:"",src:"https://ellipseapp.com"+"/api/image?id=".concat(i.profile_pic)}),action:l.a.createElement(f.a,{variant:"outlined",color:"default",className:a.button,onClick:e.handleEditButton},"Edit Profile"),title:l.a.createElement(S.a,{variant:"h4"},i.name),subheader:i.bio})),l.a.createElement(j.a,{item:!0,xs:!1,sm:!1,md:2})),l.a.createElement(lt.a,null,l.a.createElement(ce.a,{className:a.root2},l.a.createElement(se.a,{value:r,onChange:function(e,a){o(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},l.a.createElement(me.a,{label:"Registered Events"}),l.a.createElement(me.a,{label:"Posted Events"}))),l.a.createElement("div",null,l.a.createElement(Mt,{url:i.imageUrl,value:r,index:0}),l.a.createElement(Lt,{url:i.imageUrl,value:r,index:1}))))},Gt=Object(w.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},button:{marginTop:e.spacing(4)}}}));function Ut(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}var Xt=function(e){var a=Gt(),t=(e.children,e.value),n=(e.url,e.index),r=Object(Xe.a)(e,["children","value","url","index"]),o=l.a.useContext(ba),i=localStorage.getItem("token"),c=l.a.useState([]),s=Object(d.a)(c,2),h=s[0],b=s[1],v=l.a.useState(null),y=Object(d.a)(v,2),O=y[0],x=y[1],C=l.a.useState(null),S=Object(d.a)(C,2),k=S[0],w=S[1],N=l.a.useState(null),D=Object(d.a)(N,2),T=D[0],z=D[1],A=l.a.useState(null),I=Object(d.a)(A,2),P=I[0],B=I[1],R=l.a.useState(null),H=Object(d.a)(R,2),M=H[0],L=H[1],q=l.a.useState(null),_=Object(d.a)(q,2),G=_[0],U=_[1],X=l.a.useState(null),V=Object(d.a)(X,2),Z=V[0],Y=V[1],K=l.a.useState(null),ae=Object(d.a)(K,2),le=ae[0],re=ae[1],oe=l.a.useState(null),ie=Object(d.a)(oe,2),ce=ie[0],se=ie[1],me=l.a.useState([]),ue=Object(d.a)(me,2),pe=ue[0],de=ue[1],ge=l.a.useState(null),fe=Object(d.a)(ge,2),he=fe[0],Ee=fe[1],be=l.a.useState(!1),ve=Object(d.a)(be,2),ye=ve[0],Oe=ve[1],je=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),xe=Object(d.a)(je,2),Ce=xe[0],Se=xe[1],ke=l.a.useState(!1),we=Object(d.a)(ke,2),Ne=we[0],De=we[1],Te=Ce.vertical,Ae=Ce.horizontal,Ie=Ce.open,Pe=Ce.message,Be=Ce.type;l.a.useEffect((function(){z(o.email),w(o.name),B(o.username),Y(o.designation),re(o.college_name),se(o.college_id),L(o.bio),U(o.gender),fetch("https://ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){b(e),e.forEach((function(e){de((function(a){return[].concat(Object(Ue.a)(a),[e.name])}))}))}))}))}),[i]);var We=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Se(Object(u.a)(Object(u.a)({},Ce),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},r),t===n&&l.a.createElement("div",{className:a.root},l.a.createElement(W.a,{anchorOrigin:{vertical:Te,horizontal:Ae},open:Ie,autoHideDuration:6e3,onClose:We,key:Te+Ae},l.a.createElement(Ut,{onClose:We,severity:Be},Pe)),l.a.createElement(j.a,{container:!0,component:"main",justify:"center",spacing:2},l.a.createElement(j.a,{item:!0,xs:12,md:12,alignContent:"center",alignItems:"center"},l.a.createElement(j.a,{container:!0,component:"main",justify:"center",spacing:2},l.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){x(e.target.files[0]);var a=URL.createObjectURL(e.target.files[0]);Ee(a),Oe(!0)}},style:{display:"none"}}),l.a.createElement(ee.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:l.a.createElement("label",{htmlFor:"contained-button-file"},l.a.createElement(ne.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},l.a.createElement(te.a,null)))},l.a.createElement(g.a,{className:a.large,sizes:"100",alt:"",src:ye?he:"https://ellipseapp.com"+"/api/image?id=".concat(o.profile_pic)})))),l.a.createElement(j.a,{item:!0,xs:12,md:6},l.a.createElement(E.a,{autoComplete:"fullName",name:"fullName",value:k||"",onChange:function(e,a){w(e.target.value)},id:"fullName",label:"Full Name",autoFocus:!0,fullWidth:!0})),l.a.createElement(j.a,{item:!0,xs:12,md:6},l.a.createElement(E.a,{disabled:!0,id:"email",value:T,onChange:function(e,a){z(a)},fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email"})),l.a.createElement(j.a,{item:!0,xs:12,md:6},l.a.createElement(E.a,{fullWidth:!0,required:!0,id:"username",label:"User Name",name:"username",value:P,onChange:function(e,a){B(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12,md:6},l.a.createElement(ze.a,{fullWidth:!0,id:"college",options:pe,getOptionLabel:function(e){return e},value:le,onChange:function(e,a){re(a),h.forEach((function(e){e.name===a&&se(e._id)}))},renderInput:function(e){return l.a.createElement(E.a,Object.assign({name:"college",fullWidth:!0,required:!0},e,{label:"College"}))}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Bio",autoComplete:"off",required:!0,id:"bio",name:"bio",label:"Bio",fullWidth:!0,value:M,onChange:function(e,a){L(a)}})),l.a.createElement(j.a,{item:!0,xs:12,md:6},l.a.createElement($.a,{fullWidth:!0,required:!0},l.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Gender"),l.a.createElement(Q.a,{value:G,onChange:function(e,a){console.log(e.target.value),U(e.target.value)},fullWidth:!0,native:!0,label:"Age",inputProps:{name:"gender",id:"outlined-age-native-simple"}},l.a.createElement("option",{"aria-label":"None",value:""}),l.a.createElement("option",{value:"Male"},"Male"),l.a.createElement("option",{value:"Female"},"Female"),l.a.createElement("option",{value:"Others"},"Others")))),l.a.createElement(j.a,{item:!0,xs:12,md:6},l.a.createElement($.a,{fullWidth:!0,required:!0},l.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"You are"),l.a.createElement(Q.a,{value:Z,onChange:function(e,a){Y(e.target.value)},fullWidth:!0,native:!0,label:"You are",inputProps:{name:"designation",id:"outlined-age-native-simple"}},l.a.createElement("option",{"aria-label":"None",value:""}),l.a.createElement("option",{value:"Student"},"Student"),l.a.createElement("option",{value:"WorkingProfessional"},"Working Professional"),l.a.createElement("option",{value:"Club/Organisation"},"Club/Organisation"))))),l.a.createElement(f.a,{className:a.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),De(!0);try{var a=new FormData,t={name:k,email:T,username:P,college_id:ce,designation:Z,gender:G,bio:M};a=JSON.stringify(t),console.log(a),fetch("https://ellipseapp.com/api/users/updateprofile",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){200===e.status&&e.json().then((function(e){if(console.log(e.message),ye){var a=new FormData;a.append("image",O),fetch("https://ellipseapp.com/api/users/uploadImage",{headers:{Authorization:"Bearer ".concat(i)},method:"POST",body:a}).then((function(e){200===e.status&&(De(!1),Se({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else De(!1),Se({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300})}))}))}catch(n){De(!1),Se({open:!0,vertical:"top",horizontal:"center",message:n.message,type:"error",autoHide:3e3})}},disabled:Ne},Ne?l.a.createElement(F.a,{color:"primary",size:24}):"Update Profile")))};function Vt(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}var Zt=Object(w.a)((function(e){return{avatar:{backgroundColor:e.palette.primary.main},button:{marginTop:e.spacing(4)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)}}}));var Yt=function(e){var a=Zt(),t=(e.children,e.value),n=(e.url,e.index),r=Object(Xe.a)(e,["children","value","url","index"]),o=l.a.useContext(ba),i=localStorage.getItem("token"),c=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error"}),s=Object(d.a)(c,2),g=s[0],b=s[1],v=l.a.useState(!1),y=Object(d.a)(v,2),O=y[0],x=y[1],C=g.vertical,S=g.horizontal,k=g.open,w=g.message,N=g.type,D=l.a.useState(null),T=Object(d.a)(D,2),z=T[0],A=T[1],I=l.a.useState(null),P=Object(d.a)(I,2),B=P[0],R=P[1],H=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(null),R(null),b(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},r),t===n&&l.a.createElement(q.a,{component:"main",maxWidth:"xs"},l.a.createElement(h.a,null),l.a.createElement(W.a,{anchorOrigin:{vertical:C,horizontal:S},open:k,autoHideDuration:2e3,onClose:H,key:C+S},l.a.createElement(Vt,{onClose:H,severity:N},w)),l.a.createElement("div",{className:a.paper},l.a.createElement("form",{className:a.form,onSubmit:function(e){x(!0),e.preventDefault(),console.log(z),console.log(B);try{var a=new FormData,t={email:o.email,cPassword:z,nPassword:B};a=JSON.stringify(t),console.log(a),fetch("https://ellipseapp.com/api/users/updatepassword",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){200===e.status?e.json().then((function(e){x(!1),b({open:!0,vertical:"top",horizontal:"center",message:e.message,type:"success"})})):401===e.status&&e.json().then((function(e){x(!1),b({open:!0,vertical:"top",horizontal:"center",message:e.error,type:"error"})}))}))}catch(n){x(!1),b({open:!0,vertical:"top",horizontal:"center",message:n.message,type:"error"})}}},l.a.createElement(j.a,{container:!0,spacing:2,justify:"center"},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{required:!0,fullWidth:!0,name:"cPassword",label:"Current Password",type:"password",id:"cPassword",value:z,onChange:function(e){A(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{required:!0,fullWidth:!0,name:"nPassword",label:"New Password",type:"password",id:"nPassword",value:B,onChange:function(e){R(e.target.value)}}))),l.a.createElement(f.a,{className:a.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:O},O?l.a.createElement(F.a,{color:"primary",size:24}):"Update Password")))))};function Kt(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Qt=Object(w.a)((function(e){return{icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root:{flexGrow:1},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"}}}));var Jt=function(e){var a=l.a.useState(0),t=Object(d.a)(a,2),n=t[0],r=t[1],o=Qt(),i=Object(Fe.a)();return l.a.createElement(Be.a,{open:e.open,onClose:function(){e.handleClose()},scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",style:{minHeight:"400px"},PaperProps:{style:{backgroundColor:i.palette.secondary.main,boxShadow:"none"}},classes:{paper:o.dialog}},l.a.createElement(Pe.a,{id:"scroll-dialog-title"},l.a.createElement("div",{className:o.root},l.a.createElement(de.a,{style:{alignItems:"center"},position:"static",color:"secondary"},l.a.createElement(se.a,{value:n,onChange:function(e,a){r(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},l.a.createElement(me.a,Object.assign({label:"Update info"},Kt(0))),l.a.createElement(me.a,Object.assign({label:"Change Password"},Kt(1))))))),l.a.createElement(Ie.a,{dividers:!0},l.a.createElement(Xt,{value:n,index:0}),l.a.createElement(Yt,{value:n,index:1})),l.a.createElement(Ae.a,{alignItems:"center"}))},$t=Object(w.a)((function(e){var a;return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3)},accordion:{backgroundColor:e.palette.primary.light},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(k.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(k.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:Object(k.a)({borderRadius:e.spacing(50)},e.breakpoints.down("md"),{display:"none"}),fab:Object(k.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(k.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"})}}));var en=function(e){var a=$t(),t=l.a.useState(!1),n=Object(d.a)(t,2),r=n[0],o=n[1],i=l.a.useState(!1),c=Object(d.a)(i,2),s=c[0],m=c[1],u=l.a.useContext(Xa),p=l.a.useState([]),h=Object(d.a)(p,2),E=h[0],b=h[1];function v(){o(!1),m(!1)}var y=function(){e.history.push("/post")},O=function(e){return function(){b(e),m(!0)}};return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(j.a,{container:!0,component:"main"},l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:3,lg:2}),l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:9,lg:8},l.a.createElement(_t,{handleEditButton:function(){o(!0)}}),l.a.createElement(Jt,{open:r,handleClose:v})),l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:4,lg:2},l.a.createElement(Qa.a,{color:"primary","aria-label":"add",className:a.fab,onClick:y},l.a.createElement($a.a,null)),l.a.createElement(ce.a,{className:a.rpaper},l.a.createElement(ce.a,{className:a.subRpaper},l.a.createElement(f.a,{onClick:y,variant:"contained",fullWidth:!0,size:"large",className:a.postButton},"Post Event"),l.a.createElement(Ca.a,{className:a.sideList},l.a.createElement(S.a,{variant:"body2"},"Explore Events"),u.map((function(e,a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(ua.a,{onClick:O(e),key:a,button:!0},l.a.createElement(fa.a,null,l.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),l.a.createElement(pa.a,{primary:e.name})),l.a.createElement(Ra.a,null))}))))))),l.a.createElement("div",null,l.a.createElement(Ba,{open:s,event:E,handleClose:v,name:E.name,startTime:E.start_time,endTime:E.finish_time,regEndTime:E.registrationEndTime,type:E.eventType,tags:E.tags,mode:E.eventMode,feeType:E.feesType}))))},an=t(731),tn=t(707),nn=t(724),ln=t(734),rn=t(605),on=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(0),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));function cn(e){var a=on();return l.a.createElement("form",{className:a.form,onSubmit:function(a){a.preventDefault(),e.handleNext()}},l.a.createElement(j.a,{container:!0,spacing:3},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{autoComplete:"off",required:!0,id:"eventName",name:"eventName",label:"Name",fullWidth:!0,value:e.name||"",onChange:function(a){e.setName(a.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{autoComplete:"off",required:!0,id:"shortdesc",name:"shortdesc",label:"Short Description",fullWidth:!0,value:e.desc||"",onChange:function(a){e.setDesc(a.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12,sm:6,lg:6},l.a.createElement(yt.a,{utils:vt.a},l.a.createElement(ln.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Start Date",name:"startDate",value:e.startDate,onChange:function(a){e.setStartDate(a)}}))),l.a.createElement(j.a,{item:!0,xs:12,sm:6,lg:6},l.a.createElement(yt.a,{utils:vt.a},l.a.createElement(ln.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"endDate",label:"End Date",name:"endDate",value:e.endDate,onChange:function(a){e.setEndDate(a)}}))),l.a.createElement(j.a,{item:!0,xs:12,sm:12,lg:12},l.a.createElement(yt.a,{utils:vt.a},l.a.createElement(ln.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"regEndDate",label:"Registration End Date",name:"regEndDate",value:e.regEndDate,onChange:function(a){e.setRegEndDate(a)}}))),l.a.createElement(j.a,{item:!0,xs:12,sm:6},l.a.createElement($.a,{fullWidth:!0,required:!0},l.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Mode"),l.a.createElement(Q.a,{fullWidth:!0,native:!0,label:"Mode",inputProps:{name:"eventMode",id:"eventMode"},value:e.eventMode||"",onChange:function(a){e.setEventMode(a.target.value)}},l.a.createElement("option",{"aria-label":"None",value:""}),l.a.createElement("option",{value:"Online"},"Online"),l.a.createElement("option",{value:"Offline"},"Offline")))),l.a.createElement(j.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{fullWidth:!0,id:"combo-box-demo",options:["Hackathon","Coding Contest","Webinar"],getOptionLabel:function(e){return e},onChange:function(a,t){e.setEventType(t)},value:e.eventType,renderInput:function(e){return l.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Type"}))}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement($.a,{fullWidth:!0,required:!0},l.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Registration"),l.a.createElement(Q.a,{fullWidth:!0,native:!0,label:"Registration",inputProps:{name:"registrationMode",id:"registaration mode"},value:e.registrationMode||"",onChange:function(a){"form"===a.target.value?e.setSteps((function(e){return[].concat(Object(Ue.a)(e),["Registration Form"])})):"link"===a.target.value&&e.setSteps(["About","More Details"]),e.setRegistrationMode(a.target.value)}},l.a.createElement("option",{"aria-label":"None",value:""}),l.a.createElement("option",{value:"form"},"Our Platform(Ellipse)"),l.a.createElement("option",{value:"link"},"Other")))),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(rn.a,{component:"legend"},"Entry Fee"),l.a.createElement(xt.a,{"aria-label":"address",name:"address",defaultValue:"Free",onChange:function(a,t){e.setFeeType(t)},style:{display:"inline"}},l.a.createElement(b.a,{value:"Free",control:l.a.createElement(jt.a,{color:"default"}),label:"Free"}),l.a.createElement(b.a,{value:"Paid",control:l.a.createElement(jt.a,{color:"default"}),label:"Paid"})))),l.a.createElement("div",{className:a.buttons},l.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:a.button},"Next")))}var sn=t(615),mn=t(308),un=t.n(mn),pn=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));function dn(e){var a=localStorage.getItem("token"),t=pn(),n=l.a.useState(""),r=Object(d.a)(n,2),o=r[0],i=r[1],c=l.a.useState([]),s=Object(d.a)(c,2),m=s[0],u=s[1],p=l.a.useState([]),g=Object(d.a)(p,2),h=g[0],y=g[1];return l.a.useEffect((function(){fetch("https://ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){u(e),e.forEach((function(e){y((function(a){return[].concat(Object(Ue.a)(a),[e.name])}))}))}))}))}),[a]),l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:t.form,onSubmit:function(a){a.preventDefault(),e.handleNext()}},l.a.createElement(j.a,{container:!0,spacing:3},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",required:!0,id:"about",name:"about",label:"About",fullWidth:!0,onChange:function(a){e.setAbout(a.target.value)},value:e.about||""})),l.a.createElement(j.a,{item:!0,xs:12,lg:6},l.a.createElement(ze.a,{multiple:!0,id:"themes",options:["Hackathon","Coding Contest","Webinar"].map((function(e){return e})),freeSolo:!0,value:e.eventThemes||[],onChange:function(a,t){e.setThemes(t)},renderTags:function(e,a){return e.map((function(e,t){return l.a.createElement(Ze.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return l.a.createElement(E.a,Object.assign({},e,{label:"Event Themes",placeholder:"Event Themes"}))}})),l.a.createElement(j.a,{item:!0,xs:12,lg:6},l.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(a){if(a.target.files[0]){e.setPoster(a.target.files[0]);var t=a.target.files[0].name;i(t)}},style:{display:"none"}}),l.a.createElement(E.a,{autoComplete:"off",required:!0,id:"eventposter",name:"eventposter",label:"Event Poster",component:"span",value:o,fullWidth:!0,InputProps:{endAdornment:l.a.createElement(sn.a,{position:"start"},l.a.createElement("label",{htmlFor:"contained-button-file"},l.a.createElement(ne.a,{component:"span"},l.a.createElement(un.a,null))))}})),"form"!==e.registrationMode&&l.a.createElement(j.a,{item:!0,xs:12,lg:6},l.a.createElement(E.a,{autoComplete:"off",required:!0,id:"regLink",name:"regLink",label:"Registration Link",fullWidth:!0,value:e.regLink||"",onChange:function(a){e.setRegLink(a.target.value)}})),"Paid"===e.feeType&&l.a.createElement(j.a,{item:!0,xs:12,lg:6},l.a.createElement(E.a,{autoComplete:"off",required:!0,id:"regFees",name:"regFees",label:"Registration Fees",fullWidth:!0,value:e.regFees||"",onChange:function(a){e.setFees(a.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(ze.a,{multiple:!0,id:"tags-filled",options:["Laptop","Basic HTML","C++","Machine Learning"].map((function(e){return e})),freeSolo:!0,value:e.requirements||[],onChange:function(a,t){e.setRequirements(t)},renderTags:function(e,a){return e.map((function(e,t){return l.a.createElement(Ze.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return l.a.createElement(E.a,Object.assign({},e,{label:"Requirements",placeholder:"Requirements"}))}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(ze.a,{fullWidth:!0,id:"combo-box-demo",options:h,value:e.college||[],getOptionLabel:function(e){return e},onChange:function(a,t){console.log(t),e.setCollegeName(t),m.forEach((function(a){a.name===t&&e.collegeId(a._id)}))},renderInput:function(e){return l.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"College"}))}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(rn.a,{component:"legend"},"Participation"),l.a.createElement(xt.a,{"aria-label":"address",name:"address",defaultValue:"open",onChange:function(a,t){e.setParticipantsType(t)},style:{display:"inline"}},l.a.createElement(b.a,{value:"open",control:l.a.createElement(jt.a,{color:"default"}),label:"Open for all"}),l.a.createElement(b.a,{value:"onlycollege",control:l.a.createElement(jt.a,{color:"default"}),label:"Only ".concat(e.college)}))),"Offline"===e.eventMode&&l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(rn.a,{component:"legend"},"Address"),l.a.createElement(xt.a,{"aria-label":"address","aria-disabled":!0,name:"address",defaultValue:"college",onChange:function(a,t){e.setAddressType(t)},style:{display:"inline"}},l.a.createElement(b.a,{value:"college",control:l.a.createElement(jt.a,{color:"default"}),label:"College/University"}),l.a.createElement(b.a,{disabled:!0,value:"other",control:l.a.createElement(jt.a,{color:"default"}),label:"Others"}))),l.a.createElement(j.a,{item:!0,xs:12,lg:6},l.a.createElement(E.a,{autoComplete:"off",onChange:function(a){e.setBuilding(a.target.value)},value:e.building,id:"building",name:"building",label:"Room No & Building",fullWidth:!0})),l.a.createElement(j.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{fullWidth:!0,id:"combo-box-demo",options:h,getOptionLabel:function(e){return e},value:e.venueCollege,onChange:function(a,t){e.setVenueCollege(t)},renderInput:function(e){return l.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Venue College"}))}}))),"form"!==e.registrationMode&&l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(b.a,{control:l.a.createElement(v.a,{color:"primary",name:"terms"}),label:"I accept the terms and conditions"}))),l.a.createElement("div",{className:t.buttons},l.a.createElement(f.a,{onClick:e.handleBack,className:t.button},"Back"),l.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"form"!==e.registrationMode?"POST":"NEXT"))))}var gn=t(616);function fn(e){var a=Object(Fe.a)(),t=l.a.useState(null),n=Object(d.a)(t,2),r=n[0],o=n[1],i=l.a.useState(null),c=Object(d.a)(i,2),s=c[0],m=c[1],u=l.a.useState(["option1","option2"]),p=Object(d.a)(u,2),g=p[0],h=p[1];return l.a.createElement("div",null,l.a.createElement(Be.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},l.a.createElement(Pe.a,{id:"form-dialog-title"},"Add Field"),l.a.createElement(Ie.a,null,l.a.createElement(j.a,{container:!0,spacing:2},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"name",label:"Field Name",name:"name",fullWidth:!0,value:r,required:!0,onChange:function(e){o(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement($.a,{fullWidth:!0,required:!0},l.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Type"),l.a.createElement(Q.a,{fullWidth:!0,native:!0,label:"Type",inputProps:{name:"type",id:"outlined-age-native-simple"},value:e.eventMode,onChange:function(e){m(e.target.value)}},l.a.createElement("option",{"aria-label":"None",value:""}),l.a.createElement("option",{value:"short_text"},"Short Text"),l.a.createElement("option",{value:"paragraph"},"Long Description"),l.a.createElement("option",{value:"dropdown"},"Drop Down"),l.a.createElement("option",{value:"date"},"Date & Time"),l.a.createElement("option",{value:"radiobuttons"},"Radio Button"),l.a.createElement("option",{value:"checkboxes"},"Check Box"),l.a.createElement("option",{value:"link"},"Link")))),("radiobuttons"===s||"checkboxes"===s||"dropdown"===s)&&l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(ze.a,{multiple:!0,id:"tags-filled",options:[].map((function(e){return e})),freeSolo:!0,value:g||[],onChange:function(e,a){h(a)},renderTags:function(e,a){return e.map((function(e,t){return l.a.createElement(Ze.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return l.a.createElement(E.a,Object.assign({},e,{label:"Options",placeholder:"Options",helperText:"you can choose multiple options for your checkboxes or radio buttons enter one option and press enter"}))}})))),l.a.createElement(Ae.a,null,l.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),l.a.createElement(f.a,{onClick:function(){"radiobuttons"!==s&&"checkboxes"!==s&&"dropdown"!==s?e.handleAdd(Object(k.a)({},r,{title:r,field:s,options:[]}),r):e.handleAdd(Object(k.a)({},r,{title:r,field:s,options:g}),r),e.handleClose()},color:"primary"},"Add"))))}var hn=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},formControl:{},formgroup:{marginTop:e.spacing(1)},root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}));function En(e){var a=hn(),t=l.a.useState(!1),n=Object(d.a)(t,2),r=n[0],o=n[1],i={name:{title:"Name",field:"short_text",options:[]},email:{title:"Email",field:"short_text",options:[]},college:{title:"College",field:"short_text",options:[]}},c=l.a.useState([]),s=Object(d.a)(c,2),g=s[0],h=s[1],E=l.a.useState({name:!1,email:!1,college:!1}),y=Object(d.a)(E,2),O=y[0],x=y[1],C=function(e){x(Object(u.a)(Object(u.a)({},O),{},Object(k.a)({},e.target.name,e.target.checked)));var a=e.target.name;e.target.checked?h((function(e){return[].concat(Object(Ue.a)(e),[i[a]])})):e.target.checked||h((function(e){return e.filter((function(e){return e.title!==a}))}))},S=O.name,w=O.email,N=O.college;function D(){return(D=Object(p.a)(m.a.mark((function a(t){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,e.setFields(g);case 3:e.handlePost(g);case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:a.form,onSubmit:function(e){return D.apply(this,arguments)}},l.a.createElement(j.a,{container:!0,spacing:3},l.a.createElement(fn,{open:r,handleClose:function(){o(!1)},handleAdd:function(e,a){h((function(t){return[].concat(Object(Ue.a)(t),[e[a]])}))}}),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement($.a,{component:"fieldset",className:a.formControl},l.a.createElement(rn.a,{component:"legend"},"Fields for your Registration Form"),l.a.createElement(gn.a,{className:a.formgroup},l.a.createElement(b.a,{control:l.a.createElement(v.a,{color:"primary",checked:S,onChange:C,name:"name"}),label:"Name"}),l.a.createElement(b.a,{control:l.a.createElement(v.a,{color:"primary",checked:w,onChange:C,name:"email"}),label:"Email"}),l.a.createElement(b.a,{control:l.a.createElement(v.a,{color:"primary",checked:N,onChange:C,name:"college"}),label:"College"})))),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(f.a,{variant:"outlined",color:"default",onClick:function(){o(!0)}},"Add More")),l.a.createElement(j.a,null,l.a.createElement(ce.a,{component:"ul",className:a.root},g.map((function(e){return l.a.createElement("li",{key:e.key},l.a.createElement(Ze.a,{label:e.title,onDelete:"React"===e.label?void 0:(t=e,function(){x(Object(u.a)(Object(u.a)({},O),{},Object(k.a)({},t.name,!1))),h((function(e){return e.filter((function(e){return e.title!==t.title}))}))}),className:a.chip}));var t})))),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(b.a,{control:l.a.createElement(v.a,{color:"primary",name:"terms"}),label:"I accept the terms and conditions"}))),l.a.createElement("div",{className:a.buttons},l.a.createElement(f.a,{onClick:e.handleBack,className:a.button},"Back"),l.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:a.button},"Post"))))}function bn(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}function vn(){return l.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",l.a.createElement(y.a,{color:"inherit",href:"https://ellipseapp.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var yn=Object(w.a)((function(e){var a;return{appBar:{position:"relative"},layout:Object(k.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:(a={marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(2)},Object(k.a)(a,e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(3),marginBottom:e.spacing(1),padding:e.spacing(3)}),Object(k.a)(a,"backgroundColor",e.palette.secondary.main),a),stepper:{padding:e.spacing(3,8,2),backgroundColor:e.palette.secondary.main},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},closeButton:Object(k.a)({position:"absolute",right:e.spacing(1),top:e.spacing(7)},e.breakpoints.down("md"),{top:e.spacing(12)}),backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function On(e){var a=e.history,t=yn(),n=localStorage.getItem("token"),r=l.a.useContext(ba),o=l.a.useState(0),i=Object(d.a)(o,2),c=i[0],s=i[1],g=l.a.useState(["About","More Details"]),f=Object(d.a)(g,2),E=f[0],b=f[1],v=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),y=Object(d.a)(v,2),O=y[0],j=y[1],x=l.a.useState(!1),C=Object(d.a)(x,2),k=C[0],w=C[1],N=O.vertical,D=O.horizontal,T=O.open,z=O.message,A=O.type,I=O.autoHide,P=l.a.useState(null),B=Object(d.a)(P,2),R=B[0],H=B[1],M=l.a.useState(null),L=Object(d.a)(M,2),q=L[0],_=L[1],G=l.a.useState(null),U=Object(d.a)(G,2),X=U[0],V=U[1],Z=l.a.useState(null),Y=Object(d.a)(Z,2),K=Y[0],Q=Y[1],J=l.a.useState(null),$=Object(d.a)(J,2),ee=$[0],ae=$[1],te=l.a.useState(null),le=Object(d.a)(te,2),re=le[0],oe=le[1],se=l.a.useState(null),me=Object(d.a)(se,2),ue=me[0],pe=me[1],de=l.a.useState(null),ge=Object(d.a)(de,2),fe=ge[0],he=ge[1],Ee=l.a.useState("Free"),be=Object(d.a)(Ee,2),ve=be[0],ye=be[1],Oe=l.a.useState(null),je=Object(d.a)(Oe,2),xe=je[0],Ce=je[1],Se=l.a.useState(null),ke=Object(d.a)(Se,2),we=ke[0],Ne=ke[1],De=l.a.useState(null),Te=Object(d.a)(De,2),ze=Te[0],Ae=Te[1],Ie=l.a.useState(null),Pe=Object(d.a)(Ie,2),Be=Pe[0],We=Pe[1],Re=l.a.useState(null),Fe=Object(d.a)(Re,2),He=Fe[0],Le=Fe[1],qe=l.a.useState(null),_e=Object(d.a)(qe,2),Ge=_e[0],Ue=_e[1],Xe=l.a.useState(null),Ve=Object(d.a)(Xe,2),Ze=Ve[0],Ye=Ve[1],Ke=l.a.useState(r.college_name),Qe=Object(d.a)(Ke,2),Je=Qe[0],$e=Qe[1],ea=l.a.useState(r.college_id),aa=Object(d.a)(ea,2),ta=aa[0],na=aa[1],la=l.a.useState(null),ra=Object(d.a)(la,2),oa=ra[0],ia=ra[1],ca=l.a.useState(r.name+","+r.college_name),sa=Object(d.a)(ca,2),ma=sa[0],ua=sa[1],pa=l.a.useState(null),da=Object(d.a)(pa,2),ga=da[0],fa=da[1],ha=l.a.useState("open"),Ea=Object(d.a)(ha,2),va=Ea[0],ya=Ea[1],Oa=l.a.useState([]),ja=Object(d.a)(Oa,2),xa=ja[0],Ca=ja[1];var Sa=function(e){var a=!1;"open"===va&&(a=!0),w(!0);try{var t=new FormData,l={user_id:r.user_id,name:R,description:q,start_time:ee,finish_time:re,registration_end_time:ue,event_mode:X,event_type:fe,tags:Be,reg_link:we,fee:ze,about:K,fee_type:ve,requirements:He,college_name:Je,college_id:ta,venue_type:Ze,venue:oa,reg_fields:e,reg_mode:xe,o_allowed:a};t=JSON.stringify(l),fetch("https://ellipseapp.com/api/events",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){200===e.status?e.json().then((function(e){var a=new FormData;a.append("image",Ge),fetch("https://ellipseapp.com"+"/api/event/uploadimage?id=".concat(e.eventId),{headers:{Authorization:"Bearer ".concat(n)},method:"POST",body:a}).then((function(e){200===e.status&&e.json().then((function(e){w(!1),j({open:!0,vertical:"top",horizontal:"center",message:"Event Added Successfully",type:"success",autoHide:"4000"})}))}))})):e.json().then((function(e){console.log(e)}))}))}catch(o){w(!1),j({open:!0,vertical:"top",horizontal:"center",message:o.message,type:"error",autoHide:"5000"})}};function ka(e){Ca(e)}function wa(){Sa(null)}var Na=function(){s(c+1)},Da=function(){s(c-1)};var Ta=function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clickaway"!==n){e.next=2;break}return e.abrupt("return");case 2:"Event Added Successfully"===z&&a.replace("/home"),j(Object(u.a)(Object(u.a)({},O),{},{open:!1}));case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,null),l.a.createElement(W.a,{anchorOrigin:{vertical:N,horizontal:D},open:T,autoHideDuration:I,onClose:Ta,key:N+D},l.a.createElement(bn,{onClose:Ta,severity:A},z)),l.a.createElement(ie.a,{open:k,className:t.backdrop},l.a.createElement(F.a,null)),l.a.createElement("main",{className:t.layout},l.a.createElement(ne.a,{"aria-label":"close",className:t.closeButton,onClick:function(){a.goBack()}},l.a.createElement(Me.a,{fontSize:"large"})),l.a.createElement(ce.a,{className:t.paper},l.a.createElement(S.a,{component:"h1",variant:"h4",align:"center"},"Post your Event"),l.a.createElement(an.a,{activeStep:c,className:t.stepper},E.map((function(e){return l.a.createElement(tn.a,{key:e},l.a.createElement(nn.a,null,e))}))),l.a.createElement(l.a.Fragment,null,c===E.length?l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,{variant:"h5",gutterBottom:!0},"Thank you.")):l.a.createElement(l.a.Fragment,null,function(e){switch(e){case 0:return l.a.createElement(cn,{name:R,desc:q,startDate:ee,endDate:re,regEndDate:ue,eventMode:X,eventType:fe,about:K,feeType:ve,registrationMode:xe,setName:H,setDesc:_,setStartDate:ae,setEndDate:oe,setRegEndDate:pe,setEventMode:V,setEventType:he,setRegistrationMode:Ce,setAbout:Q,handleNext:Na,setFeeType:ye,steps:E,setSteps:b});case 1:return l.a.createElement(dn,{handleBack:Da,handleEventPost:Sa,eventMode:X,feeType:ve,eventThemes:Be,eventPoster:Ge,regLink:we,regFees:ze,about:K,requirements:He,college:Je,building:oa,organizer:ma,registrationMode:xe,venueCollege:ga,participantsType:va,setThemes:We,setPoster:Ue,setRegLink:Ne,setFees:Ae,setRequirements:Le,setOrganizer:ua,setAddressType:Ye,setCollegeName:$e,setCollegeId:na,setBuilding:ia,setVenueCollege:fa,setAbout:Q,setParticipantsType:ya,handleNext:"form"===xe?Na:wa});case 2:return l.a.createElement(En,{handleBack:Da,fields:xa,setFields:ka,handlePost:Sa});default:throw new Error("Unknown step")}}(c)))),l.a.createElement(vn,null)))}var jn=t(733),xn=t(310),Cn=t.n(xn),Sn=t(309),kn=t.n(Sn),wn=t(314),Nn=t.n(wn),Dn=t(311),Tn=t.n(Dn),zn=t(312),An=t.n(zn);function In(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}var Pn=Object(w.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",borderRadius:30},avatar:{backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Bn=Object(c.g)((function(e){var a=e.event,t=Pn(),n=l.a.useState(!1),r=Object(d.a)(n,2),o=r[0],i=r[1],c=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error"}),s=Object(d.a)(c,2),g=s[0],v=s[1],y=l.a.useState(null),O=Object(d.a)(y,2),x=O[0],C=O[1],S=l.a.useState(null),k=Object(d.a)(S,2),w=k[0],N=k[1],D=l.a.useState(null),T=Object(d.a)(D,2),z=T[0],A=T[1],I=l.a.useState(null),P=Object(d.a)(I,2),B=P[0],R=P[1],H=l.a.useState(null),M=Object(d.a)(H,2),L=M[0],_=M[1],G=l.a.useState(null),U=Object(d.a)(G,2),X=U[0],V=U[1],Z=l.a.useState(null),Y=Object(d.a)(Z,2),K=Y[0],ae=Y[1],le=l.a.useState([]),re=Object(d.a)(le,2),oe=re[0],ie=re[1],ce=l.a.useState(null),se=Object(d.a)(ce,2),me=se[0],ue=se[1],pe=l.a.useState(null),de=Object(d.a)(pe,2),ge=de[0],fe=de[1],he=l.a.useState(null),Ee=Object(d.a)(he,2),be=Ee[0],ve=Ee[1],ye=l.a.useState([]),Oe=Object(d.a)(ye,2),je=Oe[0],xe=Oe[1],Ce=l.a.useState("Free"),Se=Object(d.a)(Ce,2),ke=Se[0],we=Se[1],Ne=l.a.useState(null),De=Object(d.a)(Ne,2),Te=De[0],Ae=De[1],Ie=l.a.useState(null),Pe=Object(d.a)(Ie,2),Be=Pe[0],We=Pe[1],Re=l.a.useState(null),Fe=Object(d.a)(Re,2),He=Fe[0],Me=Fe[1],Le=l.a.useState("open"),qe=Object(d.a)(Le,2),_e=qe[0],Ge=qe[1],Xe=l.a.useState(null),Ve=Object(d.a)(Xe,2),Ye=Ve[0],Ke=Ve[1],Qe=l.a.useState(null),Je=Object(d.a)(Qe,2),$e=Je[0],ea=Je[1],aa=l.a.useState(!1),ta=Object(d.a)(aa,2),na=ta[0],la=ta[1],ra=l.a.useState(null),oa=Object(d.a)(ra,2),ia=oa[0],ca=oa[1],sa=l.a.useState(null),ma=Object(d.a)(sa,2),ua=ma[0],pa=ma[1],da=g.vertical,ga=g.horizontal,fa=g.open,ha=g.message,Ea=g.type,ba=l.a.useState([]),va=Object(d.a)(ba,2),ya=va[0],Oa=va[1],ja=l.a.useState([]),xa=Object(d.a)(ja,2),Ca=xa[0],Sa=xa[1],ka=localStorage.getItem("token"),wa=["Hackathon","Coding Contest","Webinar"];l.a.useEffect((function(){fetch("https://ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(ka),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){Oa(e),e.forEach((function(e){Sa((function(a){return[].concat(Object(Ue.a)(a),[e.name])}))}))}))}))}),[ka]);l.a.useEffect((function(){ie(a.tags),ae(a.event_type),C(a.name),N(a.description),A(a.start_time),R(a.finish_time),_(a.registration_end_time),V(a.event_mode),ue(a.reg_link),ve(a.about),fe(a.fees),xe(a.requirements),we(a.fee_type),Ae(a.college_name),We(a.reg_mode),Me(a.organizer),ca(a.venue),pa(a.venue_college),!0===a.o_allowed?Ge("open"):Ge("onlycollege")}),[ka,a]);var Na=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();function Da(){return(Da=Object(p.a)(m.a.mark((function e(t){var n,l,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(!0),n=!1,"open"===_e&&(n=!0);try{console.log("started"),new FormData,r={eventId:a._id,name:x,description:w,start_time:z,finish_time:B,registration_end_time:L,event_mode:X,event_type:K,tags:oe,reg_link:me,fee:ge,about:be,fee_type:ke,college:Te,organizer:He,requirements:je,o_allowed:n,reg_mode:Be,venue:ia,venue_college:ua},l=JSON.stringify(r),console.log(l),fetch("https://ellipseapp.com/api/updateevent",{headers:{Authorization:"Bearer ".concat(ka),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:l}).then((function(e){200===e.status?e.json().then((function(e){if(console.log(e),a=e.event,na){var t=new FormData;t.append("image",Ye),fetch("https://ellipseapp.com"+"/api/event/uploadimage?id=".concat(a._id),{headers:{Authorization:"Bearer ".concat(ka)},method:"POST",body:t}).then((function(e){200===e.status&&(i(!1),v({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else i(!1),v({open:!0,vertical:"top",horizontal:"center",message:"Saved changes successfully",type:"success"})})):e.json().then((function(e){console.log(e),i(!1),v({open:!0,vertical:"top",horizontal:"center",message:e,type:"error"})}))}))}catch(o){i(!1),v({open:!0,vertical:"top",horizontal:"center",message:o.message,type:"error"})}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement(q.a,{component:"main",maxWidth:"lg"},l.a.createElement(h.a,null),l.a.createElement(W.a,{anchorOrigin:{vertical:da,horizontal:ga},open:fa,autoHideDuration:6e3,onClose:Na,key:da+ga},l.a.createElement(In,{onClose:Na,severity:Ea},ha)),l.a.createElement("div",{className:t.paper},l.a.createElement("form",{className:t.form,novalidate:!0,onSubmit:function(e){return Da.apply(this,arguments)}},l.a.createElement(j.a,{container:!0,spacing:3},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement("input",{id:"contained-button-file",type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){Ke(e.target.files[0]);var a=URL.createObjectURL(e.target.files[0]);ea(a),la(!0)}},style:{display:"none"}}),l.a.createElement(ee.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:l.a.createElement("label",{htmlFor:"contained-button-file"},l.a.createElement(ne.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},l.a.createElement(te.a,null)))},l.a.createElement("img",{height:"160",width:"150",alt:"poster",src:na?$e:"https://ellipseapp.com"+"/api/image?id=".concat(a.poster_url)}))),l.a.createElement(j.a,{item:!0,xs:12,lg:6},l.a.createElement(E.a,{autoComplete:"off",id:"eventName",name:"eventName",label:"Event name",value:x||"",onChange:function(e){C(e.target.value)},fullWidth:!0})),l.a.createElement(j.a,{item:!0,xs:12,lg:6},l.a.createElement(E.a,{autoComplete:"off",id:"shortdesc",name:"shortdesc",label:"Short Description",fullWidth:!0,value:w||"",onChange:function(e){N(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12,sm:6,lg:4},l.a.createElement(yt.a,{utils:vt.a},l.a.createElement(ln.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Event Start Date",name:"startDate",value:z,onChange:function(e){A(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),l.a.createElement(j.a,{item:!0,xs:12,sm:6,lg:4},l.a.createElement(yt.a,{utils:vt.a},l.a.createElement(ln.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"endDate",label:"Event End Date",name:"endDate",value:B,onChange:function(e){R(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),l.a.createElement(j.a,{item:!0,xs:12,sm:12,lg:4},l.a.createElement(yt.a,{utils:vt.a},l.a.createElement(ln.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"regEndDate",label:"Registration End Date",name:"regEndDate",value:L,onChange:function(e){_(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),l.a.createElement(j.a,{item:!0,xs:12,sm:6},l.a.createElement($.a,{fullWidth:!0},l.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Event Mode"),l.a.createElement(Q.a,{fullWidth:!0,native:!0,label:"Event Mode",value:X||"",onChange:function(e){V(e.target.value)},inputProps:{name:"eventMode",id:"outlined-age-native-simple"}},l.a.createElement("option",{"aria-label":"None",value:""}),l.a.createElement("option",{value:"Online"},"Online"),l.a.createElement("option",{value:"Offline"},"Offline")))),l.a.createElement(j.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{fullWidth:!0,id:"combo-box-demo",options:wa,getOptionLabel:function(e){return e},value:K||"",onChange:function(e,a){ae(a)},renderInput:function(e){return l.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Event Type"}))}})),l.a.createElement(j.a,{item:!0,xs:12,lg:6},l.a.createElement(ze.a,{multiple:!0,id:"tags-filled",options:wa.map((function(e){return e})),defaultValue:[wa[1]],freeSolo:!0,value:oe||"",onChange:function(e,a){ie(a)},renderTags:function(e,a){return e.map((function(e,t){return l.a.createElement(Ze.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return l.a.createElement(E.a,Object.assign({},e,{label:"Event Themes",placeholder:"Event Themes"}))}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(rn.a,{component:"legend"},"Entry Fee"),l.a.createElement(xt.a,{"aria-label":"address",name:"address",value:ke||"",onChange:function(e,a){we(a)},style:{display:"inline"}},l.a.createElement(b.a,{value:"Free",control:l.a.createElement(jt.a,{color:"default"}),label:"Free"}),l.a.createElement(b.a,{value:"Paid",control:l.a.createElement(jt.a,{color:"default"}),label:"Paid"}))),"form"!==Be&&l.a.createElement(j.a,{item:!0,xs:12,lg:6},l.a.createElement(E.a,{autoComplete:"off",id:"regLink",name:"regLink",label:"Registration Link",fullWidth:!0,value:me||"",onChange:function(e){ue(e.target.value)}})),"Paid"===ke&&l.a.createElement(j.a,{item:!0,xs:12,lg:6},l.a.createElement(E.a,{autoComplete:"off",id:"regFees",name:"regFees",value:ge||"",label:"Registration Fees",onChange:function(e){fe(e.target.value)},fullWidth:!0})),l.a.createElement(j.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{fullWidth:!0,disabled:!0,id:"combo-box-demo",options:ya,getOptionLabel:function(e){return e},value:Te||"",onChange:function(e,a){Ae(a)},renderInput:function(e){return l.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"College"}))}})),l.a.createElement(j.a,{item:!0,xs:12,sm:6},l.a.createElement($.a,{fullWidth:!0},l.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Registration"),l.a.createElement(Q.a,{fullWidth:!0,native:!0,disabled:!0,label:"Registration",inputProps:{name:"registrationMode",id:"outlined-age-native-simple"},value:Be||""},l.a.createElement("option",{"aria-label":"None",value:""}),l.a.createElement("option",{value:"form"},"Our Platform(Ellipse)"),l.a.createElement("option",{value:"link"},"Other")))),l.a.createElement(j.a,{item:!0,xs:12,lg:6},l.a.createElement(ze.a,{multiple:!0,id:"tags-filled",options:["Laptop","Basic HTML","C++","Machine Learning"].map((function(e){return e})),freeSolo:!0,value:je,onChange:function(e,a){xe(a)},renderTags:function(e,a){return e.map((function(e,t){return l.a.createElement(Ze.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return l.a.createElement(E.a,Object.assign({},e,{label:"Requirements",placeholder:"Requirements"}))}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(rn.a,{component:"legend"},"Participation"),l.a.createElement(xt.a,{name:"participanttype",value:_e,onChange:function(e,a){Ge(a)},style:{display:"inline"}},l.a.createElement(b.a,{value:"open",control:l.a.createElement(jt.a,{color:"default"}),label:"Open for all"}),l.a.createElement(b.a,{value:"onlycollege",control:l.a.createElement(jt.a,{color:"default"}),label:"Only ".concat(Te)}))),"Offline"===X&&l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(rn.a,{component:"legend"},"Address"),l.a.createElement(xt.a,{disabled:!0,"aria-label":"address",name:"address",defaultValue:"College/University",onChange:function(e,a){},style:{display:"inline"}},l.a.createElement(b.a,{disabled:!0,value:"College/University",control:l.a.createElement(jt.a,{color:"default"}),label:"College/University"}),l.a.createElement(b.a,{disabled:!0,value:"Other",control:l.a.createElement(jt.a,{color:"default"}),label:"Others"}))),"Offline"===X&&l.a.createElement(j.a,{item:!0,xs:12,lg:6},l.a.createElement(E.a,{autoComplete:"off",value:ia||"",onChange:function(e){ca(e.target.value)},id:"building",name:"building",label:"Room No & Building",fullWidth:!0})),"Offline"===X&&l.a.createElement(j.a,{item:!0,xs:12,sm:6},l.a.createElement(ze.a,{fullWidth:!0,id:"combo-box-demo",options:Ca,value:ua,getOptionLabel:function(e){return e},onChange:function(e,a){pa(a)},renderInput:function(e){return l.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Venue College"}))}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",value:be||"",id:"about",name:"about",label:"About",fullWidth:!0}))),l.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:o,className:t.submit},o?l.a.createElement(F.a,{color:"primary",size:24}):"Save Changes"))))})),Wn=t(709),Rn=t(713),Fn=t(712),Hn=t(708),Mn=t(710),Ln=t(732),qn=t(711);function _n(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}function Gn(e){var a=Object(Fe.a)(),t=localStorage.getItem("token"),n=l.a.useState(null),r=Object(d.a)(n,2),o=r[0],i=r[1],c=l.a.useState(null),s=Object(d.a)(c,2),g=s[0],h=s[1],v=l.a.useState("All"),y=Object(d.a)(v,2),O=y[0],x=y[1],C=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),S=Object(d.a)(C,2),k=S[0],w=S[1],N=l.a.useState(!1),D=Object(d.a)(N,2),T=D[0],z=D[1],A=k.vertical,I=k.horizontal,P=k.open,B=k.message,R=k.type,H=k.autoHide;var M=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(Object(u.a)(Object(u.a)({},k),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(W.a,{anchorOrigin:{vertical:A,horizontal:I},open:P,autoHideDuration:H,onClose:M,key:A+I},l.a.createElement(_n,{onClose:M,severity:R},B)),l.a.createElement(Be.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},l.a.createElement(Pe.a,{id:"form-dialog-title"},"Add Announcement"),l.a.createElement(Ie.a,null,l.a.createElement(j.a,{container:!0,spacing:2},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",name:"title",fullWidth:!0,value:o,required:!0,onChange:function(e){i(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"description",label:"Description",name:"description",fullWidth:!0,value:g,required:!0,onChange:function(e){h(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(rn.a,{component:"legend"},"Announcement visibility"),l.a.createElement(xt.a,{"aria-label":"address",name:"address",value:O,onChange:function(e,a){console.log(a),x(a)},style:{display:"inline"}},l.a.createElement(b.a,{value:"All",control:l.a.createElement(jt.a,{color:"default"}),label:"All"}),l.a.createElement(b.a,{value:"Registered Users",control:l.a.createElement(jt.a,{color:"default"}),label:"Registered Users"}))))),l.a.createElement(Ae.a,null,l.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),l.a.createElement(f.a,{onClick:function(){console.log(O);var a=!0;"All"!==O&&(a=!1);try{var n=new FormData,l={event_id:e.id,title:o,description:g,visible_all:a};n=JSON.stringify(l),console.log(n),fetch("https://ellipseapp.com/api/event/add_announcement",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:n}).then((function(e){console.log(e),e.json().then((function(e){console.log(e),z(!1),w({open:!0,vertical:"top",horizontal:"center",message:"Added successfully",type:"success",autoHide:2e3})}))}))}catch(r){z(!1),w({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:6e3})}e.handleClose()},disabled:T,color:"primary"},T?l.a.createElement(F.a,{color:"primary",size:24}):"Add"))))}function Un(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}function Xn(e){var a=Object(Fe.a)(),t=localStorage.getItem("token"),n=l.a.useState(null),r=Object(d.a)(n,2),o=r[0],i=r[1],c=l.a.useState(null),s=Object(d.a)(c,2),g=s[0],h=s[1],b=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),v=Object(d.a)(b,2),y=v[0],O=v[1],x=l.a.useState(!1),C=Object(d.a)(x,2),S=C[0],k=C[1],w=y.vertical,N=y.horizontal,D=y.open,T=y.message,z=y.type,A=y.autoHide;var I=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(Object(u.a)(Object(u.a)({},y),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(W.a,{anchorOrigin:{vertical:w,horizontal:N},open:D,autoHideDuration:A,onClose:I,key:w+N},l.a.createElement(Un,{onClose:I,severity:z},T)),l.a.createElement(Be.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},l.a.createElement(Pe.a,{id:"form-dialog-title"},"Content for your Email"),l.a.createElement(Ie.a,null,l.a.createElement(j.a,{container:!0,spacing:2},l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",name:"title",fullWidth:!0,value:o,required:!0,onChange:function(e){i(e.target.value)}})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",required:!0,id:"content",name:"content",label:"Content",fullWidth:!0,onChange:function(e){h(e.target.value)},value:g||""})))),l.a.createElement(Ae.a,null,l.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),l.a.createElement(f.a,{onClick:function(){try{var a=new FormData,n={event_id:e.id,title:o,content:g,emails:e.emails};a=JSON.stringify(n),console.log(a),fetch("https://ellipseapp.com/api/event/sendemail",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){e.json().then((function(e){k(!1),O({open:!0,vertical:"top",horizontal:"center",message:"Added successfully",type:"success",autoHide:2e3})}))}))}catch(l){k(!1),O({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error",autoHide:6e3})}e.handleClose()},disabled:S,color:"primary"},S?l.a.createElement(F.a,{color:"primary",size:24}):"Send"))))}var Vn=Object(w.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.palette.secondary.main},buttonsPaper:{backgroundColor:e.palette.primary.light,padding:e.spacing(3),height:140},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140},button:{margin:e.spacing(1),borderRadius:e.spacing(5)}}}));function Zn(e){var a=Vn(),t=l.a.useState(0),n=Object(d.a)(t,2),r=n[0],o=n[1],i=l.a.useState(10),c=Object(d.a)(i,2),s=c[0],m=c[1],u=localStorage.getItem("token"),p=l.a.useState([]),g=Object(d.a)(p,2),h=g[0],E=g[1],b=l.a.useState([]),y=Object(d.a)(b,2),O=y[0],x=y[1],C=l.a.useState([]),k=Object(d.a)(C,2),w=k[0],N=k[1],D=l.a.useState(!1),T=Object(d.a)(D,2),z=T[0],A=T[1],I=l.a.useState(!1),P=Object(d.a)(I,2),B=P[0],W=P[1],R=e.event;l.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event/registeredEvents?id=".concat(R._id),{headers:{Authorization:"Bearer ".concat(u),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){if(e.length>0){var a=e[0].data;Object.keys(a).forEach((function(e){E((function(a){return[].concat(Object(Ue.a)(a),[{id:e,label:e,minWidth:170}])}))})),e.forEach((function(e){x((function(a){return[].concat(Object(Ue.a)(a),[e.data])}))}))}}))}))}),[u,R._id]);return l.a.createElement(j.a,{container:!0,spacing:3},l.a.createElement(Xn,{open:B,emails:w,handleClose:function(){W(!1)}}),l.a.createElement(Gn,{open:z,id:R._id,handleClose:function(){A(!1)}}),l.a.createElement(j.a,{item:!0,xs:12,md:4,lg:9},l.a.createElement(ce.a,{className:a.buttonsPaper},l.a.createElement(f.a,{variant:"outlined",onClick:function(){A(!0)},className:a.button},"Add Announcement"),l.a.createElement(f.a,{variant:"contained",onClick:function(){console.log(w),W(!0)},className:a.button},"Send Emails to Selected"))),l.a.createElement(j.a,{item:!0,xs:12,md:4,lg:3},l.a.createElement(ce.a,{className:a.fixedHeightPaper},l.a.createElement(S.a,null,"Total Registrations"),l.a.createElement(S.a,{component:"p",variant:"h4"},O.length))),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(ce.a,{className:a.paper},l.a.createElement(Hn.a,{className:a.container},l.a.createElement(Wn.a,{stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(Mn.a,null,l.a.createElement(qn.a,null,l.a.createElement(Fn.a,{padding:"checkbox"},l.a.createElement(v.a,{color:"default",checked:O.length>0&&w.length===O.length,onChange:function(e){if(e.target.checked){var a=O.map((function(e){return e.Email}));N(a)}else N([])},indeterminate:w.length>0&&w.length<O.length,inputProps:{"aria-label":"select all fields"}})),h.map((function(e){return l.a.createElement(Fn.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),l.a.createElement(Rn.a,null,O.slice(r*s,r*s+s).map((function(e){var a,t=(a=e.Email,-1!==w.indexOf(a));return l.a.createElement(qn.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.Email,onClick:function(a){return function(e,a){console.log(a);var t=w.indexOf(a),n=[];-1===t?n=n.concat(w,a):0===t?n=n.concat(w.slice(1)):t===w.length-1?n=n.concat(w.slice(0,-1)):t>0&&(n=n.concat(w.slice(0,t),w.slice(t+1))),N(n)}(0,e.Email)},selected:t},l.a.createElement(Fn.a,{padding:"checkbox"},l.a.createElement(v.a,{checked:t,color:"default",inputProps:{"aria-label":"select all fields"}})),h.map((function(a){var t=e[a.id];return l.a.createElement(Fn.a,{key:a.id,align:a.align},a.format&&"number"===typeof t?a.format(t):t)})))}))))),l.a.createElement(Ln.a,{rowsPerPageOptions:[10,25,100],component:"div",count:O.length,rowsPerPage:s,page:r,onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){m(+e.target.value),o(0)}}))))}var Yn=t(313),Kn=t.n(Yn),Qn=Object(w.a)((function(e){var a,t;return{root:{display:"flex"},menuButton:{marginRight:36},hide:{display:"none"},drawer:{position:"relative",width:240,flexShrink:0,whiteSpace:"nowrap",zIndex:"1"},drawerOpen:{width:240,position:"relative",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),backgroundColor:e.palette.secondary.main},drawerClose:(a={position:"relative",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(k.a)(a,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(k.a)(a,"backgroundColor",e.palette.secondary.main),a),toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),mobToolbar:Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),{},Object(k.a)({},e.breakpoints.up("lg"),{display:"none"})),content:(t={flexGrow:1,padding:e.spacing(2),height:"84vh"},Object(k.a)(t,e.breakpoints.up("lg"),{height:"92vh"}),Object(k.a)(t,"overflow","auto"),t),closeButton:Object(k.a)({position:"absolute",right:e.spacing(1),top:e.spacing(7)},e.breakpoints.down("md"),{top:e.spacing(12)})}}));function Jn(e){var a,t,n=Qn();localStorage.removeItem("eventid");var r=l.a.useState(!0),o=Object(d.a)(r,2),i=o[0],c=o[1],s=l.a.useState({infoSelected:!0,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1}),m=Object(d.a)(s,2),u=m[0],p=m[1],g=localStorage.getItem("token"),f=l.a.useContext(ba),E=e.match.params.eventId,b=l.a.useState({}),v=Object(d.a)(b,2),y=v[0],O=v[1],j=l.a.useState(!1),x=Object(d.a)(j,2),C=x[0],w=x[1];l.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event?id=".concat(E),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.event.user_id===f.user_id&&w(!0),O(e.event)}))}))}),[g,E,f.user_id]);var N=u.infoSelected,D=u.dashBoardSelected,T=u.timilineSelected,z=u.announcementSelected,A=u.settingsSelected,I=u.editEventSelected,P=u.chatSelected;return l.a.createElement("div",{className:n.root},l.a.createElement(h.a,null),l.a.createElement(jn.a,{variant:"permanent",className:Object(va.a)(n.drawer,(a={},Object(k.a)(a,n.drawerOpen,i),Object(k.a)(a,n.drawerClose,!i),a)),classes:{paper:Object(va.a)((t={},Object(k.a)(t,n.drawerOpen,i),Object(k.a)(t,n.drawerClose,!i),t))}},l.a.createElement("div",{className:n.toolbar},i?l.a.createElement(ne.a,{onClick:function(){c(!1)}},l.a.createElement(kn.a,null)):l.a.createElement(ne.a,{onClick:function(){c(!0)}},l.a.createElement(Cn.a,null))),l.a.createElement(Ra.a,null),l.a.createElement(Ca.a,null,l.a.createElement(ua.a,{button:!0,onClick:function(){p({infoSelected:!0,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1})},selected:N},l.a.createElement(bt.a,null,l.a.createElement(ga.a,null)),l.a.createElement(pa.a,{primary:"About"})),l.a.createElement(ua.a,{button:!0,onClick:function(){p({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!0,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1})},selected:T},l.a.createElement(bt.a,null,l.a.createElement(Tn.a,null)),l.a.createElement(pa.a,{primary:"Schedule"})),l.a.createElement(ua.a,{button:!0,onClick:function(){p({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!0,settingsSelected:!1,editEventSelected:!1,chatSelected:!1})},selected:z},l.a.createElement(bt.a,null,l.a.createElement(An.a,null)),l.a.createElement(pa.a,{primary:"Announcements"})),l.a.createElement(ua.a,{button:!0,onClick:function(){p({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!0})},selected:P},l.a.createElement(bt.a,null,l.a.createElement(Kn.a,null)),l.a.createElement(pa.a,{primary:"Chat"}))),l.a.createElement(Ra.a,null),C&&l.a.createElement(Ca.a,null,l.a.createElement(ua.a,{button:!0,onClick:function(){p({infoSelected:!1,dashBoardSelected:!0,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1})},selected:D},l.a.createElement(bt.a,null,l.a.createElement(Nn.a,null)),l.a.createElement(pa.a,{primary:"Dashboard"})),l.a.createElement(ua.a,{button:!0,onClick:function(){p({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!0,chatSelected:!1})},selected:I},l.a.createElement(bt.a,null,l.a.createElement(te.a,null)),l.a.createElement(pa.a,{primary:"Edit Event"})),l.a.createElement(ua.a,{button:!0,onClick:function(){p({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!0,editEventSelected:!1,chatSelected:!1})},selected:A},l.a.createElement(bt.a,null,l.a.createElement(Ne.a,null)),l.a.createElement(pa.a,{primary:"Settings"})))),l.a.createElement("main",{className:n.content},l.a.createElement(S.a,{align:"center",variant:"h4",style:{paddingBottom:"20px",paddingTop:"10px"}},y.name),l.a.createElement(ne.a,{"aria-label":"close",className:n.closeButton,onClick:function(){e.history.goBack()}},l.a.createElement(Me.a,{fontSize:"large"})),N&&null!=y&&l.a.createElement(Ke,{event:y}),I&&null!=y&&l.a.createElement(Bn,{event:y}),T&&null!=y&&l.a.createElement(ia,{event:y}),D&&null!=y&&l.a.createElement(Zn,{event:y}),P&&null!=y&&l.a.createElement("div",{className:n.chat},l.a.createElement(Aa,{open:i,event:y})),z&&null!=y&&l.a.createElement(sa,{event:y})))}function $n(e){return l.a.createElement(R.a,Object.assign({elevation:6,variant:"filled"},e))}var el=Object(c.g)((function(e){var a=L(),t=localStorage.getItem("token"),n=l.a.useContext(ba),r=l.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:6e3}),o=Object(d.a)(r,2),i=o[0],c=o[1],s=l.a.useState(null),m=Object(d.a)(s,2),p=m[0],g=m[1],y=l.a.useState(!1),x=Object(d.a)(y,2),C=x[0],w=x[1],N=l.a.useState([]),D=Object(d.a)(N,2),T=D[0],z=D[1],A=l.a.useState([]),I=Object(d.a)(A,2),P=I[0],R=I[1],H=l.a.useState([]),M=Object(d.a)(H,2),_=M[0],G=M[1],U=l.a.useState([]),X=Object(d.a)(U,2),V=X[0],Z=X[1],Y=l.a.useState([]),K=Object(d.a)(Y,2),Q=K[0],J=K[1],ee=l.a.useState([]),ae=Object(d.a)(ee,2),te=ae[0],le=ae[1],re=l.a.useState([]),oe=Object(d.a)(re,2),ce=oe[0],se=oe[1],me=i.vertical,ue=i.horizontal,pe=i.open,de=i.message,ge=i.type,fe=i.autoHide,he=e.match.params.eventId,Ee=l.a.useState(!0),be=Object(d.a)(Ee,2),ve=be[0],ye=be[1],Oe=l.a.useState(null),je=Object(d.a)(Oe,2),xe=je[0],Ce=je[1],Se=l.a.useState([]),ke=Object(d.a)(Se,2),we=ke[0],Ne=ke[1],De=["VIT University,Vellore","GITAM University","SRM University"];function Te(){"Registered successfully"===de&&e.history.push("/home"),c(Object(u.a)(Object(u.a)({},i),{},{open:!1}))}function Ae(e){g(Object(u.a)(Object(u.a)({},p),{},Object(k.a)({},e.target.name,e.target.value)))}l.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event?id=".concat(he),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){console.log(e),e.json().then((function(e){Ce(e.event);var a=e.event.reg_fields;console.log(a),null!=a&&(a.forEach((function(e){"Name"===e.title?g((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(k.a)({},e.title,n.name))})):"Email"===e.title?g((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(k.a)({},e.title,n.email))})):"College"===e.title?g((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(k.a)({},e.title,n.college_name))})):g((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(k.a)({},e.title,null))})),e.field})),z(a.filter((function(e){return"short_text"===e.field}))),le(a.filter((function(e){return"paragraph"===e.field}))),G(a.filter((function(e){return"checkboxes"===e.field}))),Z(a.filter((function(e){return"radiobuttons"===e.field}))),J(a.filter((function(e){return"date"===e.field}))),R(a.filter((function(e){return"dropdown"===e.field}))),se(a.filter((function(e){return"link"===e.field})))),ye(!1)}))}))}),[t,he,n]);var Ie=function(e){g(Object(u.a)(Object(u.a)({},p),{},Object(k.a)({},e.target.name,e.target.value)))};function Pe(e,a){g(Object(u.a)(Object(u.a)({},p),{},Object(k.a)({},e.target.name,a)))}return l.a.createElement(q.a,{component:"main",maxWidth:"sm"},l.a.createElement(h.a,null),l.a.createElement(W.a,{anchorOrigin:{vertical:me,horizontal:ue},open:pe,autoHideDuration:fe,onClose:Te,key:me+ue},l.a.createElement($n,{onClose:Te,severity:ge},de)),l.a.createElement(ie.a,{className:a.backdrop,open:ve},l.a.createElement(F.a,{color:"inherit"})),l.a.createElement(ne.a,{"aria-label":"close",className:a.closeButton,onClick:function(){e.history.goBack()}},l.a.createElement(Me.a,{fontSize:"large"})),null!=xe&&l.a.createElement("div",{className:a.paper},l.a.createElement(S.a,{component:"h1",variant:"h5"},"Registration for "+xe.name),l.a.createElement("form",{className:a.form,onSubmit:function(e){e.preventDefault(),console.log(p),Object.keys(p).forEach((function(e){null===p[e]&&c({open:!0,vertical:"top",horizontal:"center",message:"Please fill in all fields",type:"error",autoHide:4e3})}));try{var a=new FormData,n={data:p};a=JSON.stringify(n),fetch("https://ellipseapp.com"+"/api/event/register?id=".concat(he),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){console.log(e),e.json().then((function(e){console.log(e),w(!1),c({open:!0,vertical:"top",horizontal:"center",message:"Registered successfully",type:"success",autoHide:200})}))}))}catch(l){w(!1),c({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error",autoHide:6e3})}}},l.a.createElement(j.a,{container:!0,spacing:2},T.map((function(e,a){return"College"===e.title?l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(ze.a,{fullWidth:!0,id:e.title,options:De,getOptionLabel:function(e){return e},onChange:Ae,value:p[e.title],disabled:!0,renderInput:function(a){return l.a.createElement(E.a,Object.assign({name:e.title,fullWidth:!0,required:!0},a,{label:e.title}))}})):"Email"===e.title?l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{autoComplete:"off",name:e.title,disabled:!0,required:!0,fullWidth:!0,id:e.title,onChange:Ae,value:p[e.title],label:e.title,autoFocus:!0})):l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{autoComplete:"off",name:e.title,required:!0,fullWidth:!0,id:e.title,onChange:Ae,value:p[e.title],label:e.title,autoFocus:!0}))})),_.map((function(e,t){return l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement($.a,{component:"fieldset",className:a.formControl},l.a.createElement(rn.a,{component:"legend"},e.title),l.a.createElement(gn.a,{class:a.formgroup},e.options.map((function(a){return l.a.createElement(b.a,{control:l.a.createElement(v.a,{color:"primary",onChange:(t=e.title,function(e){if(e.target.checked){Ne((function(a){return[].concat(Object(Ue.a)(a),[Object(k.a)({},t,e.target.name)])}));var a=[];we.forEach((function(e,n){e[t]&&a.push(e[t])})),a.push(e.target.name),g(Object(u.a)(Object(u.a)({},p),{},Object(k.a)({},t,a)))}}),name:a}),label:a});var t})))))})),P.map((function(e,a){return l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(ze.a,{id:e.title,options:e.options.map((function(e){return e})),onChange:(t=e.title,function(e,a){g(Object(u.a)(Object(u.a)({},p),{},Object(k.a)({},t,a)))}),renderTags:function(e,a){return e.map((function(e,t){return l.a.createElement(Ze.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(a){return l.a.createElement(E.a,Object.assign({},a,{name:e.name,label:e.title,placeholder:e.name}))}}));var t})),V.map((function(e,a){return l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(rn.a,{required:!0,component:"legend"},e.title),l.a.createElement(xt.a,{required:!0,"aria-label":"address",name:e.title,value:p[e.title],onChange:Pe,style:{display:"inline"}},e.options.map((function(e){return l.a.createElement(b.a,{value:e,control:l.a.createElement(jt.a,{color:"default"}),label:e})}))))})),Q.map((function(e,a){return l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(yt.a,{utils:vt.a},l.a.createElement(ln.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Start Date",name:"startDate",value:p[e.title],onChange:(t=e.title,function(e){g(Object(u.a)(Object(u.a)({},p),{},Object(k.a)({},t,e)))}),KeyboardButtonProps:{"aria-label":"change date"}})));var t})),te.map((function(e,a){return l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:e.title,autoComplete:"off",required:!0,id:e.title,name:e.title,label:e.title,fullWidth:!0,onChange:Ie}))})),ce.map((function(e,a){return l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(E.a,{autoComplete:"off",name:e.title,required:!0,fullWidth:!0,id:e.title,onChange:Ae,value:p[e.title],label:e.title,autoFocus:!0}))})),l.a.createElement(j.a,{item:!0,xs:12},l.a.createElement(b.a,{control:l.a.createElement(v.a,{color:"primary",name:"terms"}),label:"I accept the terms and conditions"}))),l.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:C,className:a.submit},C?l.a.createElement(F.a,{color:"primary",size:24}):"Register"))),l.a.createElement(O.a,{mt:2},l.a.createElement(B,null)))})),al=t(726),tl=t(714),nl=t(715),ll=t(193),rl=t.n(ll),ol=Object(w.a)((function(e){var a;return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3)},accordion:{backgroundColor:e.palette.primary.light},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(k.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(k.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:Object(k.a)({borderRadius:e.spacing(50)},e.breakpoints.down("md"),{display:"none"}),fab:Object(k.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(k.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"})}}));var il=function(e){localStorage.setItem("tabIndex",2);var a=l.a.useContext(ba),t=ol(),n=l.a.useState(!1),r=Object(d.a)(n,2),o=r[0],i=r[1],c=l.a.useState([]),s=Object(d.a)(c,2),m=s[0],u=s[1],p=l.a.useContext(Wa),h=l.a.useContext(Xa),E=p.filter((function(e){return!0===e.registered})),b=p.filter((function(e){return e.user_id===a.user_id})),v=p.filter((function(e){return new Date>new Date(e.finish_time)})),y=function(e){return function(){u(e)}},O=function(){e.history.push("/post")},x=function(e){return function(){u(e),i(!0)}};return l.a.createElement("div",null,l.a.createElement("div",{className:t.root},l.a.createElement(j.a,{container:!0,component:"main"},l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:4,lg:2}),l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:8,lg:8},l.a.createElement("div",{className:t.root2},l.a.createElement(al.a,{className:t.accordion},l.a.createElement(tl.a,{expandIcon:l.a.createElement(rl.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},l.a.createElement(S.a,{className:t.heading},"Past Events")),l.a.createElement(nl.a,null,l.a.createElement(j.a,{container:!0,component:"main",spacing:2},v.map((function(e,a){return l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:4,key:a},l.a.createElement(Ht,{event:e,handleViewClick:y(e),name:e.name}))}))))),l.a.createElement(al.a,{className:t.accordion},l.a.createElement(tl.a,{expandIcon:l.a.createElement(rl.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},l.a.createElement(S.a,{className:t.heading},"Registered Events")),l.a.createElement(nl.a,null,l.a.createElement(j.a,{container:!0,component:"main",spacing:2},E.map((function(e,a){return l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:4,key:a},l.a.createElement(Ht,{event:e,handleViewClick:y(e),name:e.name}))}))))),l.a.createElement(al.a,{defaultExpanded:!0,className:t.accordion},l.a.createElement(tl.a,{expandIcon:l.a.createElement(rl.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},l.a.createElement(S.a,{className:t.heading},"Posted Events")),l.a.createElement(nl.a,null,l.a.createElement(j.a,{container:!0,component:"main",spacing:2},b.map((function(e,a){return l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:4,key:a},l.a.createElement(Ht,{event:e,handleViewClick:y(e),name:e.name}))}))))))),l.a.createElement(j.a,{item:!0,xs:12,sm:12,md:4,lg:2},l.a.createElement(Qa.a,{color:"primary","aria-label":"add",className:t.fab,onClick:O},l.a.createElement($a.a,null)),l.a.createElement(ce.a,{className:t.rpaper},l.a.createElement(ce.a,{className:t.subRpaper},l.a.createElement(f.a,{onClick:O,variant:"contained",fullWidth:!0,size:"large",className:t.postButton},"Post Event"),l.a.createElement(Ca.a,{className:t.sideList},l.a.createElement(S.a,{variant:"body2"},"Explore Events"),h.map((function(e,a){return l.a.createElement(l.a.Fragment,{key:a},l.a.createElement(ua.a,{onClick:x(e),key:a,button:!0},l.a.createElement(fa.a,null,l.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),l.a.createElement(pa.a,{primary:e.name})),l.a.createElement(Ra.a,null))}))))))),l.a.createElement("div",null,l.a.createElement(Ba,{open:o,event:m,handleClose:function(){i(!1)},name:m.name,startTime:m.start_time,endTime:m.finish_time,regEndTime:m.registrationEndTime,type:m.eventType,tags:m.tags,mode:m.eventMode,feeType:m.feesType}))))},cl=t(716),sl=Object(w.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:e.palette.primary.dark},body:{margin:e.spacing(3)},appbar:{backgroundColor:e.palette.secondary.main}}}));function ml(e){var a=localStorage.getItem("token"),t=sl(),n=e.match.params.eventId,r=l.a.useState({}),o=Object(d.a)(r,2),i=o[0],c=o[1],s=l.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1];a&&e.history.replace("/event/".concat(n));var g=function(){p(!1)};return l.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event?id=".concat(n),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){c(e.event)}))}))}),[n]),l.a.createElement("div",{className:t.root},l.a.createElement(de.a,{position:"static",className:t.appbar},l.a.createElement(ge.a,null,l.a.createElement(S.a,{variant:"h5",className:t.title},"Ellipse"),l.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){localStorage.setItem("eventid",n),e.history.push("/")}},"Login"),l.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){localStorage.setItem("eventid",n),e.history.push("/signup")}},"Signup"))),l.a.createElement("div",{className:t.body},l.a.createElement(S.a,{align:"center",variant:"h4",style:{paddingBottom:"20px",paddingTop:"10px"}},i.name+"(Login to Register and Know More Info)"),l.a.createElement(Ke,{event:i}),l.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){p(!0)}},"Register")),l.a.createElement(Be.a,{open:u,maxWidth:"md",onClose:g,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(Ie.a,null,l.a.createElement(cl.a,{id:"alert-dialog-description"},"Login to Register for the Event/Contest")),l.a.createElement(Ae.a,null,l.a.createElement(f.a,{onClick:g,color:"primary",autoFocus:!0},"Dismiss"))))}var ul=function(){return l.a.createElement(Z,null,l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement(c.d,null,l.a.createElement(c.b,{exact:!0,path:"/",component:M}),l.a.createElement(c.b,{exact:!0,path:"/signin",component:M}),l.a.createElement(c.b,{exact:!0,path:"/signup",component:G}),l.a.createElement(c.b,{exact:!0,path:"/forgotpassword",component:X}),l.a.createElement(c.b,{exact:!0,path:"/userinfo",component:oe}),l.a.createElement(c.b,{exact:!0,path:"/otpverification",component:K}),l.a.createElement(c.b,{exact:!0,path:"/un/event/:eventId",component:ml}),l.a.createElement(Za,null,l.a.createElement(c.b,{path:"/home",component:Wt}),l.a.createElement(c.b,{exact:!0,path:"/events",component:at}),l.a.createElement(c.b,{exact:!0,path:"/post",component:On}),l.a.createElement(c.b,{exact:!0,path:"/profile",component:en}),l.a.createElement(c.b,{exact:!0,path:"/event/:eventId",component:Jn}),l.a.createElement(c.b,{exact:!0,path:"/event/register/:eventId",component:el}),l.a.createElement(c.b,{exact:!0,path:"/yourevents",component:il}))))))},pl=t(717),dl=t(315),gl=Object(dl.a)({palette:{type:"dark",primary:{main:"#ffffff",dark:"#ffffff",light:"#000000"},secondary:{main:"#1C1C1E"},background:{default:"#000000"}}}),fl=Object(dl.a)({palette:{type:"light",primary:{main:"#000000",dark:"#000000",light:"#ffffff"},secondary:{main:"#e5e5e5"},background:{default:"#ffffff"}}}),hl=localStorage.getItem("theme");o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(pl.a,{theme:"light"===hl?fl:gl},l.a.createElement(h.a,null,l.a.createElement(ul,null)))),document.getElementById("root"))}},[[336,1,2]]]);
//# sourceMappingURL=main.ab37a100.chunk.js.map