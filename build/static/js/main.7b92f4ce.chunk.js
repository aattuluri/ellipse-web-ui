(this.webpackJsonpellipsereactapp=this.webpackJsonpellipsereactapp||[]).push([[0],{642:function(e,a,t){},681:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(26),o=t.n(l),i=t(166),c=t(16),s=t(13),m=t.n(s),u=t(12),p=t(22),d=t(2),g=t(787),f=t(168),h=t(737),E=t(365),b=t(730),v=t(777),y=t(732),j=t(106),O=t.n(j),x=t(48),C=t(6),S=t(85),k=Object(S.a)((function(e){var a;return{root:{display:"flex",height:"100vh"},wrapper:{margin:e.spacing(1),position:"relative"},paperRight:Object(C.a)({margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(0),paddingBottom:e.spacing(4),borderRadius:30,minHeight:"80vh"},e.breakpoints.down("sm"),{margin:e.spacing(0,1),paddingBottom:e.spacing(2)}),paperLeft:(a={margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},Object(C.a)(a,e.breakpoints.down("sm"),{margin:e.spacing(3,1)}),Object(C.a)(a,e.breakpoints.up("md"),{height:"80vh"}),a),paperimage:{margin:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center"},avatar:{margin:e.spacing(),marginTop:e.spacing(8),backgroundColor:e.palette.primary.main},form:Object(C.a)({width:"90%",margin:e.spacing(5)},e.breakpoints.down("sm"),{margin:e.spacing(2)}),submit:{margin:e.spacing(3,0,2)},iPhoneImage:Object(C.a)({},e.breakpoints.down("sm"),{display:"none"}),title:{fontFamily:"Gugi",color:e.palette.primary.dark,fontWeight:"bold"},hidden:Object(C.a)({},e.breakpoints.down("sm"),{display:"none"}),image:Object(C.a)({maxHeight:"600px",maxWidth:"600px"},e.breakpoints.down("sm"),{display:"none"}),footer:{backgroundColor:e.palette.secondary.main,marginTop:e.spacing(3)}}})),w=t.p+"static/media/google-play-badge.561e4a2c.png";var _=function(){return r.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(b.a,{color:"inherit",href:"https://ellipseapp.com/"},"ellipseapp.com")," ",(new Date).getFullYear(),".")},T=t(786),N=t(781),D=t(739),z=t.p+"static/media/logo300.123db6fb.svg",I=t(196),B=t(683),P=t(691),A=t(686),R=t(731),W=t(46);function F(e){var a=Object(W.a)(),t=r.a.useState(null),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(null),c=Object(d.a)(i,2),s=c[0],m=c[1];return r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Support"),r.a.createElement(A.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"name",label:"Full Name",name:"name",fullWidth:!0,value:l||"",onChange:function(e){o(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:s||"",onChange:function(e){m(e.target.value)}})))),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(b.a,{href:"mailto:support@ellipseapp.com?subject=".concat(l,"&body=").concat(s),target:"_blank",rel:"noopener noreferrer",variant:"body2"},"SEND"))))}function H(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var L=Object(c.g)((function(e){var a=e.history,t=k(),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(d.a)(n,2),o=l[0],i=l[1],s=r.a.useState(!1),j=Object(d.a)(s,2),C=j[0],S=j[1],N=o.vertical,B=o.horizontal,P=o.open,A=o.message,R=o.type,W=o.autoHide,L=r.a.useState(null),M=Object(d.a)(L,2),q=M[0],G=M[1],U=r.a.useState(null),J=Object(d.a)(U,2),V=J[0],K=J[1],Y=r.a.useState(null),Z=Object(d.a)(Y,2),Q=Z[0],X=Z[1],$=new AbortController,ee=Object(I.a)(),ae=r.a.useState(!1),te=Object(d.a)(ae,2),ne=te[0],re=te[1];function le(e,a){return new Promise((function(t,n){var r=setTimeout((function(){n(new Error("TIMEOUT"))}),e);a.then((function(e){clearTimeout(r),t(e)})).catch((function(e){S(!1),i({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong Try Again",type:"error",autoHide:4e3}),clearTimeout(r),n(e)}))}))}var oe=function(){var e=Object(p.a)(m.a.mark((function e(t,n){var r,l,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clickaway"!==n){e.next=2;break}return e.abrupt("return");case 2:if("Signedin successfully"===A)if(localStorage.setItem("token",q),V)localStorage.setItem("token",q),(r=localStorage.getItem("eventid"))?($.abort(),a.push("/event/".concat(r))):($.abort(),a.push("/home"));else try{new FormData,c={email:Q},l=JSON.stringify(c),fetch("https://staging.ellipseapp.com/api/users/sendverificationemail",{signal:$.signal,headers:{Authorization:"Bearer ".concat(q),"Content-Type":"application/json"},method:"POST",body:l}).then((function(e){e.json().then((function(e){"success"===e.message&&($.abort(),localStorage.setItem("token",q),a.push("/otpverification"),i({open:!0,vertical:"top",horizontal:"center",message:"Signedin successfully",type:"success",autoHide:300}))}))}))}catch(t){S(!1),i({open:!0,vertical:"top",horizontal:"center",message:t.message,type:"error",autoHide:3e3})}i(Object(u.a)(Object(u.a)({},o),{},{open:!1}));case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();function ie(){return(ie=Object(p.a)(m.a.mark((function e(a){var t,n,r,l,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),S(!0),t=a.target.elements,n=t.email,r=t.password;try{new FormData,o={email:n.value,password:r.value,type:"browser",browser_name:ee.name,device_os:ee.os},l=JSON.stringify(o),le(25e3,fetch("https://staging.ellipseapp.com/api/users/login",{signal:$.signal,headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:l})).then((function(e){200===e.status?e.json().then((function(e){G(e.token),K(e.isVerified),X(e.useremail),S(!1),i({open:!0,vertical:"top",horizontal:"center",message:"Signedin successfully",type:"success",autoHide:200})})):(S(!1),i({open:!0,vertical:"top",horizontal:"center",message:"invalid credentials",type:"error",autoHide:6e3}))}))}catch(c){S(!1),i({open:!0,vertical:"top",horizontal:"center",message:c.message,type:"error",autoHide:6e3})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(localStorage.getItem("token"))return r.a.createElement(c.a,{to:"/home"});return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{container:!0,component:"main",className:t.root},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:N,horizontal:B},open:P,autoHideDuration:W,onClose:oe,key:N+B},r.a.createElement(H,{onClose:oe,severity:R},A)),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:7,elevation:6},r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"flex-start",m:1,p:1,className:t.paperLeft},r.a.createElement("img",{src:z,alt:"logo",height:"500px",width:"500px",className:t.image}),r.a.createElement(x.a,{className:t.title,component:"h1",variant:"h2"},"Ellipse"),r.a.createElement(x.a,{component:"h1",variant:"h6"},"Kill time for what matters"),r.a.createElement("br",null),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://play.google.com/store/apps/details?id=com.ellipse.ellipseapp",target:"_blank"},r.a.createElement("img",{className:t.hidden,src:w,alt:"playstore"}),r.a.createElement("br",null)))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:5,elevation:6},r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"center",m:1,p:1,className:t.paperRight},r.a.createElement(g.a,{className:t.avatar},r.a.createElement(O.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,onSubmit:function(e){return ie.apply(this,arguments)}},r.a.createElement(E.a,{name:"email",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",autoComplete:"email",autoFocus:!0}),r.a.createElement(E.a,{name:"password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement("div",{className:t.wrapper},r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:C,className:t.submit},C?r.a.createElement(D.a,{color:"primary",size:24}):"Sign In")),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:!0},r.a.createElement(b.a,{href:"/forgotpassword",variant:"body2"},"Forgot password?")),r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up"))),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:!0}),r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{onClick:function(){re(!0)},variant:"body2"},"Get Support")))),r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"flex-end"},r.a.createElement(_,null)))),r.a.createElement(F,{open:ne,handleClose:function(){re(!1)}})))})),M=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},closeButton:Object(C.a)({position:"absolute",right:e.spacing(1),top:e.spacing(7)},e.breakpoints.down("md"),{top:e.spacing(12)})}})),q=t(741),G=t(782),U=t(740);function J(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var V=Object(c.g)((function(e){var a=e.history,t=M(),n=r.a.useState(""),l=Object(d.a)(n,2),o=l[0],i=l[1],s=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),j=Object(d.a)(s,2),C=j[0],S=j[1],k=r.a.useState(!1),w=Object(d.a)(k,2),N=w[0],z=w[1],B=C.vertical,P=C.horizontal,A=C.open,R=C.message,W=C.type,H=C.autoHide,L=r.a.useState(!1),V=Object(d.a)(L,2),K=V[0],Y=V[1],Z=r.a.useState(!1),Q=Object(d.a)(Z,2),X=Q[0],$=Q[1],ee=r.a.useState(!1),ae=Object(d.a)(ee,2),te=ae[0],ne=ae[1],re=r.a.useState(!1),le=Object(d.a)(re,2),oe=le[0],ie=le[1],ce=Object(I.a)(),se=r.a.useState(!1),me=Object(d.a)(se,2),ue=me[0],pe=me[1];function de(e,a){return new Promise((function(t,n){var r=setTimeout((function(){n(new Error("TIMEOUT"))}),e);a.then((function(e){clearTimeout(r),t(e)})).catch((function(e){z(!1),S({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong Try Again",type:"error",autoHide:4e3}),clearTimeout(r),n(e)}))}))}r.a.useEffect((function(){!function(e,a,t){var n=document.getElementById(e);if(!n){var r=document.createElement("script");r.type="text/javascript",r.src=a,r.id=e,r.onload=function(){t&&t()},document.body.appendChild(r)}n&&t&&t()}("recaptcha-key","https://www.google.com/recaptcha/api.js?render=".concat("6LcEVOoZAAAAAOjNV_wZFJ7YQMBs4IwKyH-LdU2P"),(function(){window.grecaptcha.ready((function(){window.grecaptcha.execute("6LcEVOoZAAAAAOjNV_wZFJ7YQMBs4IwKyH-LdU2P",{action:"submit"}).then((function(e){fetch("https://staging.ellipseapp.com/api/verify_recaptcha",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recaptcha_token:e})}).then((function(e){200===e.status&&e.json().then((function(e){e.success&&e.score<.5&&ie(!0)}))}))}))}))}))}),[]);var ge=function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Signedup successfully"===R&&(localStorage.setItem("token",o),a.replace("/otpverification")),S(Object(u.a)(Object(u.a)({},C),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();function fe(){return(fe=Object(p.a)(m.a.mark((function e(a){var t,n,r,l,o,c,s,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),z(!0),t=a.target.elements,n=t.fullName,r=t.email,l=t.password,o=t.username,c=t.terms;try{c.checked?(new FormData,u={name:n.value,email:r.value,password:l.value,username:o.value,type:"browser",browser_name:ce.name,device_os:ce.os},s=JSON.stringify(u),de(25e3,fetch("https://staging.ellipseapp.com/api/users/signup",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:s})).then((function(e){200===e.status?e.json().then((function(e){i(e.token);var a=new FormData,t={email:e.useremail};a=JSON.stringify(t);var n=e.token;fetch("https://staging.ellipseapp.com/api/users/sendverificationemail",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},method:"POST",body:a}).then((function(e){e.json().then((function(e){"success"===e.message&&S({open:!0,vertical:"top",horizontal:"center",message:"Signedup successfully",type:"success",autoHide:300})}))}))})):401===e.status?(z(!1),S({open:!0,vertical:"top",horizontal:"center",message:"Email already registered",type:"error",autoHide:3e3})):(z(!1),S({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong Try Again",type:"error",autoHide:4e3}))}))):(z(!1),S({open:!0,vertical:"top",horizontal:"center",message:"Please agree to the terms and conditions",type:"error"}))}catch(m){z(!1),S({open:!0,vertical:"top",horizontal:"center",message:m.message,type:"error"})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(localStorage.getItem("token"))return r.a.createElement(c.a,{to:"/home"});return r.a.createElement(U.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:B,horizontal:P},open:A,autoHideDuration:H,onClose:ge,key:B+P},r.a.createElement(J,{onClose:ge,severity:W},R)),r.a.createElement("div",{className:t.paper},r.a.createElement(g.a,{className:t.avatar},r.a.createElement(O.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,onSubmit:function(e){return fe.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"fullName",name:"fullName",variant:"outlined",required:!0,fullWidth:!0,id:"fullName",label:"Full Name",autoFocus:!0,inputProps:{pattern:"[a-zA-Z ]+"},onInvalid:function(){Y(!0)},helperText:K&&"Name should only contain alphabet and spaces",onInput:function(){Y(!1)},error:K})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",type:"email",autoComplete:"email"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"User Name",onChange:function(e){var a=e.target.value,t=new FormData,n={username:a};t=JSON.stringify(n),$(!1),ie(!1),fetch("https://staging.ellipseapp.com/api/check_username",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){e.json().then((function(e){"user already exists"===e.message&&($(!0),ie(!0))}))}))},name:"username",error:X,helperText:X&&"username already exists"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",inputProps:{pattern:"^.{6,}$"},onInvalid:function(){ne(!0)},helperText:te&&"Password should atleast be 6 characters",onInput:function(){ne(!1)},error:te})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(q.a,{control:r.a.createElement(G.a,{color:"primary",name:"terms"}),label:r.a.createElement(x.a,null,"By signing up I accept the ",r.a.createElement(b.a,{href:"/Privacy_Policy.pdf"},"Pivacy Policy and Terms of Service"))}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:N||oe,className:t.submit},N?r.a.createElement(D.a,{color:"primary",size:24}):"Sign Up"),r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{href:"/signin",variant:"body2"},"Already have an account? Sign in"))),r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{onClick:function(){pe(!0)},variant:"body2"},"Get Support"))))),r.a.createElement(v.a,{mt:2},r.a.createElement(_,null)),r.a.createElement(F,{open:ue,handleClose:function(){pe(!1)}}))}));function K(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var Y=Object(c.g)((function(e){var a=e.history,t=M(),n=r.a.useState(null),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(null),s=Object(d.a)(c,2),j=s[0],C=s[1],S=r.a.useState(null),k=Object(d.a)(S,2),w=k[0],N=k[1],z=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),I=Object(d.a)(z,2),B=I[0],P=I[1],A=r.a.useState(!1),R=Object(d.a)(A,2),W=R[0],F=R[1],H=r.a.useState(!1),L=Object(d.a)(H,2),q=L[0],G=L[1],J=B.vertical,V=B.horizontal,Y=B.open,Z=B.message,Q=B.type,X=B.autoHide;function $(){return($=Object(p.a)(m.a.mark((function e(a){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),F(!0);try{new FormData,n={email:o},t=JSON.stringify(n),fetch("https://staging.ellipseapp.com/api/users/sendverificationemail",{headers:{"Content-Type":"application/json"},method:"POST",body:t}).then((function(e){console.log(e),e.json().then((function(e){"success"===e.message&&(F(!1),P({open:!0,vertical:"top",horizontal:"center",message:"Enter the OTP sent to your registered email address",type:"success",autoHide:2e3}))}))}))}catch(r){F(!1),P({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(p.a)(m.a.mark((function e(a){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),G(!0);try{new FormData,n={email:o,otp:j,nPassword:w},t=JSON.stringify(n),fetch("https://staging.ellipseapp.com/api/users/forgotpassword",{headers:{"Content-Type":"application/json"},method:"POST",body:t}).then((function(e){console.log(e),e.json().then((function(e){"success"===e.message&&(G(!1),P({open:!0,vertical:"top",horizontal:"center",message:"Succesful! Login to continue",type:"success",autoHide:300}))}))}))}catch(r){G(!1),P({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){"Succesful! Login to continue"===Z&&a.replace("/"),P(Object(u.a)(Object(u.a)({},B),{},{open:!1}))}return r.a.createElement(U.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:J,horizontal:V},open:Y,autoHideDuration:X,onClose:ae,key:J+V},r.a.createElement(K,{onClose:ae,severity:Q},Z)),r.a.createElement("div",{className:t.paper},r.a.createElement(g.a,{className:t.avatar},r.a.createElement(O.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Enter your email to receive OTP"),r.a.createElement("form",{className:t.form,onSubmit:function(e){return $.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:o,onChange:function(e){return i(e.target.value)},autoComplete:"email"}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:W,className:t.submit},W?r.a.createElement(D.a,{color:"primary",size:24}):"Send OTP")),r.a.createElement("form",{className:t.form,onSubmit:function(e){return ee.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"otp",label:"OTP",name:"otp",value:j,onChange:function(e){return C(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"password",label:"New Password",name:"password",value:w,type:"password",onChange:function(e){return N(e.target.value)}}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:q,className:t.submit},q?r.a.createElement(D.a,{color:"primary",size:24}):"Reset Password")),r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{href:"/",variant:"body2"},"Instead? Sign in")))),r.a.createElement(v.a,{mt:2},r.a.createElement(_,null)))})),Z=r.a.createContext(),Q=function(e){var a=e.children,t=Object(n.useState)(null),l=Object(d.a)(t,2),o=l[0],i=l[1],c=Object(n.useState)(!0),s=Object(d.a)(c,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){i(localStorage.getItem("user")),u(!1)}),[]),m?r.a.createElement(r.a.Fragment,null,"Loading..."):r.a.createElement(Z.Provider,{value:{currentUser:o}},a)};function X(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var $=Object(c.g)((function(e){var a=e.history,t=M(),n=localStorage.getItem("token"),l=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),o=Object(d.a)(l,2),i=o[0],s=o[1],m=r.a.useState(!1),p=Object(d.a)(m,2),b=p[0],j=p[1],C=i.vertical,S=i.horizontal,k=i.open,w=i.message,N=i.type,z=i.autoHide,I=r.a.useState(30),B=Object(d.a)(I,2),P=B[0],A=B[1],R=r.a.useState(!1),W=Object(d.a)(R,2),F=W[0],H=W[1];function L(){"Success! redirecting to Ellipse Home"===w&&a.replace("/userinfo"),s(Object(u.a)(Object(u.a)({},i),{},{open:!1}))}if(r.a.useEffect((function(){P>0?setTimeout((function(){return A(P-1)}),1e3):H(!0)}),[P]),!n)return r.a.createElement(c.a,{to:"/"});return r.a.createElement(U.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:C,horizontal:S},open:k,autoHideDuration:z,onClose:L,key:C+S},r.a.createElement(X,{onClose:L,severity:N},w)),r.a.createElement("div",{className:t.paper},r.a.createElement(g.a,{className:t.avatar},r.a.createElement(O.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h5"},"Email Verification"),r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault(),j(!0);var a=e.target.elements.otp;try{var t=new FormData,r={otp:a.value};t=JSON.stringify(r),fetch("https://staging.ellipseapp.com/api/users/verifyotp",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){e.json().then((function(e){"verified"===e.message?(j(!1),s({open:!0,vertical:"top",horizontal:"center",message:"Success! redirecting to Ellipse Home",type:"success",autoHide:1e3})):"Not verified"===e.message?(j(!1),s({open:!0,vertical:"top",horizontal:"center",message:"Invalid OTP, please check and try again",type:"error",autoHide:5e3})):(j(!1),s({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong try again",type:"error",autoHide:5e3}))}))}))}catch(l){j(!1),s({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error"})}}},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp"})),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:b,className:t.submit},b?r.a.createElement(D.a,{color:"primary",size:24}):"Continue"),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0},r.a.createElement(f.a,{disabled:!F,onClick:function(){try{var e=new FormData;e=JSON.stringify({}),fetch("https://staging.ellipseapp.com/api/users/sendverificationemailwithauth",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},method:"POST",body:e}).then((function(e){e.json().then((function(e){"success"===e.message&&s({open:!0,vertical:"top",horizontal:"center",message:"Password sent succcessfully",type:"success",autoHide:300})}))}))}catch(a){j(!1),s({open:!0,vertical:"top",horizontal:"center",message:a.message,type:"error"})}}},"Resend OTP in ",P)),r.a.createElement(y.a,{item:!0},r.a.createElement(f.a,{onClick:function(){a.push("/signin"),localStorage.removeItem("token")}},"Signin to Different account"))))),r.a.createElement(v.a,{mt:2},r.a.createElement(_,null)))})),ee=t(779),ae=t(736),te=t(735),ne=t(742),re=t(88),le=t.n(re),oe=t(259),ie=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main,width:e.spacing(20),height:e.spacing(20)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},textArea:{width:e.spacing(58),margin:e.spacing(2),borderRadius:e.spacing(2),backgroundColor:e.palette.secondary.main,color:e.palette.primary.dark}}}));function ce(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var se=Object(c.g)((function(e){var a=e.history,t=localStorage.getItem("token"),n=ie(),l=r.a.useState(""),o=Object(d.a)(l,2),i=o[0],s=o[1],b=r.a.useState(null),j=Object(d.a)(b,2),O=j[0],C=j[1],S=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),k=Object(d.a)(S,2),w=k[0],N=k[1],z=r.a.useState(!1),I=Object(d.a)(z,2),B=I[0],P=I[1],A=w.vertical,R=w.horizontal,W=w.open,F=w.message,H=w.type,L=w.autoHide,M=r.a.useState([]),q=Object(d.a)(M,2),G=q[0],J=q[1],V=function(){var e=Object(p.a)(m.a.mark((function e(t,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"successful"===F&&((r=localStorage.getItem("eventid"))?a.push("/event/".concat(r)):a.replace("/home")),N(Object(u.a)(Object(u.a)({},w),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();if(r.a.useEffect((function(){fetch("https://staging.ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){J(e)}))}))}),[t]),!t)return r.a.createElement(c.a,{to:"/"});function K(){return(K=Object(p.a)(m.a.mark((function e(a){var n,r,l,o,i,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),P(!0),n=a.target.elements,r=n.gender,l=n.designation,o=n.collegeId,i=n.bio;try{new FormData,s={gender:r.value,designation:l.value,college_id:o.value,bio:i.value},c=JSON.stringify(s),fetch("https://staging.ellipseapp.com/api/users/userdetails",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:c}).then((function(e){200===e.status&&e.json().then((function(e){if(null!=O){var a=new FormData;a.append("image",O),fetch("https://staging.ellipseapp.com/api/users/uploadImage",{headers:{Authorization:"Bearer ".concat(t)},method:"POST",body:a}).then((function(e){200===e.status&&(P(!1),N({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else P(!1),N({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300})}))}))}catch(m){P(!1),N({open:!0,vertical:"top",horizontal:"center",message:m.message,type:"error",autoHide:3e3})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(U.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:A,horizontal:R},open:W,autoHideDuration:L,onClose:V,key:A+R},r.a.createElement(ce,{onClose:V,severity:H},F)),r.a.createElement("div",{className:n.paper},r.a.createElement(x.a,{component:"h1",variant:"h3"},"Welcome"),r.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){C(e.target.files[0]);var a=URL.createObjectURL(e.target.files[0]);s(a)}},style:{display:"none"}}),r.a.createElement(ne.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(oe.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(le.a,null)))},r.a.createElement(g.a,{className:n.avatar,sizes:"100",alt:"",src:i})),r.a.createElement("form",{className:n.form,onSubmit:function(e){return K.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Bio",autoComplete:"off",required:!0,id:"bio",name:"bio",label:"Bio",fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(te.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(ae.a,{htmlFor:"outlined-age-native-simple"},"Gender"),r.a.createElement(ee.a,{fullWidth:!0,native:!0,label:"Age",inputProps:{name:"gender",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Others"},"Others")))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(te.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(ae.a,{htmlFor:"outlined-age-native-simple"},"You are"),r.a.createElement(ee.a,{fullWidth:!0,native:!0,label:"You are",inputProps:{name:"designation",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Faculty"},"Faculty"),r.a.createElement("option",{value:"Club/Organisation"},"Club/Organisation"),r.a.createElement("option",{value:"Institution"},"Institution"),r.a.createElement("option",{value:"Others"},"Others")))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(te.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(ae.a,{htmlFor:"outlined-age-native-simple"},"Your College"),r.a.createElement(ee.a,{fullWidth:!0,native:!0,label:"College",inputProps:{name:"collegeId",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),G.map((function(e,a){return r.a.createElement("option",{key:a,value:e._id},e.name)})))))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:B,className:n.submit},B?r.a.createElement(D.a,{color:"primary",size:24}):"Continue"))),r.a.createElement(v.a,{mt:2},r.a.createElement(_,null)))})),me=t(685),ue=t(208),pe=t(778),de=t(754),ge=t(252),fe=t.n(ge),he=t(757),Ee=t(693),be=t(755),ve=t(326),ye=t(334),je=t.n(ye),Oe=t(199),xe=t.n(Oe),Ce=t(251),Se=t.n(Ce),ke=t(15),we=Object(S.a)((function(e){var a,t,n;return{"@global":{"*::-webkit-scrollbar":{width:"0.5em",height:"0.5em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 1px rgba(0,0,0,0.00)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#ad9d9d",outline:"1px solid slategrey"}},paper:{marginTop:e.spacing(0),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30,marginBottom:e.spacing(5)},root:{display:"flex",flexGrow:1,maxWidth:800,background:e.palette.secondary.main,alignItems:"center"},grow:{flexGrow:1,alignItems:"center"},title:(a={display:"none"},Object(C.a)(a,e.breakpoints.up("sm"),{display:"block"}),Object(C.a)(a,"fontFamily","Gugi"),Object(C.a)(a,"color",e.palette.primary.dark),Object(C.a)(a,"fontWeight","bold"),a),mobileTitle:Object(C.a)({},e.breakpoints.up("sm"),{display:"none"}),titleButton:(t={display:"none"},Object(C.a)(t,e.breakpoints.up("sm"),{display:"inline-block"}),Object(C.a)(t,"margin",e.spacing(0)),Object(C.a)(t,"padding",e.spacing(0)),Object(C.a)(t,"textTransform","none"),t),mobileTitleButton:(n={display:"none"},Object(C.a)(n,e.breakpoints.down("xs"),{display:"inline-block",width:"fit-content"}),Object(C.a)(n,"margin",e.spacing(0)),Object(C.a)(n,"padding",e.spacing(0)),n),search:Object(C.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ke.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ke.c)(e.palette.common.white,.25)},marginRight:e.spacing(1),marginLeft:e.spacing(1),width:"230px"},e.breakpoints.up("md"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(C.a)({borderBottom:"none",padding:e.spacing(.5,.5,.5,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"30ch"}),sectionDesktop:Object(C.a)({},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(C.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),tabs:Object(C.a)({display:"none"},e.breakpoints.up("lg"),{display:"flex",flexDirection:"row",marginLeft:e.spacing(15)}),mobiletab:Object(C.a)({display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.up("lg"),{display:"none"}),tabPanel:{marginBottom:e.spacing(3)},flex_section:{flexGrow:1,display:"flex",flexDirection:"row"},flex_col_scroll:{flexGrow:1,overflow:"auto"},rpaper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(2)},postButton:{borderRadius:e.spacing(50)}}})),_e=t(336),Te=t.n(_e),Ne=t(145),De=t.n(Ne),ze=t(165),Ie=t.n(ze),Be=t(784),Pe=t(250),Ae=t.n(Pe),Re=t(83),We=t.n(Re),Fe=t(327),He=t.n(Fe);function Le(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function Me(e){var a=Object(W.a)(),t=r.a.useState(null),n=Object(d.a)(t,2),l=n[0],o=n[1],i=e.event,c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),s=Object(d.a)(c,2),g=s[0],h=s[1],b=g.vertical,v=g.horizontal,j=g.open,O=g.message,x=g.type,C=g.autoHide;r.a.useEffect((function(){o(i.share_link)}),[i.share_link]);var S=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(a);case 3:h({open:!0,vertical:"top",horizontal:"center",message:"Copied to clipboard",type:"success",autoHide:3e3}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),h({open:!0,vertical:"top",horizontal:"center",message:e.t0.message,type:"error",autoHide:4e3});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:b,horizontal:v},open:j,autoHideDuration:C,onClose:S,key:b+v},r.a.createElement(Le,{onClose:S,severity:x},O)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},i.name),r.a.createElement(A.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:11},r.a.createElement(E.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"title",label:"Share Link",name:"title",fullWidth:!0,value:l,required:!0,onChange:function(e){o(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:1},r.a.createElement(oe.a,{onClick:function(){return k(l)}},r.a.createElement(He.a,null))))),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Dismiss"))))}var qe=t(27),Ge=t(59),Ue=t(788),Je=Object(S.a)((function(e){return{imageBox:{display:"flex",justifyContent:"center"},dialog:{minHeight:"90vh",maxHeight:"90vh"},image:{maxWidth:"100%"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},title:{backgroundColor:e.palette.secondary}}}));var Ve=function(e){var a=Je(),t=e.event;function n(){e.handleClose()}return r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,onClose:n,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none"}},classes:{paper:a.dialog}},r.a.createElement(R.a,{className:a.title},t.name,r.a.createElement("div",{className:a.icons},r.a.createElement(oe.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(We.a,{fontSize:"large"})))),r.a.createElement(A.a,null,r.a.createElement(v.a,{className:a.imageBox},r.a.createElement("img",{className:a.image,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(t.poster_url),alt:"profile pic"})))))},Ke=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main,width:e.spacing(7),height:e.spacing(7),marginRight:e.spacing(1)},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},adminDetails:{display:"flex",justifyContent:"flex-start",marginTop:e.spacing(2)},root0:{display:"flex",justifyContent:"center"}}}));var Ye=function(e){var a=Ke(),t=localStorage.getItem("token"),n=(e.children,e.value),l=(e.url,e.index),o=Object(qe.a)(e,["children","value","url","index"]),i=e.event,c=i.tags,s=r.a.useState([]),m=Object(d.a)(s,2),u=m[0],p=m[1],f=r.a.useState("Registration Ends in"),h=Object(d.a)(f,2),E=h[0],b=h[1],j=r.a.useState({}),O=Object(d.a)(j,2),C=O[0],S=O[1],k=r.a.useState(!1),w=Object(d.a)(k,2),_=w[0],T=w[1],N=r.a.useState(!1),D=Object(d.a)(N,2),z=D[0],I=D[1];r.a.useEffect((function(){e.notRegistered?I(!0):I(!1)}),[e]),r.a.useEffect((function(){void 0!==i.requirements&&p(i.requirements),void 0!==i._id&&void 0!==i.user_id&&fetch("https://staging.ellipseapp.com"+"/api/event/get_organizer_details?eventId=".concat(i._id,"&userId=").concat(i.user_id),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){S(e)}))}))}),[i,t]);var B=function(){var e=+new Date(i.registration_end_time)-+new Date,a={};return e<0&&(e=+new Date(i.start_time)-+new Date),e<0&&(e=+new Date(i.finish_time)-+new Date),e>0&&(a={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),a},P=r.a.useState(B()),A=Object(d.a)(P,2),R=A[0],W=A[1];r.a.useEffect((function(){var e=setTimeout((function(){b(function(){var e=+new Date(i.registration_end_time)-+new Date,a="Registration ends in";return e<0&&(a="Starts in",e=+new Date(i.start_time)-+new Date),e<0&&(a="Ends in",e=+new Date(i.finish_time)-+new Date),a}()),W(B())}),1e3);return function(){Object(Ge.a)(),clearTimeout(e)}}));var F=[];return Object.keys(R).forEach((function(e){R[e]&&F.push(r.a.createElement("span",{key:e},R[e]," ",e," "))})),r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l},o),n===l&&r.a.createElement("div",{className:a.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:4},r.a.createElement("img",{onClick:function(e){T(!0)},style:{width:"200px",height:"180px"},alt:"event poster",src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(i.poster_url)})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(x.a,null,i.description," "),r.a.createElement(x.a,{style:{marginTop:"20px",marginBottom:"20"}},E),r.a.createElement(x.a,{variant:"h5"},F.length?F:r.a.createElement("span",null,"Time's up!")),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(Ue.a,{variant:"outlined",color:"inherit",label:i.event_type}),r.a.createElement(Ue.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:i.fee_type}),r.a.createElement(Ue.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:i.event_mode}),null!=c&&c.map((function(e){return r.a.createElement(Ue.a,{key:e,style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:e})})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(v.a,null,r.a.createElement(v.a,{className:a.root0},r.a.createElement(x.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h4"},"About")),r.a.createElement(v.a,{className:a.root0},r.a.createElement(x.a,{color:"textSecondary",variant:"body2"},i.about)),r.a.createElement(v.a,{className:a.root0},null!==u&&0!==u.length&&r.a.createElement(x.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Requirements")),r.a.createElement(v.a,{className:a.root0},0!==u.length&&u.map((function(e){return r.a.createElement(Ue.a,{key:e,variant:"outlined",color:"inherit",label:e})}))),r.a.createElement(v.a,{className:a.root0},"Offline"===i.event_mode&&r.a.createElement(x.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Venue Details")),r.a.createElement(v.a,{className:a.root0},"Offline"===i.event_mode&&r.a.createElement(x.a,{color:"textSecondary",variant:"body2"},i.venue)),r.a.createElement(v.a,{className:a.root0},"Offline"===i.event_mode&&r.a.createElement(x.a,{color:"textSecondary",variant:"body2"},i.venue_college)),r.a.createElement(v.a,{className:a.root0},"Paid"===i.fee_type&&r.a.createElement(x.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Fee Details")),r.a.createElement(v.a,{className:a.root0},"Paid"===i.fee_type&&r.a.createElement(x.a,{color:"textSecondary",variant:"body2"},"Rs "+i.fee)),r.a.createElement(v.a,{className:a.root0},"Online"===i.event_mode&&r.a.createElement(x.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Platform Details")),r.a.createElement(v.a,{className:a.root0},"Online"===i.event_mode&&r.a.createElement(x.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"body2"},i.platform_details)),!z&&r.a.createElement(v.a,{className:a.root0},r.a.createElement(x.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Organised By")),!z&&r.a.createElement(v.a,{className:a.root0},r.a.createElement(v.a,{className:a.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:a.avatar,alt:C.name,src:null!==C.profile_pic&&"https://staging.ellipseapp.com"+"/api/image?id=".concat(C.profile_pic)})),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"h5"},C.name)),r.a.createElement(v.a,null,r.a.createElement(x.a,{color:"textSecondary",variant:"body2"},C.college_name))))))),r.a.createElement(y.a,{item:!0,xs:12}),r.a.createElement(y.a,null)),r.a.createElement(Ve,{event:i,open:_,handleClose:function(){T(!1)}})))},Ze=t(743),Qe=t(744),Xe=t(746),$e=t(748),ea=t(749),aa=t(745),ta=t(747),na=t(206),ra=t.n(na),la=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));var oa=function(e){var a=la(),t=(e.children,e.value),n=(e.url,e.index),l=Object(qe.a)(e,["children","value","url","index"]),o=e.event,i=new Date(o.start_time),c=new Date(o.finish_time),s=new Date(o.registration_end_time);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement("div",{className:a.root},r.a.createElement(Ze.a,{align:"alternate"},r.a.createElement(Qe.a,null,r.a.createElement(aa.a,null,r.a.createElement(x.a,{variant:"body2",color:"textSecondary"},s.toDateString()," "+s.toLocaleTimeString())),r.a.createElement(Xe.a,null,r.a.createElement(ta.a,{color:"primary"},r.a.createElement(ra.a,null)),r.a.createElement($e.a,null)),r.a.createElement(ea.a,null,r.a.createElement(ue.a,{elevation:3,className:a.paper},r.a.createElement(x.a,{variant:"h6",component:"h1"},"Registration Ends"),r.a.createElement(x.a,null,"Your opportunity to participate comes to an end")))),r.a.createElement(Qe.a,null,r.a.createElement(aa.a,null,r.a.createElement(x.a,{variant:"body2",color:"textSecondary"},i.toDateString()," "+i.toLocaleTimeString())),r.a.createElement(Xe.a,null,r.a.createElement(ta.a,{color:"primary",variant:"outlined"},r.a.createElement(ra.a,null)),r.a.createElement($e.a,null)),r.a.createElement(ea.a,null,r.a.createElement(ue.a,{elevation:3,className:a.paper},r.a.createElement(x.a,{variant:"h6",component:"h1"},"Starts"),r.a.createElement(x.a,null,"Party begins")))),r.a.createElement(Qe.a,null,r.a.createElement(aa.a,null,r.a.createElement(x.a,{variant:"body2",color:"textSecondary"},c.toDateString()," "+c.toLocaleTimeString())),r.a.createElement(Xe.a,null,r.a.createElement(ta.a,{color:"primary"},r.a.createElement(ra.a,null)),r.a.createElement($e.a,{className:a.secondaryTail})),r.a.createElement(ea.a,null,r.a.createElement(ue.a,{elevation:3,className:a.paper},r.a.createElement(x.a,{variant:"h6",component:"h1"},"Ends"),r.a.createElement(x.a,null,"Chill time, event complete")))))))},ia=t(18),ca=Object(S.a)((function(e){return{root:{display:"flex",alignItems:"flex-start",alignContent:"flex-start",width:"100%"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main},timiline:{},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"}}}));function sa(e){var a=localStorage.getItem("token"),t=ca(),n=(e.children,e.value),l=(e.url,e.index),o=Object(qe.a)(e,["children","value","url","index"]),i=e.event,c=r.a.useState([]),s=Object(d.a)(c,2),m=s[0],u=s[1];return r.a.useEffect((function(){fetch("https://staging.ellipseapp.com"+"/api/event/get_announcements?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){i.registered?u(e):e.forEach((function(e){e.visible_all&&u((function(a){return[].concat(Object(ia.a)(a),[e])}))}))}))}))}),[a,i]),r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l},o),n===l&&r.a.createElement("div",null,0===m.length&&r.a.createElement(x.a,null,"No Announcements"),m.map((function(e,a){var n=new Date(e.time);return r.a.createElement(v.a,{m:1,p:1,key:a,className:t.root3},r.a.createElement(v.a,{className:t.root2,whiteSpace:"normal"},r.a.createElement(x.a,{className:t.title},e.title),r.a.createElement(x.a,{className:t.pos},e.description)),r.a.createElement(v.a,{className:t.root5},r.a.createElement(x.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())))}))))}var ma=r.a.createContext({currentUser:null,setCurrentUser:function(){}}),ua=t(3),pa=t(197),da=t.n(pa),ga=Object(S.a)((function(e){return{bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(4),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},open:{position:"fixed",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(34),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},close:{position:"fixed",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(13),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)}}}));function fa(e){var a=ga(),t=r.a.useState(!0),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(null),c=Object(d.a)(i,2),s=c[0],m=c[1],u=r.a.useState(a.bottomBar),p=Object(d.a)(u,2),g=p[0],f=p[1];r.a.useEffect((function(){var t;void 0!==e.open&&f(Object(ua.a)((t={},Object(C.a)(t,a.open,e.open),Object(C.a)(t,a.close,!e.open),t)))}),[e.open]);return r.a.createElement(v.a,{className:g,display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(E.a,{disabled:e.loading,fullWidth:!0,placeholder:"Type your message",multiline:!0,onChange:function(e){m(e.target.value),o(!1),""===e.target.value&&o(!0)},value:s||"",rowsMax:"3",onKeyUp:function(a){console.log(s),s.length>1&&(console.log(s.length),13!==a.keyCode||a.shiftKey||(a.preventDefault(),e.handleSend(s),o(!0),m("")))}}),r.a.createElement(oe.a,{onClick:function(a){e.handleSend(s),o(!0),m("")},disabled:l,className:a.sendIcon},r.a.createElement(da.a,null)))}var ha=t(690),Ea=t(752),ba=t(692),va=t(750),ya=t(751),ja=t(57),Oa=t.n(ja),xa=t(56),Ca=t.n(xa),Sa=t(362),ka=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},topBar:{},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},message:{display:"flex",justifyContent:"flex-start"},message2:{display:"none"},message3:{display:"flex",justifyContent:"flex-end"},inline:{whiteSpace:"pre-line"}}}));function wa(e){e.children;var a=e.value,t=(e.url,e.index),n=Object(qe.a)(e,["children","value","url","index"]),l=r.a.useContext(ma).currentUser,o=localStorage.getItem("token"),i=e.event,c=e.open,s=r.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1],f=r.a.useState(!1),h=Object(d.a)(f,2),E=h[0],b=h[1],y=r.a.useState(null),j=Object(d.a)(y,2),O=j[0],C=j[1],S=r.a.useState([]),k=Object(d.a)(S,2),w=k[0],_=k[1],T=ka(),N=null,z=r.a.useState(null),I=Object(d.a)(z,2),P=I[0],A=I[1],R=function(){var e=new WebSocket("wss://staging.ellipseapp.com/ws/");e.onopen=function(){A(e),e.send(JSON.stringify({action:"join_event_room",event_id:i._id,msg:{user_id:l.user_id}})),e.onmessage=function(e){var a=JSON.parse(e.data),t=a.msg;a.event_id===i._id&&_((function(e){return[].concat(Object(ia.a)(e),[t])}))},b(!1)},e.onclose=function(){W()}};r.a.useEffect((function(){return b(!0),fetch("https://staging.ellipseapp.com"+"/api/chat/load_messages?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){_(e),R()}))})),null!=O&&O.scrollIntoView({behavior:"smooth"}),function(){_([]),Object(Ge.a)()}}),[i._id,o]),r.a.useEffect((function(){null!=O&&O.scrollIntoView({behavior:"smooth"})}),[E]),r.a.useEffect((function(){return null!=O&&O.scrollIntoView({behavior:"smooth"}),function(){Object(Ge.a)()}}),[w,O]);var W=function(){P&&P.readyState!==WebSocket.readyState||R()};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==t},n),a===t&&r.a.createElement("div",null,r.a.createElement("div",{className:T.progress},r.a.createElement(Sa.a,{in:E,unmountOnExit:!0},r.a.createElement(D.a,null))),r.a.createElement(B.a,{onClose:function(){p(!1)},"aria-labelledby":"simple-dialog-title",open:u},r.a.createElement(ha.a,null,r.a.createElement(ba.a,{button:!0},r.a.createElement(va.a,null,r.a.createElement(g.a,null,r.a.createElement(Ca.a,null))),r.a.createElement(ya.a,{primary:"Reply"})),r.a.createElement(ba.a,{autoFocus:!0,button:!0},r.a.createElement(va.a,null,r.a.createElement(g.a,null,r.a.createElement(Oa.a,null))),r.a.createElement(ya.a,{primary:"Delete"})))),r.a.createElement(v.a,{className:T.topBar},w.map((function(e,a){var t=new Date,n=new Date(e.date),o=new Date(e.date);return n.toDateString()!==N?(N=n.toDateString(),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ea.a,null),r.a.createElement(v.a,{m:1,p:1,key:a,position:"sticky",className:T.root6},r.a.createElement(x.a,{variant:"body2"},t.toDateString()===n.toDateString()?"Today":n.toDateString())),r.a.createElement(v.a,{m:1,p:1,key:a+1,className:T.root3},r.a.createElement(v.a,{className:T.root5},r.a.createElement(g.a,{variant:"square",alt:e.userName,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:T.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:T.message},r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body1"},e.user_name+"   ")),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(x.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+o.toLocaleTimeString([],{timeStyle:"short"})))),r.a.createElement(v.a,null,r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Ca.a,{style:{color:"#aaaaaa"}})),l.user_id===e.user_id&&r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Oa.a,{style:{color:"#aaaaaa"}})))),r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body2",style:{fontSize:"1.2em"},color:"textSecondary"},e.message)))))):r.a.createElement(v.a,{m:1,p:1,key:a+1,className:T.root3},r.a.createElement(v.a,{className:T.root5},r.a.createElement(g.a,{variant:"square",alt:e.userName,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:T.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:T.message},r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body1"},e.user_name+"   ")),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(x.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+o.toLocaleTimeString([],{timeStyle:"short"})))),r.a.createElement(v.a,null,r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Ca.a,{style:{color:"#aaaaaa"}})),l.user_id===e.user_id&&r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Oa.a,{style:{color:"#aaaaaa"}})))),r.a.createElement(v.a,{whiteSpace:"normal"},r.a.createElement(x.a,{className:T.inline,variant:"body2",style:{fontSize:"1.2em"},color:"textSecondary"},e.message))))})),r.a.createElement("div",{style:{float:"left",clear:"both",paddingBottom:"60px"},ref:function(e){C(e)}}),r.a.createElement("div",null,r.a.createElement(fa,{loading:E,open:c,handleSend:function(e){var a=new Date;P.send(JSON.stringify({action:"send_message",event_id:i._id,msg:{id:l.user_id+Date.now(),user_id:l.user_id,user_name:l.name,user_pic:l.profile_pic,message:e,date:a.toISOString()}})),null!=O&&O.scrollIntoView({behavior:"smooth"})}})))))}var _a=t(753),Ta=t(332),Na=t.n(Ta);var Da=function(e){var a=localStorage.getItem("token"),t=r.a.useContext(ma).currentUser,n=e.event,l=r.a.useState({}),o=Object(d.a)(l,2),i=o[0],c=o[1];r.a.useEffect((function(){s()}),[]);var s=function(){try{fetch("https://staging.ellipseapp.com"+"/api/event/get_team_member_details?id=".concat(e.user_id),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){c(e)}))}))}catch(t){console.log(t)}};return r.a.createElement(ba.a,null,r.a.createElement(va.a,null,r.a.createElement(g.a,null,r.a.createElement(g.a,{alt:i.name,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(i.user_pic)}))),r.a.createElement(ya.a,{primary:e.id===e.user_id?i.name+" (Team Leader)":i.name,secondary:i.college}),e.admin&&!(t.user_id===e.user_id)&&r.a.createElement(_a.a,null,r.a.createElement(oe.a,{onClick:function(){var t=new FormData;t=JSON.stringify({event_id:n._id,team_id:e.id._id,user_id:e.user_id}),fetch("https://staging.ellipseapp.com/api/event/remove_user_from_team",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(a){a.json().then((function(a){e.fetchAll()}))}))},edge:"end","aria-label":"delete"},r.a.createElement(Na.a,null)," ",r.a.createElement(x.a,null,"Remove"))))},za=t(333),Ia=t.n(za);var Ba=function(e){var a=localStorage.getItem("token"),t=e.event,n=r.a.useState({}),l=Object(d.a)(n,2),o=l[0],i=l[1];return r.a.useEffect((function(){try{fetch("https://staging.ellipseapp.com"+"/api/event/get_team_member_details?id=".concat(e.user_id),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){i(e)}))}))}catch(t){console.log(t)}}),[e,a]),r.a.createElement(ba.a,null,r.a.createElement(va.a,null,r.a.createElement(g.a,{alt:o.name,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(o.user_pic)})),r.a.createElement(ya.a,{primary:o.name,secondary:o.college}),r.a.createElement(_a.a,null,r.a.createElement(oe.a,{onClick:function(){var n=new FormData;n=JSON.stringify({event_id:t._id,team_id:e.id._id,user_id:e.user_id}),fetch("https://staging.ellipseapp.com/api/event/accept_user_teamup_request",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:n}).then((function(a){a.json().then((function(a){e.fetchAll()}))}))},edge:"end","aria-label":"delete"},r.a.createElement(Ia.a,null),r.a.createElement(x.a,null,"Accept"))))};function Pa(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function Aa(e){var a=Object(W.a)(),t=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!1),s=Object(d.a)(c,2),g=s[0],h=s[1],b=o.vertical,v=o.horizontal,j=o.open,O=o.message,x=o.type,C=o.autoHide,S=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(u.a)(Object(u.a)({},o),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),k=r.a.useState(null),w=Object(d.a)(k,2),_=w[0],N=w[1],z=r.a.useState(null),I=Object(d.a)(z,2),F=I[0],H=I[1];return r.a.useEffect((function(){N(e.title),H(e.desc)}),[e]),r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:b,horizontal:v},open:j,autoHideDuration:C,onClose:S,key:b+v},r.a.createElement(Pa,{onClose:S,severity:x},O)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"FeedBack"),r.a.createElement(A.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"title",label:"Name",name:"title",fullWidth:!0,disabled:!0,value:_||"",required:!0,onChange:function(e){N(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:F||"",required:!0,onChange:function(e){H(e.target.value)}})))),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){h(!0);try{var a=new FormData;a=JSON.stringify({team_id:e.team_id,desc:F}),fetch("https://staging.ellipseapp.com/api/event/edit_team",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(a){a.json().then((function(a){h(!1),e.handleClose(),i({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3})}))}))}catch(n){h(!1),i({open:!0,vertical:"top",horizontal:"center",message:n.message,type:"error",autoHide:3e3})}},color:"primary"},g?r.a.createElement(D.a,{color:"primary",size:24}):"Save"))))}var Ra=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},adminDetails:{display:"flex",justifyContent:"flex-start"},root0:{display:"flex",justifyContent:"flex-start"},avatar:{backgroundColor:e.palette.primary.main,width:e.spacing(7),height:e.spacing(7),marginRight:e.spacing(1)},grid:{borderRadius:e.spacing(3),margin:e.spacing(1),padding:e.spacing(2),backgroundColor:"rgb(0, 189, 170,0.1)",maxWidth:"99%",marginTop:e.spacing(2)},root3:{display:"flex",justifyContent:"flex-start",minWidth:e.spacing(30)},root6:{display:"flex",justifyContent:"center"},topBar:{maxHeight:"300px"},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},root2:{textDecorationColor:e.palette.secondary.light,maxWidth:"65%",minWidth:"20%",overflow:"auto",marginLeft:e.spacing(1)},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},message:{display:"flex",justifyContent:"flex-start"}}}));var Wa=function(e){var a=Ra(),t=r.a.useContext(ma).currentUser,n=(e.children,e.value),l=(e.url,e.index),o=Object(qe.a)(e,["children","value","url","index"]),i=localStorage.getItem("token"),c=e.event,s=e.registration,m=r.a.useState({}),u=Object(d.a)(m,2),p=u[0],h=u[1],E=r.a.useState(!1),b=Object(d.a)(E,2),j=b[0],O=b[1],C=r.a.useState(!1),S=Object(d.a)(C,2),k=S[0],w=S[1];r.a.useEffect((function(){_()}),[]);var _=function(){try{fetch("https://staging.ellipseapp.com"+"/api/event/get_team_details?id=".concat(s.team_id),{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){h(e[0]),e[0].user_id===t.user_id&&O(!0)}))}))}catch(e){console.log(e)}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l},o),n===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.grid},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{className:a.root0},r.a.createElement(v.a,{className:a.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:a.avatar,alt:p.team_name},"S")),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"h5"},p.team_name)),r.a.createElement(v.a,null,r.a.createElement(x.a,{color:"textSecondary",variant:"body2"},p.description)))))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},!j&&r.a.createElement(f.a,{onClick:function(){var a=new FormData;a=JSON.stringify({team_id:p._id,event_id:c._id}),fetch("https://staging.ellipseapp.com/api/event/leave_team",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(a){a.json().then((function(a){console.log(a),e.getData()}))}))}},"Leave"),j&&r.a.createElement(f.a,{onClick:function(){w(!0)}},"Edit"),j&&r.a.createElement(f.a,{onClick:function(){var a=new FormData;a=JSON.stringify({team_id:p._id}),fetch("https://staging.ellipseapp.com/api/event/delete_team",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(a){a.json().then((function(a){e.getData()}))}))}},"Delete")))),r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(x.a,{color:"textSecondary",style:{marginTop:"7px"}},"Team Members"),void 0!==p.members&&r.a.createElement(ha.a,{dense:!0},p.members.map((function(a){return r.a.createElement(Da,{fetchAll:_,admin:j,event:e.event,id:p,user_id:a})})))),r.a.createElement(y.a,{item:!0,xs:12,md:6},j&&r.a.createElement(x.a,{color:"textSecondary",style:{marginTop:"7px"}},"Team up Requests"),j&&r.a.createElement(ha.a,{dense:!0},p.received_requests.map((function(a){return r.a.createElement(Ba,{fetchAll:_,event:e.event,id:p,user_id:a})}))))),r.a.createElement(Aa,{open:k,handleClose:function(){w(!1),_()},team_id:p._id,title:p.team_name,desc:p.description}))))},Fa=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},button:{margin:e.spacing(1),borderRadius:e.spacing(2),maxWidth:"260px"}}}));var Ha=function(e){var a=Fa(),t=(e.children,e.value),n=(e.url,e.index),l=Object(qe.a)(e,["children","value","url","index"]),o=localStorage.getItem("token"),i=e.event;return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement("div",{className:a.root},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=e.target.elements,t=a.name,n=a.desc,r=new FormData;r=JSON.stringify({team_name:t.value,desc:n.value,event_id:i._id}),fetch("https://staging.ellipseapp.com/api/event/create_team",{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:r}).then((function(e){e.json().then((function(e){}))}))}},r.a.createElement(E.a,{variant:"outlined",label:"Team Name",required:!0,name:"name",fullWidth:!0,margin:"dense"}),r.a.createElement(E.a,{variant:"outlined",label:"Description",required:!0,name:"desc",fullWidth:!0,margin:"dense"}),r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(f.a,{type:"submit",fullWidth:!0,color:"primary",className:a.button,variant:"contained"},"Create")))))},La=Object(S.a)((function(e){return{root:{marginBottom:e.spacing(2),padding:e.spacing(0)},button:{margin:e.spacing(1),borderRadius:e.spacing(2),maxWidth:"260px"},adminDetails:{display:"flex",justifyContent:"flex-start"},root0:{display:"flex",justifyContent:"flex-start"},root1:{display:"flex",justifyContent:"flex-start",borderRadius:e.spacing(3),margin:e.spacing(1),padding:e.spacing(1),backgroundColor:"rgb(0, 189, 170,0.2)"},avatar:{backgroundColor:e.palette.primary.main,width:e.spacing(7),height:e.spacing(7),marginRight:e.spacing(1)},avatar2:{backgroundColor:e.palette.primary.main,width:e.spacing(6),height:e.spacing(6),marginRight:e.spacing(1)},grid:{borderRadius:e.spacing(3),margin:e.spacing(1),padding:e.spacing(2),backgroundColor:"rgb(0, 189, 170,0.2)",maxWidth:"99%"}}}));var Ma=function(e){var a=La(),t=(e.children,e.value),n=(e.url,e.index),l=Object(qe.a)(e,["children","value","url","index"]),o=localStorage.getItem("token"),i=e.event,c=r.a.useState([]),s=Object(d.a)(c,2),m=s[0],u=s[1],p=r.a.useState([]),h=Object(d.a)(p,2),b=h[0],j=h[1];r.a.useEffect((function(){O()}),[]);var O=function(){try{fetch("https://staging.ellipseapp.com"+"/api/event/get_all_teams?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){console.log(e),u(e)}))}))}catch(e){console.log(e)}try{fetch("https://staging.ellipseapp.com"+"/api/event/get_user_registration?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){console.log(e[0].sent_requests),j(e[0].sent_requests)}))}))}catch(e){console.log(e)}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement("div",{className:a.root},r.a.createElement(E.a,{variant:"outlined",label:"Team id",fullWidth:!0,margin:"dense"}),r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(f.a,{fullWidth:!0,color:"primary",className:a.button,variant:"contained"},"Join")),r.a.createElement(x.a,null,"Sent Requests"),b.map((function(e){var t,n=m.find((function(a){return a._id===e}));return n?r.a.createElement(y.a,{container:!0,component:"main",className:a.grid},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{className:a.root0},r.a.createElement(v.a,{className:a.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:a.avatar,alt:n.team_name},n.team_name[0])),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"h5"},n.team_name)),r.a.createElement(v.a,null,r.a.createElement(x.a,{color:"textSecondary",variant:"body2"},n.description)))))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(f.a,null,"View Members"),r.a.createElement(f.a,{onClick:(t=n._id,function(){var e=new FormData;e=JSON.stringify({event_id:i._id,team_id:t}),fetch("https://staging.ellipseapp.com/api/event/user_teamwithdraw_request",{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){e.json().then((function(e){O()}))}))})},"Withdraw")))):null})),r.a.createElement(x.a,null,"All Teams"),r.a.createElement("div",null,m.map((function(e){return b.includes(e._id)?null:r.a.createElement(y.a,{container:!0,component:"main",className:a.grid},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{className:a.root0},r.a.createElement(v.a,{className:a.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:a.avatar,alt:e.team_name},e.team_name[0])),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"h5"},e.team_name)),r.a.createElement(v.a,null,r.a.createElement(x.a,{color:"textSecondary",variant:"body2"},e.description)))))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(f.a,null,"View Members"),r.a.createElement(f.a,{onClick:(t=e._id,function(){var e=new FormData;e=JSON.stringify({event_id:i._id,team_id:t}),fetch("https://staging.ellipseapp.com/api/event/user_teamup_request",{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){e.json().then((function(e){O()}))}))})},"Request"))));var t})))))},qa=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},topBar:{},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},message:{display:"flex",justifyContent:"flex-start"},message2:{display:"none"},message3:{display:"flex",justifyContent:"flex-end"},inline:{whiteSpace:"pre-line"}}}));function Ga(e){e.children;var a=e.value,t=(e.url,e.index),n=Object(qe.a)(e,["children","value","url","index"]),l=r.a.useContext(ma).currentUser,o=localStorage.getItem("token"),i=e.event,c=e.open,s=r.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1],f=r.a.useState(!1),h=Object(d.a)(f,2),E=h[0],b=h[1],y=e.registration,j=r.a.useState(null),O=Object(d.a)(j,2),C=O[0],S=O[1],k=r.a.useState([]),w=Object(d.a)(k,2),_=w[0],T=w[1],N=qa(),z=null,I=r.a.useState(null),P=Object(d.a)(I,2),A=P[0],R=P[1],W=function(){var e=new WebSocket("wss://staging.ellipseapp.com/ws/");e.onopen=function(){R(e),e.send(JSON.stringify({action:"join_team_room",team_id:y.team_id,msg:{user_id:l.user_id}})),e.onmessage=function(e){var a=JSON.parse(e.data).msg;T((function(e){return[].concat(Object(ia.a)(e),[a])}))},b(!1)},e.onclose=function(){F()}};r.a.useEffect((function(){return b(!0),fetch("https://staging.ellipseapp.com"+"/api/chat/load_team_chat_messages?id=".concat(y.team_id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){T(e),W()}))})),null!=C&&C.scrollIntoView({behavior:"smooth"}),function(){T([]),Object(Ge.a)()}}),[i._id,o]),r.a.useEffect((function(){null!=C&&C.scrollIntoView({behavior:"smooth"})}),[E]),r.a.useEffect((function(){return null!=C&&C.scrollIntoView({behavior:"smooth"}),function(){Object(Ge.a)()}}),[_,C]);var F=function(){A&&A.readyState!==WebSocket.readyState||W()};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==t},n),a===t&&r.a.createElement("div",null,r.a.createElement("div",{className:N.progress},r.a.createElement(Sa.a,{in:E,unmountOnExit:!0},r.a.createElement(D.a,null))),r.a.createElement(B.a,{onClose:function(){p(!1)},"aria-labelledby":"simple-dialog-title",open:u},r.a.createElement(ha.a,null,r.a.createElement(ba.a,{button:!0},r.a.createElement(va.a,null,r.a.createElement(g.a,null,r.a.createElement(Ca.a,null))),r.a.createElement(ya.a,{primary:"Reply"})),r.a.createElement(ba.a,{autoFocus:!0,button:!0},r.a.createElement(va.a,null,r.a.createElement(g.a,null,r.a.createElement(Oa.a,null))),r.a.createElement(ya.a,{primary:"Delete"})))),r.a.createElement(v.a,{className:N.topBar},_.map((function(e,a){var t=new Date,n=new Date(e.date),o=new Date(e.date);return n.toDateString()!==z?(z=n.toDateString(),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ea.a,null),r.a.createElement(v.a,{m:1,p:1,key:a,position:"sticky",className:N.root6},r.a.createElement(x.a,{variant:"body2"},t.toDateString()===n.toDateString()?"Today":n.toDateString())),r.a.createElement(v.a,{m:1,p:1,key:a+1,className:N.root3},r.a.createElement(v.a,{className:N.root5},r.a.createElement(g.a,{variant:"square",alt:e.userName,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:N.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:N.message},r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body1"},e.user_name+"   ")),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(x.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+o.toLocaleTimeString([],{timeStyle:"short"})))),r.a.createElement(v.a,null,r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Ca.a,{style:{color:"#aaaaaa"}})),l.user_id===e.user_id&&r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Oa.a,{style:{color:"#aaaaaa"}})))),r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body2",style:{fontSize:"1.2em"},color:"textSecondary"},e.message)))))):r.a.createElement(v.a,{m:1,p:1,key:a+1,className:N.root3},r.a.createElement(v.a,{className:N.root5},r.a.createElement(g.a,{variant:"square",alt:e.userName,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:N.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:N.message},r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body1"},e.user_name+"   ")),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(x.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+o.toLocaleTimeString([],{timeStyle:"short"})))),r.a.createElement(v.a,null,r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Ca.a,{style:{color:"#aaaaaa"}})),l.user_id===e.user_id&&r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Oa.a,{style:{color:"#aaaaaa"}})))),r.a.createElement(v.a,{whiteSpace:"normal"},r.a.createElement(x.a,{className:N.inline,variant:"body2",style:{fontSize:"1.2em"},color:"textSecondary"},e.message))))})),r.a.createElement("div",{style:{float:"left",clear:"both",paddingBottom:"60px"},ref:function(e){S(e)}}),r.a.createElement("div",null,r.a.createElement(fa,{loading:E,open:c,handleSend:function(e){var a=new Date;A.send(JSON.stringify({action:"send_team_message",team_id:y.team_id,msg:{id:l.user_id+Date.now(),user_id:l.user_id,user_name:l.name,user_pic:l.profile_pic,message:e,date:a.toISOString()}})),null!=C&&C.scrollIntoView({behavior:"smooth"})}})))))}var Ua=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(0),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.secondary.main}}}));var Ja=function(e){var a=Ua(),t=(e.children,e.value),n=(e.url,e.index),l=Object(qe.a)(e,["children","value","url","index"]),o=localStorage.getItem("token"),i=e.event,c=r.a.useState(!1),s=Object(d.a)(c,2),m=s[0],u=s[1],p=r.a.useState({}),g=Object(d.a)(p,2),f=g[0],h=g[1],E=e.subIndexValue;r.a.useEffect((function(){b()}),[i,o]);var b=function(){try{fetch("https://staging.ellipseapp.com"+"/api/event/get_user_registration?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){h(e[0]),u(e[0].teamed_up)}))}))}catch(e){console.log(e)}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement("div",{className:a.root},m&&r.a.createElement(Wa,{getData:b,value:E,registration:f,index:1,event:e.event}),m&&r.a.createElement(Ga,{value:E,registration:f,index:2,event:e.event}),!m&&1===E&&r.a.createElement(x.a,null,"Join team or create a team"),!m&&r.a.createElement(Ha,{value:E,index:3,event:e.event}),m&&3===E&&r.a.createElement(x.a,null,"Team already created"),!m&&r.a.createElement(Ma,{value:E,index:4,event:e.event}),m&&4===E&&r.a.createElement(x.a,null,"Team created or joined, delete to join other teams")))};function Va(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Ka=Object(S.a)((function(e){return{icons:Object(C.a)({position:"absolute",right:e.spacing(1),top:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),root:{},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(1)},bottomBar:{display:"flex",width:"90%",backgroundColor:e.palette.secondary.main},field:{width:"100%"},action:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},dialogContent:Object(C.a)({},e.breakpoints.down("md"),{padding:e.spacing(1)}),mobileHead:Object(C.a)({},e.breakpoints.up("md"),{display:"none"}),desktopHead:Object(C.a)({},e.breakpoints.up("md"),{display:"none"})}}));var Ya=function(e){var a=e.event,t=localStorage.getItem("theme"),n=r.a.useState(0),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useContext(ma).currentUser,s=Ka(),m=Object(W.a)(),u=r.a.useState(!1),p=Object(d.a)(u,2),g=p[0],h=p[1],E=r.a.useState(!1),b=Object(d.a)(E,2),y=b[0],j=b[1],O=r.a.useState(!1),C=Object(d.a)(O,2),S=C[0],k=C[1],w=r.a.useState(0),_=Object(d.a)(w,2),T=_[0],N=_[1];function D(){e.handleClose()}function z(){h(!0)}return r.a.useEffect((function(){a.registered||"form"!==a.reg_mode?(j(!0),k(!0)):a.user_id===c.user_id?j(!0):j(!1)}),[a,c]),r.a.createElement(B.a,{open:e.open,onClose:D,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:m.palette.secondary.main,boxShadow:"none"}},classes:{paper:s.dialog}},r.a.createElement(R.a,{id:"scroll-dialog-title"},r.a.createElement(v.a,{className:s.mobileHead,display:"flex",flexDirection:"column",justifyContent:"center"},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(oe.a,{"aria-label":"share",onClick:z},r.a.createElement(Ae.a,null)),r.a.createElement(oe.a,{"aria-label":"close",className:s.closeButton,onClick:D},r.a.createElement(We.a,{fontSize:"large"})))),a.name,r.a.createElement("div",{className:s.icons},r.a.createElement(oe.a,{"aria-label":"share",onClick:z},r.a.createElement(Ae.a,null)),r.a.createElement(oe.a,{"aria-label":"close",className:s.closeButton,onClick:D},r.a.createElement(We.a,{fontSize:"large"}))),r.a.createElement("div",{className:s.root},r.a.createElement(ue.a,{className:s.root2},r.a.createElement(pe.a,{value:o,onChange:function(e,a){i(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(de.a,Object.assign({label:"About"},Va(0))),r.a.createElement(de.a,Object.assign({label:"Schedule"},Va(1))),r.a.createElement(de.a,Object.assign({label:"Announcements"},Va(2))),r.a.createElement(de.a,Object.assign({label:"Chat"},Va(3))),a.isTeamed&&r.a.createElement(de.a,Object.assign({label:"Participation"},Va(4))))),r.a.createElement(Ea.a,null),4===o&&r.a.createElement(ue.a,{className:s.root2},r.a.createElement(pe.a,{value:T,onChange:function(e,a){N(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(de.a,{label:"Submissions"}),r.a.createElement(de.a,{label:"Your Team"}),r.a.createElement(de.a,{label:"Team Chat"}),r.a.createElement(de.a,{label:"Create Team"}),r.a.createElement(de.a,{label:"Join Team"}))))),r.a.createElement(A.a,{className:s.dialogContent,dividers:!0},r.a.createElement(Me,{event:a,open:g,handleClose:function(){h(!1)}}),r.a.createElement(Ye,{value:o,index:0,event:e.event}),r.a.createElement(oa,{value:o,index:1,event:e.event}),r.a.createElement(sa,{value:o,index:2,event:e.event}),3===o&&y&&r.a.createElement(wa,{value:o,index:3,event:e.event}),3===o&&!y&&r.a.createElement(x.a,{align:"center",variant:"h5"},"Register for the event to continue"),S&&a.isTeamed&&r.a.createElement(Ja,{subIndexValue:T,value:o,index:4,event:e.event}),4===o&&!S&&r.a.createElement(x.a,{align:"center",variant:"h5"},"Register for the event to continue")),r.a.createElement(P.a,{className:s.action},r.a.createElement(v.a,{className:s.bottomBar,display:"flex",alignItems:"center",justifyContent:"center",hidden:3!==o}),r.a.createElement("div",{role:"tabpanel",hidden:3===o},3!==o&&r.a.createElement("div",{className:s.buttonDiv},"form"===a.reg_mode?r.a.createElement(f.a,{disabled:!!a.registered,size:"small",color:"primary",variant:"contained",className:s.button,onClick:function(){e.handleReg(a)}},a.registered?"Registered":"Register"):r.a.createElement(f.a,{disabled:!!a.registered,size:"small",color:"primary",variant:"contained",className:s.button},"light"===t?r.a.createElement("a",{href:a.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register"):r.a.createElement("a",{href:a.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register"))))))},Za=r.a.createContext({allEvents:null,setAllEvents:function(){}}),Qa=Object(S.a)((function(e){return{dialog:{minHeight:"90vh",maxHeight:"90vh"},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));function Xa(e){var a=Qa(),t=Object(W.a)(),n=localStorage.getItem("token"),l=r.a.useState([]),o=Object(d.a)(l,2),i=o[0],c=o[1];r.a.useEffect((function(){fetch("https://staging.ellipseapp.com/api/get_notifications_desc",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){c(e)}))}))}),[n]);var s=function(a){return function(){e.handleClick(a.event_id)}};return r.a.createElement("div",null,r.a.createElement(B.a,{scroll:"paper",open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title",classes:{paper:a.dialog}},r.a.createElement(R.a,{id:"form-dialog-title"},"Notifications"),r.a.createElement(Ea.a,null),r.a.createElement(A.a,null,i.map((function(e,t){var n=new Date(e.time);return r.a.createElement(v.a,{onClick:s(e),m:1,p:1,className:a.root3},r.a.createElement(v.a,{className:a.root2,whiteSpace:"normal"},r.a.createElement(x.a,{className:a.title},e.title),r.a.createElement(x.a,{className:a.pos},e.description)),r.a.createElement(v.a,{className:a.root5},r.a.createElement(x.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())))})),0===i.length&&r.a.createElement(x.a,null,"No Notifications"))))}var $a=t(756),et=t.p+"static/media/logo.cc1ac587.svg",at=t(198),tt=t.n(at),nt=Object(c.g)((function(e){var a=e.history,t=we(),l=localStorage.getItem("token"),o=r.a.useState(null),i=Object(d.a)(o,2),c=i[0],s=i[1],m=localStorage.getItem("theme"),u=r.a.useState("light"!==m),p=Object(d.a)(u,2),g=p[0],h=p[1],b=r.a.useState(0),v=Object(d.a)(b,2),y=v[0],j=v[1],O=r.a.useState([]),C=Object(d.a)(O,2),S=C[0],k=C[1],w=r.a.useState(0),_=Object(d.a)(w,2),T=_[0],N=_[1],D=Boolean(c),z=r.a.useState(!1),I=Object(d.a)(z,2),B=I[0],P=I[1],A=r.a.useState(!1),R=Object(d.a)(A,2),W=R[0],F=R[1],H=r.a.useContext(Za).allEvents;Object(n.useEffect)((function(){if(null!=localStorage.getItem("tabIndex")){var e=parseInt(localStorage.getItem("tabIndex"));null!=e&&j(e)}fetch("https://staging.ellipseapp.com/api/get_unseen_notifications_count",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){N(e)}))}))}),[l]);var L=function(e,a){j(a),localStorage.setItem("tabIndex",a)};l||a.replace("/");var M="primary-search-account-menu",q=r.a.createElement(ve.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:M,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:D,onClose:function(){s(null)}},r.a.createElement(be.a,null," Dark Theme ",r.a.createElement($a.a,{checked:g,onChange:function(e){h(e.target.checked),e.target.checked?(localStorage.setItem("theme","dark"),window.location.reload(!1)):(localStorage.setItem("theme","light"),window.location.reload(!1))},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement(be.a,{onClick:function(e){fetch("https://staging.ellipseapp.com/api/users/logout",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},method:"POST"}).then((function(e){e.json().then((function(e){"success"===e.message&&(localStorage.removeItem("token"),localStorage.removeItem("tabIndex"),a.replace("/"))}))}))}},"Log Out"));function G(e){e.preventDefault(),a.push("/events")}function U(){a.push("/home")}function J(){a.push("/profile")}var V=function(){P(!1),F(!1)};function K(){localStorage.setItem("tabIndex",0),j(0),a.push("/home")}return r.a.createElement("div",{className:t.grow},r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{position:"sticky",color:"secondary"},r.a.createElement(Ee.a,null,r.a.createElement("img",{src:et,alt:"logo",onClick:K,className:t.mobileTitle}),r.a.createElement(f.a,{className:t.titleButton,onClick:K},r.a.createElement(x.a,{className:t.title,variant:"h5",noWrap:!0},"Ellipse")),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(je.a,null)),r.a.createElement(Be.a,{freeSolo:!0,id:"search",placeholder:"search..",options:H,getOptionLabel:function(e){return e.name},onChange:function(e,a){a&&(k(a),P(!0))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{placeholder:"search..",className:t.inputInput}))}})),r.a.createElement("div",{className:t.tabs},r.a.createElement(ue.a,{square:!0,className:t.root},r.a.createElement(pe.a,{value:y,onChange:L,variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon"},r.a.createElement(de.a,{onClick:U,icon:r.a.createElement(Ie.a,null),"aria-label":"home"}),r.a.createElement(de.a,{onClick:G,icon:r.a.createElement(Se.a,null),"aria-label":"event"}),r.a.createElement(de.a,{onClick:function(){a.push("/chat")},icon:r.a.createElement(tt.a,null),"aria-label":"favorite"}),r.a.createElement(de.a,{onClick:J,icon:r.a.createElement(fe.a,null),"aria-label":"person"})))),r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement(oe.a,{"aria-label":"notifications",color:"inherit",onClick:function(){fetch("https://staging.ellipseapp.com/api/update_notification_status",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){N(0)}))})),F(!0)}},r.a.createElement(ne.a,{badgeContent:T,color:"secondary"},r.a.createElement(xe.a,null))),r.a.createElement(oe.a,{edge:"end","aria-label":"account of current user","aria-controls":M,"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit"},r.a.createElement(De.a,null))))),q,r.a.createElement(he.a,{position:"sticky",color:"secondary"},r.a.createElement("div",{className:t.mobiletab},r.a.createElement(ue.a,{square:!0,className:t.root,position:"sticky"},r.a.createElement(pe.a,{value:y,onChange:L,variant:"fullWidth",indicatorColor:"primary",textColor:"primary"},r.a.createElement(de.a,{onClick:U,icon:r.a.createElement(Ie.a,null),"aria-label":"home"}),r.a.createElement(de.a,{onClick:G,icon:r.a.createElement(Se.a,null),"aria-label":"event"}),r.a.createElement(de.a,{onClick:function(){a.push("/yourevents")},icon:r.a.createElement(Te.a,null),"aria-label":"explore"}),r.a.createElement(de.a,{onClick:J,icon:r.a.createElement(fe.a,null),"aria-label":"person"}))))),r.a.createElement("div",null,B&&r.a.createElement(Ya,{open:B,event:S,handleReg:function(e){P(!1),a.push("/event/register/"+e._id)},handleClose:V}),r.a.createElement(Xa,{open:W,handleClick:function(e){e&&H.forEach((function(a){a._id===e&&(k(a),P(!0))}))},handleClose:V}))))})),rt=r.a.createContext({activeEvents:null,setActiveEvents:function(){}}),lt=Object(S.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},root:{background:"white",position:"sticky",top:0,bottom:0,zIndex:5}}}));var ot=Object(c.g)((function(e){var a=localStorage.getItem("token"),t=lt(),n=r.a.useState([]),l=Object(d.a)(n,2),o=l[0],i=l[1],s=r.a.useState([]),m=Object(d.a)(s,2),u=m[0],p=m[1],g=r.a.useState(null),f=Object(d.a)(g,2),h=f[0],E=f[1],b=r.a.useState(!0),v=Object(d.a)(b,2),y=v[0],j=v[1],O=r.a.useState(!0),x=Object(d.a)(O,2),C=x[0],S=x[1],k=r.a.useState(!0),w=Object(d.a)(k,2),_=w[0],T=w[1],N={currentUser:h,setCurrentUser:E},z={allEvents:o,setAllEvents:i},I={activeEvents:u,setActiveEvents:p};if(r.a.useEffect((function(){fetch("https://staging.ellipseapp.com/api/users/me",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(t){200===t.status?t.json().then((function(t){if(!1===t[0].verified)try{var n=new FormData,r={email:t[0].email};n=JSON.stringify(r),fetch("https://staging.ellipseapp.com/api/users/sendverificationemail",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},method:"POST",body:n}).then((function(a){a.json().then((function(a){"success"===a.message&&(j(!1),e.history.push("/otpverification"))}))}))}catch(l){}else null===t[0].college_name?(j(!1),e.history.push("/userinfo")):(T(!0),E(t[0]))})):401===t.status&&(localStorage.removeItem("token"),S(!1))})),fetch("https://staging.ellipseapp.com/api/events",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){e.sort((function(e,a){return new Date(e.start_time)-new Date(a.start_time)})),i(e),p(e.filter((function(e){return new Date<new Date(e.finish_time)&&"pending"!==e.status})))})):401===e.status&&(localStorage.removeItem("token"),S(!1))}))}),[a]),!a)return r.a.createElement(c.a,{to:"/"});if(!C)return r.a.createElement(c.a,{to:"/"});if(!_){if(h.verified)return r.a.createElement(c.a,{to:"/userinfo"});console.log("xyz");try{var B=new FormData,P={email:h.email};B=JSON.stringify(P),fetch("https://staging.ellipseapp.com/api/users/sendverificationemail",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},method:"POST",body:B}).then((function(e){e.json().then((function(e){if("success"===e.message)return r.a.createElement(c.a,{to:"/otpverification"})}))}))}catch(A){}}return r.a.createElement(ma.Provider,{value:N},r.a.createElement(Za.Provider,{value:z},r.a.createElement(rt.Provider,{value:I},null!=h&&r.a.createElement("div",null,r.a.createElement(ue.a,{className:t.root},r.a.createElement(nt,null)),r.a.createElement("div",null,e.children)),null==h&&r.a.createElement(me.a,{className:t.backdrop,open:y},r.a.createElement(D.a,{color:"inherit"})))))})),it=t(337),ct=t(338),st=(t(642),t(759)),mt=t(108),ut=t.n(mt),pt=Object(S.a)((function(e){var a,t;return{root:{height:"300px"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(C.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(t={borderRadius:e.spacing(50)},Object(C.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(t,"backgroundColor",e.palette.primary.main),Object(C.a)(t,"color",e.palette.primary.light),t),fab:Object(C.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(C.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"})}}));var dt=function(e){var a=e.history;localStorage.setItem("tabIndex",1);var t=pt(),l=r.a.useState([]),o=Object(d.a)(l,2),i=o[0],c=o[1],s=r.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1],h=r.a.useState([]),E=Object(d.a)(h,2),b=E[0],v=E[1],j=r.a.useState([]),O=Object(d.a)(j,2),C=O[0],S=O[1],k=r.a.useContext(rt).activeEvents;Object(n.useEffect)((function(){k.forEach((function(e){c((function(a){return[].concat(Object(ia.a)(a),[{id:JSON.stringify(e),title:e.name,start:e.start_time,end:e.finish_time}])}))})),S(k.filter((function(e){return!0===e.registered})))}),[k]);var w=function(){a.push("/post")},_=function(e){return function(){v(e),p(!0)}};return r.a.createElement("div",null,r.a.createElement("div",{className:t.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:3,lg:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8},r.a.createElement(it.a,{eventBackgroundColor:"#1C1C1E",eventBorderColor:"#00bdaa",events:i,eventClick:function(e){v(JSON.parse(e.event.id)),p(!0)},defaultView:"dayGridMonth",plugins:[ct.a],backgroundColor:"black",buttonIcons:!1})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:!1,lg:2},r.a.createElement(st.a,{color:"primary","aria-label":"add",className:t.fab,onClick:w},r.a.createElement(ut.a,null)),r.a.createElement(ue.a,{className:t.rpaper},r.a.createElement(ue.a,{className:t.subRpaper},r.a.createElement(f.a,{onClick:w,variant:"contained",fullWidth:!0,size:"large",className:t.postButton},"Post Event"),r.a.createElement(ha.a,{className:t.sideList},r.a.createElement(x.a,{variant:"body2"},"Registered Events"),C.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(ba.a,{onClick:_(e),key:a,button:!0},r.a.createElement(va.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(ya.a,{primary:e.name})),r.a.createElement(Ea.a,null))}))))))),r.a.createElement("div",null,r.a.createElement(Ya,{open:u,event:b,handleClose:function(){p(!1)},handleReg:function(e){p(!1),a.push("/event/register/"+e._id)}}))))},gt=t(761),ft=t(60),ht=t(39),Et=t(760),bt=t(780),vt=t(762),yt=Object(S.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",top:e.spacing(10),zIndex:3},root:Object(C.a)({background:e.palette.primary.light,position:"sticky",marginLeft:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),root2:{marginTop:e.spacing(5),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,borderRadius:e.spacing(2)},filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50),backgroundColor:e.palette.primary.main}}}));var jt=function(e){var a=yt(),t=r.a.useContext(ma).currentUser,n=function(a){return function(){var t=e.modeChecked.indexOf(a),n=Object(ia.a)(e.modeChecked);-1===t?n.push(a):n.splice(t,1),e.setModeChecked(n)}},l=function(a){return function(){var t=e.feeChecked.indexOf(a),n=Object(ia.a)(e.feeChecked);-1===t?n.push(a):n.splice(t,1),e.setFeeChecked(n)}};return r.a.createElement("div",null,r.a.createElement(ue.a,{className:a.root},r.a.createElement(x.a,{index:0},"Filters"),r.a.createElement(ht.a,{utils:ft.a},r.a.createElement(Et.a,{fullWidth:!0,variant:"dialog",format:"dd MMM yyyy",margin:"normal",id:"startDate",label:"From",name:"startDate",value:e.sortStartDate,onChange:e.handleSortDateChange}),r.a.createElement(Et.a,{fullWidth:!0,variant:"dialog",format:"dd MMM yyyy",margin:"normal",id:"endDate",label:"To",name:"endDate",value:e.sortEndDate,onChange:e.handleEndSortDateChange})),r.a.createElement(x.a,{style:{paddingTop:"10px"}},"Event Mode"),r.a.createElement(ha.a,{className:a.root},["Online","Offline"].map((function(a){var t="checkbox-list-label-".concat(a);return r.a.createElement(ba.a,{key:a,role:void 0,dense:!0,button:!0,onClick:n(a)},r.a.createElement(gt.a,null,r.a.createElement(G.a,{edge:"start",color:"default",checked:-1!==e.modeChecked.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(ya.a,{id:t,primary:a}))}))),r.a.createElement(x.a,{style:{paddingTop:"10px"}},"Event Cost"),r.a.createElement(ha.a,{className:a.root},["Free","Paid"].map((function(a){var t="checkbox-list-label-".concat(a);return r.a.createElement(ba.a,{key:a,role:void 0,dense:!0,button:!0,onClick:l(a)},r.a.createElement(gt.a,null,r.a.createElement(G.a,{edge:"start",color:"default",checked:-1!==e.feeChecked.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(ya.a,{id:t,primary:a}))}))),r.a.createElement(x.a,null,"College"),r.a.createElement(vt.a,{"aria-label":"address",name:"address",value:e.sortCollgeType,onChange:e.handleSortCollegeChange,style:{display:"inline"}},r.a.createElement(ha.a,{className:a.root},["All","".concat(t.college_name)].map((function(e){return r.a.createElement(ba.a,{key:e,role:void 0,dense:!0,button:!0},r.a.createElement(gt.a,null,r.a.createElement(q.a,{value:e,control:r.a.createElement(bt.a,{color:"default"}),label:e})))})))),r.a.createElement(f.a,{className:a.filterButton,onClick:e.handleSortApplyButton,variant:"contained"}," Apply "),r.a.createElement(f.a,{className:a.filterButton,onClick:e.handlesortDiscardButton,variant:"contained"},"Discard")),r.a.createElement("div",null))},Ot=Object(S.a)((function(e){return{root:{background:e.palette.secondary.main,position:"sticky",top:e.spacing(10),marginLeft:e.spacing(1)},filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50)}}}));var xt=function(e){var a=Ot(),t=r.a.useContext(ma).currentUser,n=function(a){return function(){var t=e.modeChecked.indexOf(a),n=Object(ia.a)(e.modeChecked);-1===t?n.push(a):n.splice(t,1),e.setModeChecked(n)}},l=function(a){return function(){var t=e.feeChecked.indexOf(a),n=Object(ia.a)(e.feeChecked);-1===t?n.push(a):n.splice(t,1),e.setFeeChecked(n)}};return r.a.createElement("div",null,r.a.createElement(ue.a,{className:a.root},r.a.createElement(x.a,{index:0},"Filters"),r.a.createElement(ht.a,{utils:ft.a},r.a.createElement(Et.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy",margin:"normal",id:"startDate",label:"From",name:"startDate",defaultValue:"",value:e.sortStartDate,onChange:e.handleSortDateChange}),r.a.createElement(Et.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy",margin:"normal",id:"endDate",label:"To",name:"endDate",defaultValue:"",value:e.sortEndDate,onChange:e.handleEndSortDateChange,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(x.a,{style:{paddingTop:"10px"}},"Event Mode"),r.a.createElement(ha.a,null,["online","offline"].map((function(a){var t="checkbox-list-label-".concat(a);return r.a.createElement(ba.a,{key:a,role:void 0,dense:!0,button:!0,onClick:n(a)},r.a.createElement(gt.a,null,r.a.createElement(G.a,{edge:"start",color:"default",checked:-1!==e.modeChecked.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(ya.a,{id:t,primary:a}))}))),r.a.createElement(x.a,{style:{paddingTop:"10px"}},"Event Cost"),r.a.createElement(ha.a,{className:a.root},["Free","Paid"].map((function(a){var t="checkbox-list-label-".concat(a);return r.a.createElement(ba.a,{key:a,role:void 0,dense:!0,button:!0,onClick:l(a)},r.a.createElement(gt.a,null,r.a.createElement(G.a,{edge:"start",color:"default",checked:-1!==e.feeChecked.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})),r.a.createElement(ya.a,{id:t,primary:a}))}))),r.a.createElement(x.a,null,"College"),r.a.createElement(vt.a,{"aria-label":"address",name:"address",defaultValue:"All",onChange:e.handleSortCollegeChange,style:{display:"inline"}},r.a.createElement(ha.a,{className:a.root},["All","".concat(t.collegeName)].map((function(e){return r.a.createElement(ba.a,{key:e,role:void 0,dense:!0,button:!0},r.a.createElement(gt.a,null,r.a.createElement(q.a,{value:e,control:r.a.createElement(bt.a,{color:"default"}),label:e})))})))),r.a.createElement(f.a,{className:a.filterButton,onClick:e.handleSortApplyButton,variant:"contained"}," Apply "),r.a.createElement(f.a,{className:a.filterButton,onClick:e.handlesortDiscardButton,variant:"contained"},"Discard")),r.a.createElement("div",null))};function Ct(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function St(e){var a=Object(W.a)(),t=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!1),s=Object(d.a)(c,2),g=s[0],h=s[1],b=o.vertical,v=o.horizontal,j=o.open,O=o.message,x=o.type,C=o.autoHide,S=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(u.a)(Object(u.a)({},o),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),k=r.a.useState(null),w=Object(d.a)(k,2),_=w[0],N=w[1];return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:b,horizontal:v},open:j,autoHideDuration:C,onClose:S,key:b+v},r.a.createElement(Ct,{onClose:S,severity:x},O)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"FeedBack"),r.a.createElement(A.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:_||"",required:!0,onChange:function(e){N(e.target.value)}})))),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){h(!0);try{var a=new FormData,n={description:_};a=JSON.stringify(n),fetch("https://staging.ellipseapp.com/api/event/send_feedback",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},method:"POST",body:a}).then((function(a){a.json().then((function(a){"success"===a.message&&(h(!1),e.handleClose(),i({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3}))}))}))}catch(r){h(!1),i({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}},color:"primary"},g?r.a.createElement(D.a,{color:"primary",size:24}):"Send"))))}var kt=t(763),wt=t(766),_t=t(765),Tt=t(764),Nt=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main}}}));function Dt(e){var a=Nt(),t=e.event,n=(localStorage.getItem("theme"),r.a.useState(!1)),l=Object(d.a)(n,2),o=l[0],c=l[1];return r.a.createElement(kt.a,{className:a.root},r.a.createElement(Tt.a,{component:"img",height:"180",image:"https://staging.ellipseapp.com"+"/api/image?id=".concat(t.poster_url)}),r.a.createElement(_t.a,null,r.a.createElement(x.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name)),r.a.createElement(wt.a,null,r.a.createElement(f.a,{size:"small",color:"primary",onClick:function(){c(!0)}},"Share"),r.a.createElement(f.a,{size:"small",color:"primary"},r.a.createElement(i.b,{target:"_blank",to:{pathname:"/event/".concat(t._id)},style:{textDecoration:"none",color:"#00bdaa"}},"View")),r.a.createElement(x.a,{align:"right",variant:"body2",color:"textSecondary",component:"p"},t.status.toUpperCase())),r.a.createElement(Me,{event:t,open:o,handleClose:function(){c(!1)}}))}var zt=t(767),It=t(202),Bt=t.n(It),Pt=t(201),At=t.n(Pt);function Rt(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function Wt(e){var a=Object(W.a)(),t=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!1),s=Object(d.a)(c,2),g=s[0],h=s[1],b=o.vertical,v=o.horizontal,j=o.open,O=o.message,x=o.type,C=o.autoHide,S=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(u.a)(Object(u.a)({},o),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),k=r.a.useState(null),w=Object(d.a)(k,2),_=w[0],N=w[1],z=r.a.useState(null),I=Object(d.a)(z,2),F=I[0],H=I[1],L=e.event;return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:b,horizontal:v},open:j,autoHideDuration:C,onClose:S,key:b+v},r.a.createElement(Rt,{onClose:S,severity:x},O)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Report(",L.name,")"),r.a.createElement(A.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:_||"",required:!0,onChange:function(e){N(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:F||"",required:!0,onChange:function(e){H(e.target.value)}})))),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){h(!0);try{var a=new FormData,n={event_id:L._id,title:_,description:F};a=JSON.stringify(n),fetch("https://staging.ellipseapp.com/api/event/report",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},method:"POST",body:a}).then((function(a){a.json().then((function(a){"success"===a.message&&(h(!1),e.handleClose(),i({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3}))}))}))}catch(r){h(!1),i({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}},color:"primary"},g?r.a.createElement(D.a,{color:"primary",size:24}):"Send"))))}var Ft=Object(S.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},morePopup:{zIndex:"5"}}}));var Ht=function(e){var a=Ft(),t=e.event,n=localStorage.getItem("theme"),l=new Date(t.start_time),o=new Date(t.finish_time),i=new Date(t.registration_end_time),c=r.a.useRef(null),s=r.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1],g=r.a.useState(!1),h=Object(d.a)(g,2),E=h[0],b=h[1],v=r.a.useState(!1),y=Object(d.a)(v,2),j=y[0],O=y[1],C=r.a.useState(null),S=Object(d.a)(C,2),k=S[0],w=S[1];return r.a.createElement(kt.a,{className:a.root},r.a.createElement(zt.a,{avatar:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{style:{display:u?"block":"none"},onClick:function(){e.imageDialog(t)},onLoad:function(){return p(!0)},alt:"Event Poster",height:"160",width:"150",src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(t.poster_url)}),!u&&r.a.createElement("div",{style:{height:"160px",width:"150px"}},r.a.createElement(At.a,{color:"disabled",style:{height:"160px",width:"150px"}}))),action:r.a.createElement("div",null,r.a.createElement(oe.a,{ref:c,"aria-controls":Boolean(k)?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(e){w(e.currentTarget)}},r.a.createElement(Bt.a,null)),r.a.createElement(ve.a,{anchorEl:k,anchorOrigin:{vertical:"top",horizontal:"right"},id:"menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(k),onClose:function(){w(null)}},r.a.createElement(be.a,{onClick:function(){O(!0)}},"Share"),r.a.createElement(be.a,{onClick:function(){b(!0)}},"Report"))),title:r.a.createElement(x.a,{variant:"h5",color:"textPrimary",component:"p"},e.name),subheader:r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{variant:"body1",color:"textSecondary",component:"p"},t.description),r.a.createElement(Ue.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:t.event_mode}),r.a.createElement(Ue.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:t.fee_type}),r.a.createElement(Ue.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:t.event_type}),r.a.createElement(Ue.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Reg ends on "+i.toDateString()}),r.a.createElement(Ue.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Starts on "+l.toDateString()}),r.a.createElement(Ue.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Ends on "+o.toDateString()}))}),r.a.createElement(Wt,{event:t,open:E,handleClose:function(){b(!1)}}),r.a.createElement(Me,{event:t,open:j,handleClose:function(){O(!1)}}),r.a.createElement(wt.a,{disableSpacing:!0},r.a.createElement("div",{className:a.buttonDiv},r.a.createElement(f.a,{size:"small",color:"primary",variant:"outlined",className:a.button,onClick:function(){e.click(e.eventId)}},"See More"),"form"===t.reg_mode?r.a.createElement(f.a,{disabled:!!t.registered,size:"small",color:"primary",variant:"contained",className:a.button,onClick:function(){e.handleReg(e.eventId)}},t.registered?"Registered":"Register"):r.a.createElement(f.a,{disabled:!!t.registered,size:"small",color:"primary",variant:"contained",className:a.button},"light"===n?r.a.createElement("a",{href:t.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register"):r.a.createElement("a",{href:t.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register")))))},Lt=Object(S.a)((function(e){var a,t,n;return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:(a={marginTop:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1),position:"sticky",top:e.spacing(8),bottom:0},Object(C.a)(a,e.breakpoints.down("md"),{top:e.spacing(13)}),Object(C.a)(a,"zIndex",5),a),accordion:{backgroundColor:e.palette.primary.light},rpaper:(t={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(C.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(t,"top",e.spacing(10)),t),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(n={borderRadius:e.spacing(50)},Object(C.a)(n,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(n,"backgroundColor",e.palette.primary.main),Object(C.a)(n,"color",e.palette.primary.light),n),fab:Object(C.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(C.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"}),content:{marginTop:e.spacing(3)}}}));var Mt=function(e){localStorage.setItem("tabIndex",0);var a=Lt(),t=r.a.useState(!1),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState([]),c=Object(d.a)(i,2),s=c[0],m=c[1],u=r.a.useContext(Za).allEvents,p=r.a.useContext(rt).activeEvents,g=r.a.useContext(ma).currentUser,f=u.filter((function(e){return!0===e.registered})),h=r.a.useState(0),E=Object(d.a)(h,2),b=E[0],v=E[1],j=u.filter((function(e){return new Date>new Date(e.finish_time)})),O=function(e){return function(){m(e)}};return r.a.createElement("div",null,r.a.createElement(ue.a,{className:a.root2},r.a.createElement(pe.a,{value:b,onChange:function(e,a){v(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(de.a,{label:"Active Events"}),r.a.createElement(de.a,{label:"Registered Events"}),r.a.createElement(de.a,{label:"Past Events"}))),r.a.createElement("div",{className:a.content},0===b&&r.a.createElement(r.a.Fragment,null,0===p.length&&r.a.createElement(x.a,{align:"center"},"No events, check back later"),e.isFiltered?e.sortedEventsArray.map((function(a,t){return r.a.createElement(Ht,{key:t,click:e.handleClick,url:g.imageUrl,name:a.name,startTime:a.start_time,endTime:a.finish_time,eventMode:a.eventMode,eventType:a.eventType,regEndTime:a.registrationEndTime,event:a,feeType:a.feesType,imageDialog:e.handleImageDialogOpen,handleReg:e.handleRegistrationButton,eventId:a})})):p.map((function(a,t){return r.a.createElement(Ht,{key:t,click:e.handleClick,url:g.imageUrl,name:a.name,startTime:a.start_time,endTime:a.finish_time,eventMode:a.eventMode,eventType:a.eventType,regEndTime:a.registrationEndTime,eventId:a,feeType:a.feesType,imageDialog:e.handleImageDialogOpen,handleReg:e.handleRegistrationButton,event:a})}))),1===b&&r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===f.length&&r.a.createElement(x.a,{align:"center"},"No Registered Events"),f.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,key:a},r.a.createElement(Dt,{event:e,handleViewClick:O(e),name:e.name}))}))),2===b&&r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===j.length&&r.a.createElement(x.a,{align:"center"},"No Past Events at this time"),j.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,alignItems:"center",key:a},r.a.createElement(Dt,{event:e,handleViewClick:O(e),name:e.name}))}))),r.a.createElement("div",null,r.a.createElement(Ya,{open:l,event:s,handleClose:function(){o(!1)},name:s.name,startTime:s.start_time,endTime:s.finish_time,regEndTime:s.registrationEndTime,type:s.eventType,tags:s.tags,mode:s.eventMode,feeType:s.feesType}))))},qt=Object(S.a)((function(e){var a,t,n;return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"89vh"},Object(C.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(t={borderRadius:e.spacing(50)},Object(C.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(t,"backgroundColor",e.palette.primary.main),t),root:Object(C.a)({background:e.palette.primary.light,position:"sticky",top:e.spacing(10),marginLeft:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),leftSubPaper:Object(C.a)({backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},e.breakpoints.down("md"),{maxHeight:"78vh"}),root2:Object(C.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"}),filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50)},fab:Object(C.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),mobileFilterButton:Object(C.a)({},e.breakpoints.up("md"),{display:"none"}),skeleton:{textDecorationColor:e.palette.primary.dark},feedBackButton:(n={borderRadius:e.spacing(50),marginTop:e.spacing(1)},Object(C.a)(n,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(n,"paddingBottom",e.spacing(1)),n)}}));var Gt=Object(c.g)((function(e){var a=e.history;localStorage.setItem("tabIndex",0);var t=localStorage.getItem("token"),n=r.a.useContext(ma).currentUser,l=qt(),o=r.a.useState(!1),i=Object(d.a)(o,2),c=i[0],s=i[1],u=r.a.useState(!1),h=Object(d.a)(u,2),E=h[0],b=h[1],v=r.a.useState(""),j=Object(d.a)(v,2),O=j[0],C=j[1],S=r.a.useState(null),k=Object(d.a)(S,2),w=k[0],_=k[1],T=r.a.useState(null),N=Object(d.a)(T,2),D=N[0],z=N[1],I=r.a.useState("All"),P=Object(d.a)(I,2),W=P[0],F=P[1],H=r.a.useState([]),L=Object(d.a)(H,2),M=L[0],q=L[1],G=r.a.useState(!1),U=Object(d.a)(G,2),J=U[0],V=U[1],K=r.a.useState([0]),Y=Object(d.a)(K,2),Z=Y[0],Q=Y[1],X=r.a.useState([0]),$=Object(d.a)(X,2),ee=$[0],ae=$[1],te=r.a.useState(!1),ne=Object(d.a)(te,2),re=ne[0],le=ne[1],oe=r.a.useContext(rt).activeEvents,ie=r.a.useState([]),ce=Object(d.a)(ie,2),se=ce[0],me=ce[1],pe=r.a.useState(!1),de=Object(d.a)(pe,2),ge=de[0],fe=de[1];r.a.useEffect((function(){me(oe.filter((function(e){return!0===e.registered})))}),[oe]),t||a.replace("/");var he=function(){a.push("/post")},Ee=function(e){console.log(e),_(e)},be=function(e){z(e)};function ve(e,a){F(a)}function ye(){return je.apply(this,arguments)}function je(){return(je=Object(p.a)(m.a.mark((function e(){var a,t,r,l,o,i,c,s,u,p,d,g,f,h,E,b,v,y;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le(!1),null==w||null==D){e.next=8;break}a=Oe(w,D,oe),q(a),V(!0),ee.length>1?(console.log(Ce(a)),t=Ce(a),q(t),V(!0),Z.length>1&&(r=Se(t),q(r),V(!0),W===n.college_name&&(l=ke(r),q(l),V(!0)))):Z.length>1?(o=Se(a),q(o),V(!0),W===n.college_name&&(i=ke(o),q(i),V(!0))):W===n.collegeName&&(c=ke(a),q(c),V(!0)),e.next=18;break;case 8:if(null==w){e.next=17;break}return e.next=11,xe(w,oe);case 11:s=e.sent,q(s),V(!0),ee.length>1?(console.log(Ce(s)),u=Ce(s),q(u),V(!0),Z.length>1&&(p=Se(s),q(p),V(!0),W===n.collegeName&&(d=ke(p),q(d),V(!0)))):Z.length>1?(g=Se(s),q(g),V(!0),W===n.collegeName&&(f=ke(g),q(f),V(!0))):W===n.collegeName&&(h=ke(s),q(h),V(!0)),e.next=18;break;case 17:ee.length>1?(E=Ce(oe),q(E),V(!0),Z.length>1&&(b=Se(E),q(b),V(!0))):Z.length>1?(v=Se(oe),q(v),V(!0)):W===n.college_name&&(y=ke(oe),q(y),V(!0));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,a,t){var n=[];return t.forEach((function(t){var r=new Date(t.start_time);e.getTime()<=r.getTime()&&r.getTime()<=a.getTime()&&n.push(t)})),n}function xe(e,a){var t=[];return a.forEach(function(){var a=Object(p.a)(m.a.mark((function a(n){var r,l,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r="".concat(e.getDate())+e.getMonth()+e.getFullYear(),l=new Date(n.start_time),o="".concat(l.getDate())+l.getMonth()+l.getFullYear(),console.log(o),r===o&&(console.log(n),t.push(n));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),t}function Ce(e){var a=[];return e.forEach((function(e){ee.includes(e.event_mode)&&(console.log("ddd"),a.push(e))})),a}function Se(e){var a=[];return e.forEach((function(e){Z.includes(e.fee_type)&&a.push(e)})),a}function ke(e){var a=[];return e.forEach((function(e){n.college_name===e.college_name&&a.push(e)})),a}function we(){ae([0]),Q([0]),q([]),_(null),z(null),V(!1),le(!1),F("All")}function _e(e){C(e),b(!0)}function Te(e){C(e),a.push("/event/register/"+e._id)}var Ne=function(e){return function(){C(e),s(!0)}};return r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:!1,md:3,lg:2,style:{padding:"10px"}},r.a.createElement(ue.a,{className:l.root},r.a.createElement(ue.a,{className:l.leftSubPaper},r.a.createElement(jt,{handleSortDateChange:Ee,sortStartDate:w,handleEndSortDateChange:be,sortEndDate:D,handleSortCollegeChange:ve,feeChecked:Z,modeChecked:ee,sortCollgeType:W,setFeeChecked:Q,setModeChecked:ae,handleSortApplyButton:ye,handlesortDiscardButton:we}))),r.a.createElement(f.a,{className:l.mobileFilterButton,variant:"outlined",onClick:function(){le(!0)}},"Filters")),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8,style:{marginBottom:"50px"}},r.a.createElement(Mt,{isFiltered:J,sortedEventsArray:M,handleClick:function(e,a){C(e),s(!0)},handleImageDialogOpen:_e,handleRegistrationButton:Te}),r.a.createElement(x.a,{variant:"h5",style:{paddingTop:"5px",paddingBottom:"7px"}})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2},r.a.createElement(st.a,{color:"primary","aria-label":"add",className:l.fab,onClick:he},r.a.createElement(ut.a,null)),r.a.createElement(ue.a,{className:l.rpaper},r.a.createElement(ue.a,{className:l.subRpaper},r.a.createElement(f.a,{onClick:he,variant:"contained",fullWidth:!0,size:"large",className:l.postButton},"Post Event"),r.a.createElement(ha.a,{className:l.root2},r.a.createElement(x.a,{variant:"body2"},"Registered Events"),se.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(ba.a,{onClick:Ne(e),key:a,button:!0},r.a.createElement(va.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(ya.a,{primary:e.name})),r.a.createElement(Ea.a,null))}))),r.a.createElement(f.a,{onClick:function(){fe(!0)},variant:"outlined",fullWidth:!0,size:"large",className:l.feedBackButton},"Report Bug/Feedback"))))),r.a.createElement("div",null,r.a.createElement(St,{open:ge,handleClose:function(){fe(!1)}}),c&&r.a.createElement(Ya,{open:c,event:O,handleClose:function(){s(!1)},handleReg:Te,imageDialog:_e}),r.a.createElement(Ve,{event:O,open:E,handleClose:function(){b(!1)}}),r.a.createElement(B.a,{open:re,onClose:function(){le(!1)},fullWidth:!0,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",maxWidth:"sm",PaperProps:{style:{backgroundColor:"#1C1C1E",boxShadow:"none"}}},r.a.createElement(R.a,null,"Filters"),r.a.createElement(A.a,null,r.a.createElement(xt,{handleSortDateChange:Ee,sortStartDate:w,handleEndSortDateChange:be,sortEndDate:D,handleSortCollegeChange:ve,feeChecked:Z,modeChecked:ee,setFeeChecked:Q,setModeChecked:ae,handleSortApplyButton:ye,handlesortDiscardButton:we})))))}));var Ut=function(e){e.children;var a=e.value,t=e.url,n=e.index,l=Object(qe.a)(e,["children","value","url","index"]),o=r.a.useState(!1),i=Object(d.a)(o,2),c=i[0],s=i[1],m=r.a.useContext(ma).currentUser,u=r.a.useContext(Za).allEvents.filter((function(e){return e.user_id===m.user_id})),p=r.a.useState(""),g=Object(d.a)(p,2),f=g[0],h=g[1];function E(e){h(e)}return r.a.createElement("div",Object.assign({role:"tabpanel"},l),a===n&&r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===u.length&&r.a.createElement(x.a,null,"No Posted Events"),u.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,key:a},r.a.createElement(Dt,{event:e,handleViewClick:E,name:e.name,image:t}))})),r.a.createElement(Ya,{open:c,event:f,handleClose:function(){s(!1)},name:f.name,startTime:f.start_time,endTime:f.finish_time,regEndTime:f.registrationEndTime,type:f.eventType,tags:f.tags,mode:f.eventMode,feeType:f.feesType,url:m.imageUrl}))))},Jt=t(254),Vt=t.n(Jt),Kt=t(341),Yt=t.n(Kt),Zt=t(340),Qt=t.n(Zt),Xt=t(167),$t=t.n(Xt),en=t(342),an=t.n(en),tn=t(203),nn=t.n(tn),rn=t(339),ln=t.n(rn),on=Object(S.a)((function(e){return{root3:{display:"flex",justifyContent:"flex-start",paddingLeft:e.spacing(4)},content:{marginTop:e.spacing(1),paddingTop:e.spacing(1)},avatar:{margin:e.spacing(1.5),padding:e.spacing(1)}}}));var cn=function(e){var a=on(),t=r.a.useState(r.a.createElement(Vt.a,null)),n=Object(d.a)(t,2),l=n[0],o=n[1];return r.a.useEffect((function(){switch(e.name){case"Username":o(r.a.createElement(ln.a,null));break;case"Name":o(r.a.createElement(nn.a,null));break;case"College":o(r.a.createElement(Qt.a,null));break;case"Gender":o(r.a.createElement(Yt.a,null));break;case"Bio":o(r.a.createElement($t.a,null));break;case"Designation":o(r.a.createElement(an.a,null));break;case"Email":o(r.a.createElement(Vt.a,null));break;default:o(r.a.createElement($t.a,null))}}),[e.name]),r.a.createElement(v.a,{className:a.root3},r.a.createElement(v.a,{className:a.avatar},r.a.createElement(g.a,null,l)),r.a.createElement(v.a,{className:a.content},r.a.createElement(v.a,null,r.a.createElement(x.a,null,e.name)),r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body2",color:"textSecondary"},e.value))))},sn=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main},editIcon:{display:"flex",justifyContent:"flex-end"}}}));var mn=function(e){var a=sn(),t=(e.children,e.value),n=(e.url,e.index),l=Object(qe.a)(e,["children","value","url","index"]),o=r.a.useContext(ma).currentUser;return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement("div",{className:a.root},r.a.createElement(v.a,null,r.a.createElement(v.a,{className:a.editIcon},r.a.createElement(oe.a,{onClick:e.handleEditButton},r.a.createElement(le.a,null))),r.a.createElement(cn,{name:"Name",value:o.name}),r.a.createElement(cn,{name:"Email",value:o.email}),r.a.createElement(cn,{name:"Username",value:o.username}),r.a.createElement(cn,{name:"College",value:o.college_name}),r.a.createElement(cn,{name:"Designation",value:o.designation}),r.a.createElement(cn,{name:"Gender",value:o.gender}),r.a.createElement(cn,{name:"Bio",value:o.bio}))))},un=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main}}}));function pn(e){var a=un(),t=e.event,n=localStorage.getItem("token"),l=r.a.useState(""),o=Object(d.a)(l,2),i=o[0],c=o[1];function s(){}return r.a.useEffect((function(){fetch("https://staging.ellipseapp.com"+"/api/event/get_event_name?eventId=".concat(t.event_id),{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){c(e)}))}))}),[t,n]),r.a.createElement(kt.a,{className:a.root},r.a.createElement(_t.a,null,r.a.createElement(x.a,{gutterBottom:!0,variant:"h5",component:"h2"},i)),r.a.createElement(wt.a,null,r.a.createElement(f.a,{disabled:"GENERATED"!==t.certificate_status.toUpperCase(),download:!0,target:"_blank",href:"https://staging.ellipseapp.com"+"/api/user/certificate?id=".concat(t.certificate_url),size:"small",color:"primary",onClick:s},"Download"),r.a.createElement(f.a,{disabled:"GENERATED"!==t.certificate_status.toUpperCase(),target:"_blank",href:"https://staging.ellipseapp.com"+"/api/user/certificate?id=".concat(t.certificate_url),size:"small",color:"primary",onClick:s},"View"),r.a.createElement(x.a,{align:"right",variant:"body2",color:"textSecondary",component:"p"},t.certificate_status.toUpperCase())))}var dn=function(e){e.children;var a=e.value,t=(e.url,e.index),n=Object(qe.a)(e,["children","value","url","index"]),l=localStorage.getItem("token"),o=r.a.useState([]),i=Object(d.a)(o,2),c=i[0],s=i[1];return r.a.useEffect((function(){fetch("https://staging.ellipseapp.com/api/user/get_certificates",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){s(e)}))}))}),[l]),r.a.createElement("div",Object.assign({role:"tabpanel"},n),a===t&&r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===c.length&&r.a.createElement(x.a,null,"No Certificates Register for the event to get one"),c.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:6,key:a},r.a.createElement(pn,{event:e}))})))))},gn=Object(S.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:Object(C.a)({margin:e.spacing(.5),borderRadius:e.spacing(3)},e.breakpoints.down("sm"),{display:"none"}),large:Object(C.a)({width:e.spacing(17),height:e.spacing(17)},e.breakpoints.down("md"),{width:e.spacing(11),height:e.spacing(11)}),tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},iconlarge:Object(C.a)({width:e.spacing(15),height:e.spacing(15)},e.breakpoints.down("md"),{width:e.spacing(10),height:e.spacing(10)})}}));var fn=function(e){localStorage.setItem("tabIndex",3);var a=gn(),t=r.a.useState(0),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useContext(ma).currentUser;return r.a.createElement(kt.a,{className:a.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(h.a,null),r.a.createElement(y.a,{item:!0,xs:!1,sm:!1,md:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:8},r.a.createElement(zt.a,{avatar:r.a.createElement(g.a,{className:a.large,sizes:"100",alt:"profile image",src:null!==i.profile_pic&&"https://staging.ellipseapp.com"+"/api/image?id=".concat(i.profile_pic)},r.a.createElement(nn.a,{className:a.iconlarge})),action:r.a.createElement(f.a,{variant:"outlined",color:"default",className:a.button,onClick:e.handleEditButton},"Edit Profile"),title:r.a.createElement(x.a,{variant:"h4"},i.name),subheader:i.bio})),r.a.createElement(y.a,{item:!0,xs:!1,sm:!1,md:2})),r.a.createElement(_t.a,null,r.a.createElement(ue.a,{className:a.root2},r.a.createElement(pe.a,{value:l,onChange:function(e,a){o(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(de.a,{label:"About"}),r.a.createElement(de.a,{label:"Posted Events"}),r.a.createElement(de.a,{label:"Certificates"}))),r.a.createElement("div",null,r.a.createElement(mn,{handleEditButton:e.handleEditButton,value:l,index:0}),r.a.createElement(Ut,{value:l,index:1}),r.a.createElement(dn,{value:l,index:2}))))},hn=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},button:{marginTop:e.spacing(4)}}}));function En(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var bn=function(e){var a=hn(),t=(e.children,e.value),n=(e.url,e.index),l=Object(qe.a)(e,["children","value","url","index"]),o=r.a.useContext(ma),i=o.currentUser,c=o.setCurrentUser,s=localStorage.getItem("token"),h=r.a.useState([]),b=Object(d.a)(h,2),v=b[0],j=b[1],O=r.a.useState(null),x=Object(d.a)(O,2),C=x[0],S=x[1],k=r.a.useState(null),w=Object(d.a)(k,2),_=w[0],N=w[1],z=r.a.useState(null),I=Object(d.a)(z,2),B=I[0],P=I[1],A=r.a.useState(null),R=Object(d.a)(A,2),W=R[0],F=R[1],H=r.a.useState(null),L=Object(d.a)(H,2),M=L[0],q=L[1],G=r.a.useState(null),U=Object(d.a)(G,2),J=U[0],V=U[1],K=r.a.useState(null),Y=Object(d.a)(K,2),Z=Y[0],Q=Y[1],X=r.a.useState(null),$=Object(d.a)(X,2),re=$[0],ie=$[1],ce=r.a.useState(null),se=Object(d.a)(ce,2),me=se[0],ue=se[1],pe=r.a.useState([]),de=Object(d.a)(pe,2),ge=de[0],fe=de[1],he=r.a.useState(null),Ee=Object(d.a)(he,2),be=Ee[0],ve=Ee[1],ye=r.a.useState(!1),je=Object(d.a)(ye,2),Oe=je[0],xe=je[1],Ce=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),Se=Object(d.a)(Ce,2),ke=Se[0],we=Se[1],_e=r.a.useState(!1),Te=Object(d.a)(_e,2),Ne=Te[0],De=Te[1],ze=ke.vertical,Ie=ke.horizontal,Pe=ke.open,Ae=ke.message,Re=ke.type,We=r.a.useState(!1),Fe=Object(d.a)(We,2),He=Fe[0],Le=Fe[1],Me=r.a.useState(!1),Ge=Object(d.a)(Me,2),Ue=Ge[0],Je=Ge[1];r.a.useEffect((function(){P(i.email),N(i.name),F(i.username),Q(i.designation),ie(i.college_name),ue(i.college_id),q(i.bio),V(i.gender),fetch("https://staging.ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){j(e),e.forEach((function(e){fe((function(a){return[].concat(Object(ia.a)(a),[e.name])}))}))}))}))}),[s]);var Ve=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Updated Successfully"===Ae&&fetch("https://staging.ellipseapp.com/api/users/me",{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){c(e[0])}))})),we(Object(u.a)(Object(u.a)({},ke),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement("div",{className:a.root},r.a.createElement(T.a,{anchorOrigin:{vertical:ze,horizontal:Ie},open:Pe,autoHideDuration:6e3,onClose:Ve,key:ze+Ie},r.a.createElement(En,{onClose:Ve,severity:Re},Ae)),r.a.createElement(y.a,{container:!0,component:"main",justify:"center",spacing:2},r.a.createElement(y.a,{item:!0,xs:12,md:12,alignContent:"center",alignItems:"center"},r.a.createElement(y.a,{container:!0,component:"main",justify:"center",spacing:2},r.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){S(e.target.files[0]);var a=URL.createObjectURL(e.target.files[0]);ve(a),xe(!0)}},style:{display:"none"}}),r.a.createElement(ne.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(oe.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(le.a,null)))},r.a.createElement(g.a,{className:a.large,sizes:"100",alt:"",src:Oe?be:"https://staging.ellipseapp.com"+"/api/image?id=".concat(i.profile_pic)})))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(E.a,{autoComplete:"fullName",name:"fullName",value:_||"",onChange:function(e,a){N(e.target.value)},id:"fullName",label:"Full Name",autoFocus:!0,fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(E.a,{disabled:!0,id:"email",value:B,onChange:function(e,a){P(a)},fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(E.a,{required:!0,fullWidth:!0,id:"username",label:"User Name",value:W,onChange:function(e){F(e.target.value);var a=e.target.value,t=new FormData,n={username:a};t=JSON.stringify(n),Le(!1),Je(!1),fetch("https://staging.ellipseapp.com/api/check_username",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){e.json().then((function(e){"user already exists"===e.message&&(Le(!0),Je(!0))}))}))},name:"username",error:He,helperText:He&&"username already exists"})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(Be.a,{fullWidth:!0,id:"college",options:ge,getOptionLabel:function(e){return e},value:re,onChange:function(e,a){ie(a),v.forEach((function(e){e.name===a&&ue(e._id)}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({name:"college",fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Bio",autoComplete:"off",required:!0,id:"bio",name:"bio",label:"Bio",fullWidth:!0,value:M,onChange:function(e,a){q(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(te.a,{fullWidth:!0,required:!0},r.a.createElement(ae.a,{htmlFor:"gender"},"Gender"),r.a.createElement(ee.a,{value:J,onChange:function(e,a){console.log(e.target.value),V(e.target.value)},fullWidth:!0,native:!0,label:"Age",inputProps:{name:"gender",id:"gender"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Others"},"Others")))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(te.a,{fullWidth:!0,required:!0},r.a.createElement(ae.a,{htmlFor:"designation"},"You are"),r.a.createElement(ee.a,{value:Z,onChange:function(e,a){Q(e.target.value)},fullWidth:!0,native:!0,label:"You are",inputProps:{name:"designation",id:"designation"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Faculty"},"Faculty"),r.a.createElement("option",{value:"Club/Organisation"},"Club/Organisation"),r.a.createElement("option",{value:"Institution"},"Institution"),r.a.createElement("option",{value:"Others"},"Others"))))),r.a.createElement(f.a,{className:a.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),De(!0);try{var a=new FormData,t={name:_,email:B,username:W,college_id:me,designation:Z,gender:J,bio:M};a=JSON.stringify(t),fetch("https://staging.ellipseapp.com/api/users/updateprofile",{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){200===e.status?e.json().then((function(e){if(Oe){var a=new FormData;a.append("image",C),fetch("https://staging.ellipseapp.com/api/users/uploadImage",{headers:{Authorization:"Bearer ".concat(s)},method:"POST",body:a}).then((function(e){200===e.status?(De(!1),we({open:!0,vertical:"top",horizontal:"center",message:"Updated Successfully",type:"success",autoHide:1e3})):(De(!1),we({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong try again",type:"error",autoHide:3e3}))}))}else De(!1),we({open:!0,vertical:"top",horizontal:"center",message:"Updated Successfully",type:"success",autoHide:300})})):(De(!1),we({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong try again",type:"error",autoHide:3e3}))}))}catch(n){De(!1),we({open:!0,vertical:"top",horizontal:"center",message:n.message,type:"error",autoHide:3e3})}},disabled:Ne||Ue},Ne?r.a.createElement(D.a,{color:"primary",size:24}):"Update Profile")))};function vn(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var yn=Object(S.a)((function(e){return{avatar:{backgroundColor:e.palette.primary.main},button:{marginTop:e.spacing(4)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)}}}));var jn=function(e){var a=yn(),t=(e.children,e.value),n=(e.url,e.index),l=Object(qe.a)(e,["children","value","url","index"]),o=r.a.useContext(ma).currentUser,i=localStorage.getItem("token"),c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error"}),s=Object(d.a)(c,2),g=s[0],b=s[1],v=r.a.useState(!1),j=Object(d.a)(v,2),O=j[0],x=j[1],C=g.vertical,S=g.horizontal,k=g.open,w=g.message,_=g.type,N=r.a.useState(null),z=Object(d.a)(N,2),I=z[0],B=z[1],P=r.a.useState(null),A=Object(d.a)(P,2),R=A[0],W=A[1],F=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(null),W(null),b(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement(U.a,{component:"main",maxWidth:"xs"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:C,horizontal:S},open:k,autoHideDuration:2e3,onClose:F,key:C+S},r.a.createElement(vn,{onClose:F,severity:_},w)),r.a.createElement("div",{className:a.paper},r.a.createElement("form",{className:a.form,onSubmit:function(e){x(!0),e.preventDefault();try{var a=new FormData,t={email:o.email,cPassword:I,nPassword:R};a=JSON.stringify(t),fetch("https://staging.ellipseapp.com/api/users/updatepassword",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){200===e.status?e.json().then((function(e){x(!1),b({open:!0,vertical:"top",horizontal:"center",message:e.message,type:"success"})})):401===e.status&&e.json().then((function(e){x(!1),b({open:!0,vertical:"top",horizontal:"center",message:e.error,type:"error"})}))}))}catch(n){x(!1),b({open:!0,vertical:"top",horizontal:"center",message:n.message,type:"error"})}}},r.a.createElement(y.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{required:!0,fullWidth:!0,name:"cPassword",label:"Current Password",type:"password",id:"cPassword",value:I,onChange:function(e){B(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{required:!0,fullWidth:!0,name:"nPassword",label:"New Password",type:"password",id:"nPassword",value:R,onChange:function(e){W(e.target.value)}}))),r.a.createElement(f.a,{className:a.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:O},O?r.a.createElement(D.a,{color:"primary",size:24}):"Update Password")))))},On=Object(S.a)((function(e){return{avatar:{backgroundColor:e.palette.primary.main},button:{marginTop:e.spacing(4)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)}}}));var xn=Object(c.g)((function(e){var a=On(),t=(e.children,e.value),n=(e.url,e.index),l=Object(qe.a)(e,["children","value","url","index"]),o=localStorage.getItem("token"),i=r.a.useState(!1),c=Object(d.a)(i,2),s=c[0],m=c[1];return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n},l),t===n&&r.a.createElement(U.a,{component:"main",maxWidth:"xs"},r.a.createElement(h.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(f.a,{onClick:function(a){m(!0),a.preventDefault();try{fetch("https://staging.ellipseapp.com/api/users/logoutall",{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},method:"POST"}).then((function(a){200===a.status&&a.json().then((function(a){"success"===a.message&&(m(!1),localStorage.removeItem("token"),localStorage.removeItem("tabIndex"),e.history.replace("/"))}))}))}catch(t){m(!1)}},className:a.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:s},s?r.a.createElement(D.a,{color:"primary",size:24}):"Logout of All Devices"))))}));function Cn(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Sn=Object(S.a)((function(e){return{icons:{alignContent:"right",marginRight:e.spacing(2)},root:{flexGrow:1},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"}}}));var kn=function(e){var a=r.a.useState(0),t=Object(d.a)(a,2),n=t[0],l=t[1],o=Sn(),i=Object(W.a)();function c(){e.handleClose()}return r.a.createElement(B.a,{open:e.open,onClose:c,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",style:{minHeight:"400px"},PaperProps:{style:{backgroundColor:i.palette.secondary.main,boxShadow:"none"}},classes:{paper:o.dialog}},r.a.createElement(R.a,{id:"scroll-dialog-title"},r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"center"},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(oe.a,{"aria-label":"close",className:o.closeButton,onClick:c},r.a.createElement(We.a,{fontSize:"large"})))),r.a.createElement("div",{className:o.root},r.a.createElement(he.a,{style:{alignItems:"center"},position:"static",color:"secondary"},r.a.createElement(pe.a,{value:n,onChange:function(e,a){l(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},r.a.createElement(de.a,Object.assign({label:"Update info"},Cn(0))),r.a.createElement(de.a,Object.assign({label:"Change Password"},Cn(1))),r.a.createElement(de.a,Object.assign({label:"More Settings"},Cn(1))))))),r.a.createElement(A.a,{dividers:!0},r.a.createElement(bn,{value:n,index:0}),r.a.createElement(jn,{value:n,index:1}),r.a.createElement(xn,{value:n,index:2})),r.a.createElement(P.a,{alignItems:"center"}))},wn=Object(S.a)((function(e){var a,t;return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3)},accordion:{backgroundColor:e.palette.primary.light},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(C.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(t={borderRadius:e.spacing(50)},Object(C.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(t,"backgroundColor",e.palette.primary.main),Object(C.a)(t,"color",e.palette.primary.light),t),fab:Object(C.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(C.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"})}}));var _n=function(e){var a=wn(),t=r.a.useState(!1),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(!1),c=Object(d.a)(i,2),s=c[0],m=c[1],u=r.a.useContext(rt).activeEvents,p=r.a.useState([]),h=Object(d.a)(p,2),E=h[0],b=h[1];function v(){o(!1),m(!1)}var j=function(){e.history.push("/post")},O=function(e){return function(){b(e),m(!0)}};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:3,lg:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8},r.a.createElement(fn,{handleEditButton:function(){o(!0)}}),r.a.createElement(kn,{open:l,handleClose:v})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2},r.a.createElement(st.a,{color:"primary","aria-label":"add",className:a.fab,onClick:j},r.a.createElement(ut.a,null)),r.a.createElement(ue.a,{className:a.rpaper},r.a.createElement(ue.a,{className:a.subRpaper},r.a.createElement(f.a,{onClick:j,variant:"contained",fullWidth:!0,size:"large",className:a.postButton},"Post Event"),r.a.createElement(ha.a,{className:a.sideList},r.a.createElement(x.a,{variant:"body2"},"Explore Events"),u.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(ba.a,{onClick:O(e),key:a,button:!0},r.a.createElement(va.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(ya.a,{primary:e.name})),r.a.createElement(Ea.a,null))}))))))),r.a.createElement("div",null,r.a.createElement(Ya,{open:s,event:E,handleClose:v,name:E.name,startTime:E.start_time,endTime:E.finish_time,regEndTime:E.registrationEndTime,type:E.eventType,tags:E.tags,mode:E.eventMode,feeType:E.feesType}))))},Tn=t(789),Nn=t(769),Dn=t(783),zn=t(793),In=t(687),Bn=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(0),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));function Pn(e){var a=localStorage.getItem("token"),t=Bn(),n=r.a.useState(!1),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!1),s=Object(d.a)(c,2),m=s[0],u=s[1],p=r.a.useState(!1),g=Object(d.a)(p,2),h=g[0],b=g[1],v=r.a.useState([]),j=Object(d.a)(v,2),O=j[0],x=j[1];r.a.useEffect((function(){fetch("https://staging.ellipseapp.com/api/event/get_event_types",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.forEach((function(e){x((function(a){return[].concat(Object(ia.a)(a),[e.title])}))}))}))}))}),[a]);return r.a.createElement("form",{className:t.form,onSubmit:function(a){a.preventDefault(),null===e.startDate?i(!0):null===e.endDate?u(!0):null===e.regEndDate?b(!0):e.handleNext()}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"eventName",name:"eventName",label:"Name",fullWidth:!0,value:e.name||"",onChange:function(a){e.setName(a.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"shortdesc",name:"shortdesc",label:"Short Description",fullWidth:!0,value:e.desc||"",onChange:function(a){e.setDesc(a.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:6},r.a.createElement(ht.a,{utils:ft.a,required:!0},r.a.createElement(zn.a,{inputProps:{required:!0},minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Start Date",name:"startDate",value:e.startDate,onChange:function(a){i(!1),e.setStartDate(a)},error:o,helperText:o&&"Fill this field"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:6},r.a.createElement(ht.a,{utils:ft.a},r.a.createElement(zn.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"endDate",label:"End Date",name:"endDate",value:e.endDate,onChange:function(a){u(!1),e.setEndDate(a)},error:m,helperText:m&&"Fill this field"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,lg:12},r.a.createElement(ht.a,{utils:ft.a},r.a.createElement(zn.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"regEndDate",label:"Registration End Date",name:"regEndDate",value:e.regEndDate,onChange:function(a){b(!1),e.setRegEndDate(a)},error:h,helperText:h&&"Fill this field"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(te.a,{fullWidth:!0,required:!0},r.a.createElement(ae.a,{htmlFor:"outlined-age-native-simple"},"Mode"),r.a.createElement(ee.a,{fullWidth:!0,native:!0,label:"Mode",inputProps:{name:"eventMode",id:"eventMode"},value:e.eventMode||"",onChange:function(a){e.setEventMode(a.target.value)}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Online"},"Online"),r.a.createElement("option",{value:"Offline"},"Offline")))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(Be.a,{fullWidth:!0,id:"combo-box-demo",options:O,getOptionLabel:function(e){return e},onChange:function(a,t){e.setEventType(t)},value:e.eventType,renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Type"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(te.a,{fullWidth:!0,required:!0},r.a.createElement(ae.a,{htmlFor:"outlined-age-native-simple"},"Registration"),r.a.createElement(ee.a,{fullWidth:!0,native:!0,label:"Registration",inputProps:{name:"registrationMode",id:"registaration mode"},value:e.registrationMode||"",onChange:function(a){"form"===a.target.value?e.setSteps((function(e){return[].concat(Object(ia.a)(e),["Registration Form"])})):"link"===a.target.value&&e.setSteps(["About","More Details"]),e.setRegistrationMode(a.target.value)}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"form"},"Our Platform(Ellipse)"),r.a.createElement("option",{value:"link"},"Other")))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(In.a,{component:"legend"},"Entry Fee"),r.a.createElement(vt.a,{"aria-label":"address",name:"address",defaultValue:"Free",onChange:function(a,t){e.setFeeType(t)},style:{display:"inline"}},r.a.createElement(q.a,{value:"Free",control:r.a.createElement(bt.a,{color:"default"}),label:"Free"}),r.a.createElement(q.a,{value:"Paid",control:r.a.createElement(bt.a,{color:"default"}),label:"Paid"})))),r.a.createElement("div",{className:t.buttons},r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"Next")))}var An=t(694),Rn=t(343),Wn=t.n(Rn),Fn=t(768);function Hn(e){var a=Object(W.a)(),t=function(){e.setOpen(!1)};return r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,onClose:t,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}}},r.a.createElement(R.a,{id:"title"},"Terms and Conditions"),r.a.createElement(A.a,null,r.a.createElement(Fn.a,{id:"alert-dialog-description"},r.a.createElement("ul",null,r.a.createElement("li",null,"The information you provided for the event is true and is appropriate. In case we notice any incorrect information, the event will be suspended and further action would be taken against you."),r.a.createElement("li",null,"The information of participants is only used for event purpose and not for any other purpose. Legal action will be taken if this information is used elsewhere."),r.a.createElement("li",null,"ellipseapp.com reserves the right to update and change these Terms of Service regularly without notice to you or acceptance by you. ")))),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:t,color:"primary",autoFocus:!0},"Dismiss"))))}var Ln=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));function Mn(e){var a=localStorage.getItem("token"),t=Ln(),n=r.a.useState([]),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState([]),s=Object(d.a)(c,2),m=s[0],u=s[1],p=r.a.useState([]),g=Object(d.a)(p,2),h=g[0],b=g[1],v=r.a.useState([]),j=Object(d.a)(v,2),O=j[0],C=j[1],S=r.a.useState(!1),k=Object(d.a)(S,2),w=k[0],_=k[1];return r.a.useEffect((function(){fetch("https://staging.ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){i(e),e.forEach((function(e){u((function(a){return[].concat(Object(ia.a)(a),[e.name])}))}))}))})),fetch("https://staging.ellipseapp.com/api/event/get_event_keywords",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.forEach((function(e){"EventTags"===e.type?b((function(a){return[].concat(Object(ia.a)(a),[e.title])})):"EventRequirements"===e.type&&C((function(a){return[].concat(Object(ia.a)(a),[e.title])}))}))}))}))}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:t.form,onSubmit:function(a){a.preventDefault(),e.handleNext()}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",required:!0,id:"about",name:"about",label:"About",fullWidth:!0,onChange:function(a){e.setAbout(a.target.value)},value:e.about||""})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(Be.a,{multiple:!0,id:"themes",options:h.map((function(e){return e})),freeSolo:!0,value:e.eventThemes||[],onChange:function(a,t){e.setThemes(t)},renderTags:function(e,a){return e.map((function(e,t){return r.a.createElement(Ue.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Event Tags",placeholder:"Event Tags"}))}})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement("input",{id:"contained-button-file",type:"file",accept:"image/*",onChange:function(a){if(a.target.files[0]){e.setPoster(a.target.files[0]);var t=a.target.files[0].name;e.setImageName(t)}},style:{display:"none"}}),r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"eventposter",name:"eventposter",label:"Event Poster",component:"span",value:e.imageName||"",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(An.a,{position:"start"},r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(oe.a,{component:"span"},r.a.createElement(Wn.a,null))))}})),"form"!==e.registrationMode&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"regLink",name:"regLink",label:"Registration Link",fullWidth:!0,value:e.regLink||"",onChange:function(a){e.setRegLink(a.target.value)}})),"Paid"===e.feeType&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"regFees",name:"regFees",label:"Registration Fees",fullWidth:!0,value:e.regFees||"",onChange:function(a){e.setFees(a.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Be.a,{multiple:!0,id:"tags-filled",options:O.map((function(e){return e})),freeSolo:!0,value:e.requirements||[],onChange:function(a,t){e.setRequirements(t)},renderTags:function(e,a){return e.map((function(e,t){return r.a.createElement(Ue.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Prerequisites",placeholder:"Requirements"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Be.a,{fullWidth:!0,id:"combo-box-demo",options:m,value:e.college||[],getOptionLabel:function(e){return e},onChange:function(a,t){e.setCollegeName(t),o.forEach((function(a){a.name===t&&e.setCollegeId(a._id)}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(In.a,{component:"legend"},"Participation"),r.a.createElement(vt.a,{"aria-label":"address",name:"address",defaultValue:"open",onChange:function(a,t){e.setParticipantsType(t)},style:{display:"inline"}},r.a.createElement(q.a,{value:"open",control:r.a.createElement(bt.a,{color:"default"}),label:"Open for all"}),r.a.createElement(q.a,{value:"onlycollege",control:r.a.createElement(bt.a,{color:"default"}),label:"Only ".concat(e.college)}))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(In.a,{required:!0,component:"legend"},"Participation Type"),r.a.createElement(vt.a,{required:!0,"aria-label":"address",name:"teamed",defaultValue:"individual",onChange:function(a,t){"team"===t?e.setIsTeam(!0):e.setIsTeam(!1)},style:{display:"inline"}},r.a.createElement(q.a,{value:"individual",control:r.a.createElement(bt.a,{color:"default"}),label:"Individual"}),r.a.createElement(q.a,{value:"team",control:r.a.createElement(bt.a,{color:"default"}),label:"Team"}))),e.isTeam&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",required:!0,type:"number",id:"maxTeam",name:"minTeam",label:"Minimum Team Members",fullWidth:!0,value:e.minTeamSize||"",onChange:function(a){e.setMinTeamSize(a.target.value)}})),e.isTeam&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",required:!0,type:"number",id:"maxTeam",name:"maxTeam",label:"Maximum Team Members",fullWidth:!0,value:e.maxTeamSize||"",onChange:function(a){e.setMaxTeamSize(a.target.value)}})),"Online"===e.eventMode&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,helperText:"Enter links of your and you can also add or edit later in event edit",rows:"5",variant:"outlined",placeholder:"Enter details about your online platform",autoComplete:"off",id:"platform",name:"platform",label:"Platform",fullWidth:!0,onChange:function(a){e.setPlatformDetails(a.target.value)},value:e.platformDetails||""})),"Offline"===e.eventMode&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(In.a,{component:"legend"},"Venue"),r.a.createElement(vt.a,{"aria-label":"address","aria-disabled":!0,name:"address",defaultValue:"college",onChange:function(a,t){e.setAddressType(t)},style:{display:"inline"}},r.a.createElement(q.a,{value:"College",control:r.a.createElement(bt.a,{color:"default"}),label:"College/University"}),r.a.createElement(q.a,{value:"Other",control:r.a.createElement(bt.a,{color:"default"}),label:"Others"}))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,helperText:"Enter links of your and you can also add or edit later in event edit",rows:"5",variant:"outlined",placeholder:"Room No,Building,College,State,Pincode",autoComplete:"off",onChange:function(a){e.setBuilding(a.target.value)},value:e.building,id:"building",name:"building",label:"Venue",fullWidth:!0}))),"form"!==e.registrationMode&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(x.a,null,"By posting the event.I accept the ",r.a.createElement(f.a,{onClick:function(){_(!0)},color:"primary"},"Terms and Conditions")))),r.a.createElement("div",{className:t.buttons},r.a.createElement(f.a,{onClick:e.handleBack,className:t.button},"Back"),r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"form"!==e.registrationMode?"POST":"NEXT"))),r.a.createElement(Hn,{open:w,setOpen:_}))}var qn=t(695);function Gn(e){var a=Object(W.a)(),t=r.a.useState(null),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(null),c=Object(d.a)(i,2),s=c[0],m=c[1],u=r.a.useState(["option1","option2"]),p=Object(d.a)(u,2),g=p[0],h=p[1];return r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Add Field"),r.a.createElement(A.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"name",label:"Field Name",name:"name",fullWidth:!0,value:l,required:!0,onChange:function(e){o(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(te.a,{fullWidth:!0,required:!0},r.a.createElement(ae.a,{htmlFor:"outlined-age-native-simple"},"Type"),r.a.createElement(ee.a,{fullWidth:!0,native:!0,label:"Type",inputProps:{name:"type",id:"outlined-age-native-simple"},value:e.eventMode,onChange:function(e){m(e.target.value)}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"short_text"},"Short Text"),r.a.createElement("option",{value:"paragraph"},"Long Description"),r.a.createElement("option",{value:"dropdown"},"Drop Down"),r.a.createElement("option",{value:"date"},"Date & Time"),r.a.createElement("option",{value:"radiobuttons"},"Radio Button"),r.a.createElement("option",{value:"checkboxes"},"Check Box"),r.a.createElement("option",{value:"link"},"Link")))),("radiobuttons"===s||"checkboxes"===s||"dropdown"===s)&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Be.a,{multiple:!0,id:"tags-filled",options:[].map((function(e){return e})),freeSolo:!0,value:g||[],onChange:function(e,a){h(a)},renderTags:function(e,a){return e.map((function(e,t){return r.a.createElement(Ue.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Options",placeholder:"Options",helperText:"you can choose multiple options for your checkboxes or radio buttons enter one option and press enter"}))}})))),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){"radiobuttons"!==s&&"checkboxes"!==s&&"dropdown"!==s?e.handleAdd(Object(C.a)({},l,{title:l,field:s,options:[]}),l):e.handleAdd(Object(C.a)({},l,{title:l,field:s,options:g}),l),e.handleClose()},color:"primary"},"Add"))))}var Un=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},formControl:{},formgroup:{marginTop:e.spacing(1)},root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}));function Jn(e){var a=Un(),t=r.a.useState(!1),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(!1),c=Object(d.a)(i,2),s=c[0],g=c[1],h={name:{title:"Name",field:"short_text",options:[]},email:{title:"Email",field:"short_text",options:[]},college:{title:"College",field:"short_text",options:[]}},E=r.a.useState([h.name,h.email]),b=Object(d.a)(E,2),v=b[0],j=b[1],O=r.a.useState({name:!0,email:!0,college:!1}),S=Object(d.a)(O,2),k=S[0],w=S[1],_=function(e){w(Object(u.a)(Object(u.a)({},k),{},Object(C.a)({},e.target.name,e.target.checked)));var a=e.target.name;e.target.checked?j((function(e){return[].concat(Object(ia.a)(e),[h[a]])})):e.target.checked||j((function(e){return e.filter((function(e){return e.title!==a}))}))},T=k.name,N=k.email,D=k.college;function z(){return(z=Object(p.a)(m.a.mark((function a(t){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,e.setFields(v);case 3:e.handlePost(v);case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:a.form,onSubmit:function(e){return z.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(Gn,{open:l,handleClose:function(){o(!1)},handleAdd:function(e,a){j((function(t){return[].concat(Object(ia.a)(t),[e[a]])}))}}),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(te.a,{component:"fieldset",className:a.formControl},r.a.createElement(In.a,{component:"legend"},"Fields for your Registration Form"),r.a.createElement(qn.a,{className:a.formgroup},r.a.createElement(q.a,{control:r.a.createElement(G.a,{disabled:!0,color:"primary",checked:T,onChange:_,name:"name"}),label:"Name"}),r.a.createElement(q.a,{control:r.a.createElement(G.a,{disabled:!0,color:"primary",checked:N,onChange:_,name:"email"}),label:"Email"}),r.a.createElement(q.a,{control:r.a.createElement(G.a,{color:"primary",checked:D,onChange:_,name:"college"}),label:"College"})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",color:"default",onClick:function(){o(!0)}},"Add More")),r.a.createElement(y.a,null,r.a.createElement(ue.a,{component:"ul",className:a.root},v.map((function(e){return r.a.createElement("li",{key:e.key},r.a.createElement(Ue.a,{label:e.title,onDelete:(t=e,function(){"College"===t.title?(w(Object(u.a)(Object(u.a)({},k),{},{college:!1})),j((function(e){return e.filter((function(e){return e.title!==t.title}))}))):"Name"!==t.title&&"Email"!==t.title&&(w(Object(u.a)(Object(u.a)({},k),{},Object(C.a)({},t.title.toLowercase,!1))),j((function(e){return e.filter((function(e){return e.title!==t.title}))})))}),className:a.chip}));var t})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(x.a,null,"By posting the event.I accept the",r.a.createElement(f.a,{color:"primary",onClick:function(){g(!0)}},"Terms and Conditions")))),r.a.createElement("div",{className:a.buttons},r.a.createElement(f.a,{onClick:e.handleBack,className:a.button},"Back"),r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:a.button},"Post"))),r.a.createElement(Hn,{open:s,setOpen:g}))}function Vn(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function Kn(){return r.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(b.a,{color:"inherit",href:"https://ellipseapp.com/"},"ellipseapp.com")," ",(new Date).getFullYear(),".")}var Yn=Object(S.a)((function(e){var a;return{appBar:{position:"relative"},layout:Object(C.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:(a={marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(2)},Object(C.a)(a,e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(3),marginBottom:e.spacing(1),padding:e.spacing(3)}),Object(C.a)(a,"backgroundColor",e.palette.secondary.main),a),stepper:{padding:e.spacing(3,8,2),backgroundColor:e.palette.secondary.main},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},closeButton:Object(C.a)({position:"absolute",right:e.spacing(1),top:e.spacing(7)},e.breakpoints.down("md"),{top:e.spacing(12)}),backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function Zn(e){var a=e.history,t=Yn(),n=localStorage.getItem("token"),l=r.a.useContext(ma).currentUser,o=r.a.useState(0),i=Object(d.a)(o,2),c=i[0],s=i[1],g=r.a.useState(["About","More Details"]),f=Object(d.a)(g,2),E=f[0],b=f[1],v=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),y=Object(d.a)(v,2),j=y[0],O=y[1],C=r.a.useState(!1),S=Object(d.a)(C,2),k=S[0],w=S[1],_=j.vertical,N=j.horizontal,z=j.open,I=j.message,B=j.type,P=j.autoHide,A=r.a.useState(null),R=Object(d.a)(A,2),W=R[0],F=R[1],H=r.a.useState(null),L=Object(d.a)(H,2),M=L[0],q=L[1],G=r.a.useState(null),U=Object(d.a)(G,2),J=U[0],V=U[1],K=r.a.useState(null),Y=Object(d.a)(K,2),Z=Y[0],Q=Y[1],X=r.a.useState(null),$=Object(d.a)(X,2),ee=$[0],ae=$[1],te=r.a.useState(null),ne=Object(d.a)(te,2),re=ne[0],le=ne[1],ie=r.a.useState(null),ce=Object(d.a)(ie,2),se=ce[0],pe=ce[1],de=r.a.useState(null),ge=Object(d.a)(de,2),fe=ge[0],he=ge[1],Ee=r.a.useState("Free"),be=Object(d.a)(Ee,2),ve=be[0],ye=be[1],je=r.a.useState(null),Oe=Object(d.a)(je,2),xe=Oe[0],Ce=Oe[1],Se=r.a.useState(null),ke=Object(d.a)(Se,2),we=ke[0],_e=ke[1],Te=r.a.useState(null),Ne=Object(d.a)(Te,2),De=Ne[0],ze=Ne[1],Ie=r.a.useState([]),Be=Object(d.a)(Ie,2),Pe=Be[0],Ae=Be[1],Re=r.a.useState([]),Fe=Object(d.a)(Re,2),He=Fe[0],Le=Fe[1],Me=r.a.useState(null),qe=Object(d.a)(Me,2),Ge=qe[0],Ue=qe[1],Je=r.a.useState(null),Ve=Object(d.a)(Je,2),Ke=Ve[0],Ye=Ve[1],Ze=r.a.useState(l.college_name),Qe=Object(d.a)(Ze,2),Xe=Qe[0],$e=Qe[1],ea=r.a.useState(l.college_id),aa=Object(d.a)(ea,2),ta=aa[0],na=aa[1],ra=r.a.useState(null),la=Object(d.a)(ra,2),oa=la[0],ia=la[1],ca=r.a.useState(l.name+","+l.college_name),sa=Object(d.a)(ca,2),ua=sa[0],pa=sa[1],da=r.a.useState(null),ga=Object(d.a)(da,2),fa=ga[0],ha=ga[1],Ea=r.a.useState("open"),ba=Object(d.a)(Ea,2),va=ba[0],ya=ba[1],ja=r.a.useState([]),Oa=Object(d.a)(ja,2),xa=Oa[0],Ca=Oa[1],Sa=r.a.useState(""),ka=Object(d.a)(Sa,2),wa=ka[0],_a=ka[1],Ta=r.a.useState(null),Na=Object(d.a)(Ta,2),Da=Na[0],za=Na[1],Ia=r.a.useState(!1),Ba=Object(d.a)(Ia,2),Pa=Ba[0],Aa=Ba[1],Ra=r.a.useState(1),Wa=Object(d.a)(Ra,2),Fa=Wa[0],Ha=Wa[1],La=r.a.useState(1),Ma=Object(d.a)(La,2),qa=Ma[0],Ga=Ma[1];var Ua=function(e){var a=!1;"open"===va&&(a=!0),w(!0);try{var t=new FormData,r={user_id:l.user_id,name:W,description:M,start_time:ee,finish_time:re,registration_end_time:se,event_mode:J,event_type:fe,tags:Pe,reg_link:we,fee:De,about:Z,fee_type:ve,requirements:He,college_name:Xe,college_id:ta,venue_type:Ke,venue:oa,reg_fields:e,reg_mode:xe,o_allowed:a,platform_details:wa,isTeamed:Pa,team_size:{min_team_size:Fa,max_team_size:qa}};t=JSON.stringify(r),fetch("https://staging.ellipseapp.com/api/events",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){200===e.status?e.json().then((function(e){var a=new FormData;a.append("image",Ge),fetch("https://staging.ellipseapp.com"+"/api/event/uploadimage?id=".concat(e.eventId),{headers:{Authorization:"Bearer ".concat(n)},method:"POST",body:a}).then((function(e){200===e.status?e.json().then((function(e){w(!1),O({open:!0,vertical:"top",horizontal:"center",message:"Event added successfully.Manage your posted events from your profile page",type:"success",autoHide:"4000"})})):(w(!1),O({open:!0,vertical:"top",horizontal:"center",message:"Poster upload is not successfull try again in edit event in your events",type:"error",autoHide:"5000"}))}))})):e.json().then((function(e){}))}))}catch(o){w(!1),O({open:!0,vertical:"top",horizontal:"center",message:o.message,type:"error",autoHide:"5000"})}};function Ja(e){Ca(e)}function Va(){Ua(null)}var Ka=function(){s(c+1)},Ya=function(){s(c-1),Aa(!1)};var Za=function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Event added successfully.Manage your posted events from your profile page"===I&&a.replace("/home"),O(Object(u.a)(Object(u.a)({},j),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:_,horizontal:N},open:z,autoHideDuration:P,onClose:Za,key:_+N},r.a.createElement(Vn,{onClose:Za,severity:B},I)),r.a.createElement(me.a,{open:k,className:t.backdrop},r.a.createElement(D.a,null)),r.a.createElement("main",{className:t.layout},r.a.createElement(oe.a,{"aria-label":"close",className:t.closeButton,onClick:function(){a.goBack()}},r.a.createElement(We.a,{fontSize:"large"})),r.a.createElement(ue.a,{className:t.paper},r.a.createElement(x.a,{component:"h1",variant:"h4",align:"center"},"Post your Event"),r.a.createElement(Tn.a,{activeStep:c,className:t.stepper},E.map((function(e){return r.a.createElement(Nn.a,{key:e},r.a.createElement(Dn.a,null,e))}))),r.a.createElement(r.a.Fragment,null,c===E.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{variant:"h5",gutterBottom:!0},"Thank you.")):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(Pn,{name:W,desc:M,startDate:ee,endDate:re,regEndDate:se,eventMode:J,eventType:fe,about:Z,feeType:ve,registrationMode:xe,setName:F,setDesc:q,setStartDate:ae,setEndDate:le,setRegEndDate:pe,setEventMode:V,setEventType:he,setRegistrationMode:Ce,setAbout:Q,handleNext:Ka,setFeeType:ye,steps:E,setSteps:b});case 1:return r.a.createElement(Mn,{handleBack:Ya,handleEventPost:Ua,eventMode:J,feeType:ve,eventThemes:Pe,eventPoster:Ge,regLink:we,regFees:De,about:Z,requirements:He,college:Xe,building:oa,organizer:ua,registrationMode:xe,venueCollege:fa,participantsType:va,platformDetails:wa,poster:Ge,isTeam:Pa,minTeamSize:Fa,maxTeamSize:qa,setIsTeam:Aa,setMinTeamSize:Ha,setMaxTeamSize:Ga,imageName:Da,setImageName:za,setPlatformDetails:_a,setThemes:Ae,setPoster:Ue,setRegLink:_e,setFees:ze,setRequirements:Le,setOrganizer:pa,setAddressType:Ye,setCollegeName:$e,setCollegeId:na,setBuilding:ia,setVenueCollege:ha,setAbout:Q,setParticipantsType:ya,handleNext:"form"===xe?Ka:Va});case 2:return r.a.createElement(Jn,{handleBack:Ya,fields:xa,setFields:Ja,handlePost:Ua});default:throw new Error("Unknown step")}}(c)))),r.a.createElement(Kn,null)))}var Qn=Object(S.a)((function(e){return{bottomBar:{padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)}}}));function Xn(e){var a=Qn(),t=r.a.useState(!0),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(null),c=Object(d.a)(i,2),s=c[0],m=c[1];return r.a.createElement(v.a,{className:a.bottomBar,display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(E.a,{disabled:e.loading,fullWidth:!0,placeholder:"Type your message",multiline:!0,onChange:function(e){m(e.target.value),o(!1),""===e.target.value&&o(!0)},value:s||"",rowsMax:"3",onKeyUp:function(a){console.log(s),s.length>1&&(console.log(s.length),13!==a.keyCode||a.shiftKey||(a.preventDefault(),e.handleSend(s),o(!0),m("")))}}),r.a.createElement(oe.a,{onClick:function(a){e.handleSend(s),o(!0),m("")},disabled:l,className:a.sendIcon},r.a.createElement(da.a,null)))}var $n=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},topBar:{height:"100%"},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},message:{display:"flex",justifyContent:"flex-start"},message2:{display:"none"},message3:{display:"flex",justifyContent:"flex-end"},inline:{whiteSpace:"pre-line"},textField:{position:"sticky",bottom:0},header:{position:"sticky",top:65,backgroundColor:e.palette.secondary.main,padding:e.spacing(2),zIndex:8}}}));function er(e){e.children;var a=e.value,t=(e.url,e.index),n=Object(qe.a)(e,["children","value","url","index"]),l=r.a.useContext(ma).currentUser,o=e.user,i=localStorage.getItem("token"),c=e.event,s=e.event,m=r.a.useState(!1),u=Object(d.a)(m,2),p=u[0],f=u[1],h=r.a.useState(null),E=Object(d.a)(h,2),b=E[0],y=E[1],j=r.a.useState([]),O=Object(d.a)(j,2),C=O[0],S=O[1],k=$n(),w=null,_=r.a.useState(null),T=Object(d.a)(_,2),N=T[0],z=T[1],I=function(){var a=new WebSocket("wss://staging.ellipseapp.com/ws/");a.onopen=function(){z(a),"event"===e.chatType?a.send(JSON.stringify({action:"join_event_room",event_id:c._id,msg:{user_id:l.user_id}})):a.send(JSON.stringify({action:"join_team_room",team_id:c._id,msg:{user_id:l.user_id}})),a.onmessage=function(a){var t=JSON.parse(a.data),n=t.msg;"event"===e.chatType?t.event_id===c._id&&S((function(e){return[].concat(Object(ia.a)(e),[n])})):t.team_id===c._id&&S((function(e){return[].concat(Object(ia.a)(e),[n])}))},f(!1)},a.onclose=function(){B(),console.log("closed")}};r.a.useEffect((function(){return f(!0),"event"===e.chatType?fetch("https://staging.ellipseapp.com"+"/api/chat/load_messages?id=".concat(c._id),{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){S(e),I()}))})):fetch("https://staging.ellipseapp.com"+"/api/chat/load_team_chat_messages?id=".concat(c._id),{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){S(e),I()}))})),null!=b&&b.scrollIntoView({behavior:"smooth"}),function(){S([]),Object(Ge.a)()}}),[c._id,i]),r.a.useEffect((function(){null!=b&&b.scrollIntoView({behavior:"smooth"})}),[p]),r.a.useEffect((function(){return null!=b&&b.scrollIntoView({behavior:"smooth"}),function(){Object(Ge.a)()}}),[C,b]);var B=function(){N&&N.readyState!==WebSocket.readyState||(console.log("checking"),I())};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==t},n),a===t&&r.a.createElement("div",null,r.a.createElement("div",{className:k.header},r.a.createElement(x.a,null,"event"===e.chatType?c.name:s.team_name)),r.a.createElement("div",{className:k.progress},r.a.createElement(Sa.a,{in:p,unmountOnExit:!0},r.a.createElement(D.a,null))),r.a.createElement(v.a,{className:k.topBar},C.map((function(e,a){var t=new Date,n=new Date(e.date),l=new Date(e.date);return n.toDateString()!==w?(w=n.toDateString(),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ea.a,null),r.a.createElement(v.a,{m:1,p:1,key:a,position:"sticky",className:k.root6},r.a.createElement(x.a,{variant:"body2"},t.toDateString()===n.toDateString()?"Today":n.toDateString())),r.a.createElement(v.a,{m:1,p:1,key:a+1,className:k.root3},r.a.createElement(v.a,{className:k.root5},r.a.createElement(g.a,{variant:"square",alt:e.userName,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:k.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:k.message},r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body1"},e.user_name+"   ")),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(x.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+l.toLocaleTimeString([],{timeStyle:"short"})))),r.a.createElement(v.a,null,r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Ca.a,{style:{color:"#aaaaaa"}})),o.user_id===e.user_id&&r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Oa.a,{style:{color:"#aaaaaa"}})))),r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body2",style:{fontSize:"1.2em"},color:"textSecondary"},e.message)))))):r.a.createElement(v.a,{m:1,p:1,key:a+1,className:k.root3},r.a.createElement(v.a,{className:k.root5},r.a.createElement(g.a,{variant:"square",alt:e.userName,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:k.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:k.message},r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body1"},e.user_name+"   ")),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(x.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+l.toLocaleTimeString([],{timeStyle:"short"})))),r.a.createElement(v.a,null,r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Ca.a,{style:{color:"#aaaaaa"}})),o.user_id===e.user_id&&r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Oa.a,{style:{color:"#aaaaaa"}})))),r.a.createElement(v.a,{whiteSpace:"normal"},r.a.createElement(x.a,{className:k.inline,variant:"body2",style:{fontSize:"1.2em"},color:"textSecondary"},e.message))))})),r.a.createElement("div",{style:{float:"left",clear:"both",paddingBottom:"60px"},ref:function(e){y(e)}})),r.a.createElement("div",{className:k.textField},r.a.createElement(Xn,{loading:p,open:void 0,handleSend:function(a){var t=new Date;"event"===e.chatType?N.send(JSON.stringify({action:"send_message",event_id:c._id,msg:{id:o.user_id+Date.now(),user_id:o.user_id,user_name:o.name,user_pic:o.profile_pic,message:a,date:t.toISOString()}})):N.send(JSON.stringify({action:"send_team_message",team_id:c._id,msg:{id:o.user_id+Date.now(),user_id:o.user_id,user_name:o.name,user_pic:o.profile_pic,message:a,date:t.toISOString()}})),null!=b&&b.scrollIntoView({behavior:"smooth"})}}))))}var ar=t(255),tr=t.n(ar),nr=Object(S.a)((function(e){return{root:Object(C.a)({position:"fixed",width:"25%",height:"93%",backgroundColor:e.palette.secondary.main},e.breakpoints.down("sm"),{width:"100%",height:"86%"}),root2:{position:"relative",overflow:"auto",maxHeight:"100%",width:"100%"},nested:{paddingLeft:e.spacing(4)}}}));var rr=function(e){var a=localStorage.getItem("token"),t=nr(),n=r.a.useContext(Za).allEvents,l=r.a.useState([]),o=Object(d.a)(l,2),i=o[0],c=o[1],s=r.a.useState([0]),m=Object(d.a)(s,2),u=m[0],p=m[1],f=n.filter((function(e){return!0===e.registered}));r.a.useEffect((function(){fetch("https://staging.ellipseapp.com/api/user/get_all_teams",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){c(e),console.log(e)})):401===e.status&&localStorage.removeItem("token")}))}),[a]);var h=function(a,t){return function(){var n=u.indexOf(a),r=[];-1===n?r.push(a):r.splice(n,1),e.setChatType("event"),e.setChatId(a),e.setAdminId(t),p(r)}},E=function(a,t){return function(){var n=u.indexOf(a),r=[];-1===n?r.push(a):r.splice(n,1),e.setChatType("team"),e.setChatId(a),e.setAdminId(t),p(r)}};return r.a.createElement("div",null,r.a.createElement("div",{className:t.root},r.a.createElement(ue.a,{className:t.root},r.a.createElement(ha.a,{className:t.root2},f.map((function(e){var a="checkbox-list-label-".concat(e._id);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ba.a,{key:e._id,role:void 0,dense:!0,button:!0,selected:-1!==u.indexOf(e),onClick:h(e,e.user_id)},r.a.createElement(gt.a,null,r.a.createElement(va.a,null,r.a.createElement(g.a,{alt:"Avatar n\xb0".concat(e+1),src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.poster_url)}))),r.a.createElement(ya.a,{id:a,primary:e.name}),r.a.createElement(tr.a,null)))})),i.map((function(e){var a="checkbox-list-label-".concat(e._id);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ba.a,{key:e._id,role:void 0,dense:!0,button:!0,selected:-1!==u.indexOf(e),onClick:E(e,e.user_id)},r.a.createElement(gt.a,null,r.a.createElement(va.a,null,r.a.createElement(g.a,{src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.posterUrl)}))),r.a.createElement(ya.a,{id:a,primary:e.team_name}),r.a.createElement(tr.a,null)))}))))))},lr=Object(S.a)((function(e){var a;return{root:(a={},Object(C.a)(a,e.breakpoints.down("sm"),{display:"none"}),Object(C.a)(a,"backgroundColor",e.palette.primary.light),a),icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},nested:{paddingLeft:e.spacing(4)}}}));var or=function(e){e.history;var a=r.a.useContext(ma).currentUser,t=lr(),n=r.a.useState(null),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(null),s=Object(d.a)(c,2),m=s[0],u=s[1],p=r.a.useState([0]),g=Object(d.a)(p,2),f=g[0],h=g[1],E=r.a.useState(""),b=Object(d.a)(E,2),v=b[0],j=b[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:3,lg:3},r.a.createElement(rr,{chatType:v,setChatType:j,checked:f,setChecked:h,setAdminId:u,setChatId:i})),r.a.createElement(y.a,{item:!0,xs:9,sm:12,md:9,lg:9},r.a.createElement(ue.a,{className:t.root},null!=o&&r.a.createElement(er,{chatType:v,user:a,adminId:m,event:o}))))))},ir=t(791),cr=t(347),sr=t.n(cr),mr=t(346),ur=t.n(mr),pr=t(350),dr=t.n(pr),gr=t(348),fr=t.n(gr),hr=t(349),Er=t.n(hr),br=t(351),vr=t.n(br),yr=t(344),jr=t.n(yr),Or=Object(S.a)((function(e){var a,t;return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),grow:{flexGrow:1,alignItems:"center"},sectionDesktop:Object(C.a)({},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(C.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),tabs:Object(C.a)({display:"none"},e.breakpoints.up("lg"),{display:"flex",flexDirection:"row",marginLeft:e.spacing(4)}),mobiletab:Object(C.a)({display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.up("lg"),{display:"none"}),tabPanel:{marginBottom:e.spacing(3)},flex_section:{flexGrow:1,display:"flex",flexDirection:"row"},flex_col_scroll:{flexGrow:1,overflow:"auto"},title:(a={display:"none"},Object(C.a)(a,e.breakpoints.up("sm"),{display:"block"}),Object(C.a)(a,"fontFamily","Gugi"),Object(C.a)(a,"marginLeft",e.spacing(1)),Object(C.a)(a,"color",e.palette.primary.dark),Object(C.a)(a,"fontWeight","bold"),a),"@global":{"*::-webkit-scrollbar":{width:"0.5em",height:"0.5em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.00)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#ad9d9d",outline:"1px solid slategrey"}},mobileTitle:Object(C.a)({},e.breakpoints.up("sm"),{display:"none"}),titleButton:(t={display:"none"},Object(C.a)(t,e.breakpoints.up("sm"),{display:"inline-block"}),Object(C.a)(t,"margin",e.spacing(0)),Object(C.a)(t,"padding",e.spacing(0)),Object(C.a)(t,"textTransform","none"),t),eventName:Object(C.a)({},e.breakpoints.down("sm"),{display:"none"})}}));function xr(e){var a=Or(),t=localStorage.getItem("theme"),n=r.a.useState(null),l=Object(d.a)(n,2),o=l[0],i=l[1],s=r.a.useState("light"!==t),m=Object(d.a)(s,2),u=m[0],p=m[1],g=Boolean(o),E=localStorage.getItem("token"),b=r.a.useState(!1),v=Object(d.a)(b,2),y=v[0],j=v[1],O=r.a.useState(!0),S=Object(d.a)(O,2),k=S[0],w=S[1],_=r.a.useState(!0),T=Object(d.a)(_,2),N=T[0],D=T[1];if(r.a.useEffect((function(){fetch("https://staging.ellipseapp.com/api/users/me",{headers:{Authorization:"Bearer ".concat(E),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(a){200===a.status?a.json().then((function(a){e.setUser(a[0]),null===a[0].college_name&&D(!1)})):401===a.status&&(localStorage.removeItem("token"),w(!1))}))}),[E]),!E)return r.a.createElement(c.a,{to:"/"});if(!k)return r.a.createElement(c.a,{to:"/"});if(!N)return r.a.createElement(c.a,{to:"/userinfo"});var z="primary-search-account-menu",I=r.a.createElement(ve.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:z,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:function(){i(null)}},r.a.createElement(be.a,null," Dark Theme ",r.a.createElement($a.a,{checked:u,onChange:function(e){p(e.target.checked),e.target.checked?(localStorage.setItem("theme","dark"),window.location.reload(!1)):(localStorage.setItem("theme","light"),window.location.reload(!1))},color:"primary",name:"checkedB",inputProps:{"aria-label":"dark mode checkbox"}})),r.a.createElement(be.a,{onClick:function(a){fetch("https://staging.ellipseapp.com/api/users/logout",{headers:{Authorization:"Bearer ".concat(E),"Content-Type":"application/json"},method:"POST"}).then((function(a){a.json().then((function(a){"success"===a.message&&(localStorage.removeItem("token"),localStorage.removeItem("tabIndex"),e.handleSignout())}))}))}},"Log Out"));function B(){localStorage.setItem("tabIndex",0),e.handleHomeClick()}return r.a.createElement("div",{className:a.root},r.a.createElement(h.a,null),r.a.createElement(he.a,{position:"fixed",color:"secondary",className:Object(ua.a)(a.appBar,Object(C.a)({},a.appBarShift,e.dOpen))},r.a.createElement(Ee.a,null,r.a.createElement(oe.a,{color:"inherit","aria-label":"open drawer",onClick:function(){e.setDOpen(!0)},edge:"start",className:Object(ua.a)(a.menuButton,Object(C.a)({},a.hide,e.dOpen))},r.a.createElement(jr.a,{color:"primary"})),r.a.createElement("img",{src:et,alt:"logo",onClick:B,className:a.mobileTitle}),r.a.createElement(f.a,{className:a.titleButton,onClick:B},r.a.createElement(x.a,{className:a.title,variant:"h5",noWrap:!0},"Ellipse")),r.a.createElement("div",{className:a.grow}),r.a.createElement(x.a,{className:a.eventName,variant:"h5",noWrap:!0},e.event.name),r.a.createElement("div",{className:a.grow}),r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(oe.a,{onClick:function(){e.handleHomeClick()}},r.a.createElement(Ie.a,null)),r.a.createElement(oe.a,{"aria-label":"notifications",color:"inherit",onClick:function(){j(!0)}},r.a.createElement(ne.a,{badgeContent:0,color:"secondary"},r.a.createElement(xe.a,null))),r.a.createElement(oe.a,{edge:"end","aria-label":"account of current user","aria-controls":z,"aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit"},r.a.createElement(De.a,null))))),I,r.a.createElement(Xa,{open:y,handleClose:function(){j(!1)}}))}var Cr=Object(S.a)((function(e){return{root:{display:"flex",alignItems:"flex-start",alignContent:"flex-start",width:"100%"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main},timiline:{},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"}}}));function Sr(e){var a=localStorage.getItem("token"),t=Cr(),n=(e.children,e.value),l=(e.url,e.index),o=Object(qe.a)(e,["children","value","url","index"]),i=e.event,c=r.a.useState([]),s=Object(d.a)(c,2),m=s[0],u=s[1];r.a.useEffect((function(){fetch("https://staging.ellipseapp.com"+"/api/event/get_announcements?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){u(e)}))}))}),[a,i._id]);var p=function(e){return function(){fetch("https://staging.ellipseapp.com"+"/api/event/delete_announcement?id=".concat(e._id,"&event_id=").concat(i._id),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST"}).then((function(e){e.json().then((function(e){u(e)}))}))}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l},o),n===l&&r.a.createElement("div",null,m.map((function(e,a){var n=new Date(e.time);return r.a.createElement(v.a,{m:1,p:1,key:a,className:t.root3},r.a.createElement(v.a,{className:t.root2,whiteSpace:"normal"},r.a.createElement(x.a,{className:t.title},e.title),r.a.createElement(x.a,{className:t.pos},e.description)),r.a.createElement(v.a,{className:t.root5},r.a.createElement(x.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())),r.a.createElement(v.a,{className:t.root5},r.a.createElement(f.a,{onClick:p(e)},"Delete")))}))))}var kr=t(771),wr=t(775),_r=t(774),Tr=t(770),Nr=t(772),Dr=t(790),zr=t(773);function Ir(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function Br(e){var a=Object(W.a)(),t=localStorage.getItem("token"),n=r.a.useState(null),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(null),s=Object(d.a)(c,2),g=s[0],h=s[1],b=r.a.useState("All"),v=Object(d.a)(b,2),j=v[0],O=v[1],x=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),C=Object(d.a)(x,2),S=C[0],k=C[1],w=r.a.useState(!1),_=Object(d.a)(w,2),N=_[0],z=_[1],I=S.vertical,F=S.horizontal,H=S.open,L=S.message,M=S.type,G=S.autoHide;var U=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(Object(u.a)(Object(u.a)({},S),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:I,horizontal:F},open:H,autoHideDuration:G,onClose:U,key:I+F},r.a.createElement(Ir,{onClose:U,severity:M},L)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Add Announcement"),r.a.createElement(A.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",name:"title",fullWidth:!0,value:o,required:!0,onChange:function(e){i(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"description",label:"Description",name:"description",fullWidth:!0,value:g,required:!0,onChange:function(e){h(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(In.a,{component:"legend"},"Announcement visibility"),r.a.createElement(vt.a,{"aria-label":"address",name:"address",value:j,onChange:function(e,a){console.log(a),O(a)},style:{display:"inline"}},r.a.createElement(q.a,{value:"All",control:r.a.createElement(bt.a,{color:"default"}),label:"All"}),r.a.createElement(q.a,{value:"Registered Users",control:r.a.createElement(bt.a,{color:"default"}),label:"Registered Users"}))))),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){var a=!0;"All"!==j&&(a=!1);try{var n=new FormData,r={event_id:e.id,title:o,description:g,visible_all:a};n=JSON.stringify(r),fetch("https://staging.ellipseapp.com/api/event/add_announcement",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:n}).then((function(e){e.json().then((function(e){z(!1),k({open:!0,vertical:"top",horizontal:"center",message:"Added successfully",type:"success",autoHide:2e3})}))}))}catch(l){z(!1),k({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error",autoHide:6e3})}e.handleClose()},disabled:N,color:"primary"},N?r.a.createElement(D.a,{color:"primary",size:24}):"Add"))))}function Pr(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function Ar(e){var a=Object(W.a)(),t=localStorage.getItem("token"),n=r.a.useState(null),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(null),s=Object(d.a)(c,2),g=s[0],h=s[1],b=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),v=Object(d.a)(b,2),j=v[0],O=v[1],x=r.a.useState(!1),C=Object(d.a)(x,2),S=C[0],k=C[1],w=j.vertical,_=j.horizontal,N=j.open,z=j.message,I=j.type,F=j.autoHide;var H=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(Object(u.a)(Object(u.a)({},j),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:w,horizontal:_},open:N,autoHideDuration:F,onClose:H,key:w+_},r.a.createElement(Pr,{onClose:H,severity:I},z)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Content for your Email"),r.a.createElement(A.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",name:"title",fullWidth:!0,value:o,required:!0,onChange:function(e){i(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",required:!0,id:"content",name:"content",label:"Content",fullWidth:!0,onChange:function(e){h(e.target.value)},value:g||""})))),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){try{var a=new FormData,n={event_id:e.id,title:o,content:g,emails:e.emails};a=JSON.stringify(n),console.log(a),fetch("https://staging.ellipseapp.com/api/event/sendemail",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){e.json().then((function(e){k(!1),O({open:!0,vertical:"top",horizontal:"center",message:"Added successfully",type:"success",autoHide:2e3})}))}))}catch(r){k(!1),O({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:6e3})}e.handleClose()},disabled:S,color:"primary"},S?r.a.createElement(D.a,{color:"primary",size:24}):"Send"))))}var Rr=t(345),Wr=Object(S.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},table:{width:"100%"},paper:{width:"100%",padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.palette.secondary.main},buttonsPaper:{backgroundColor:e.palette.primary.light,padding:e.spacing(3),height:140},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140},button:{margin:e.spacing(1),borderRadius:e.spacing(5)}}}));function Fr(e){var a=Wr(),t=r.a.useState(0),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(10),c=Object(d.a)(i,2),s=c[0],m=c[1],u=localStorage.getItem("token"),p=r.a.useState([]),g=Object(d.a)(p,2),h=g[0],E=g[1],b=r.a.useState([]),v=Object(d.a)(b,2),j=v[0],O=v[1],C=r.a.useState([]),S=Object(d.a)(C,2),k=S[0],w=S[1],_=r.a.useState(!1),T=Object(d.a)(_,2),N=T[0],D=T[1],z=r.a.useState(!1),I=Object(d.a)(z,2),B=I[0],P=I[1],A=e.event;r.a.useEffect((function(){E([]),O([]),fetch("https://staging.ellipseapp.com"+"/api/event/registeredEvents?id=".concat(A._id),{headers:{Authorization:"Bearer ".concat(u),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){if(e.length>0){var a=e[0].data;Object.keys(a).forEach((function(e){E((function(a){return[].concat(Object(ia.a)(a),[{id:e,key:e,label:e,minWidth:170}])}))})),e.forEach((function(e){O((function(a){return[].concat(Object(ia.a)(a),[e.data])}))}))}}))}))}),[u,A._id]);return r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(Ar,{open:B,emails:k,handleClose:function(){P(!1)}}),r.a.createElement(Br,{open:N,id:A._id,handleClose:function(){D(!1)}}),r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:9},r.a.createElement(ue.a,{className:a.buttonsPaper},r.a.createElement(f.a,{variant:"contained",onClick:function(){D(!0)},className:a.button},"Add Announcement"))),r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(ue.a,{className:a.fixedHeightPaper},r.a.createElement(x.a,null,"Total Registrations"),r.a.createElement(x.a,{component:"p",variant:"h4"},j.length))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(ue.a,{className:a.paper},r.a.createElement(Tr.a,{className:a.container},r.a.createElement(f.a,{variant:"contained",className:a.button},r.a.createElement(Rr.CSVLink,{filename:A.name+".csv",headers:h,data:j,style:{color:"#000000"}},"Download as csv")),r.a.createElement(kr.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(Nr.a,null,r.a.createElement(zr.a,null),r.a.createElement(zr.a,null,r.a.createElement(_r.a,{padding:"checkbox"},r.a.createElement(G.a,{color:"default",checked:j.length>0&&k.length===j.length,onChange:function(e){if(e.target.checked){var a=j.map((function(e){return e.Email}));w(a)}else w([])},indeterminate:k.length>0&&k.length<j.length,inputProps:{"aria-label":"select all fields"}})),h.map((function(e){return r.a.createElement(_r.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(wr.a,null,j.slice(l*s,l*s+s).map((function(e){var a,t=(a=e.Email,-1!==k.indexOf(a));return r.a.createElement(zr.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.Email,onClick:function(a){return function(e,a){console.log(a);var t=k.indexOf(a),n=[];-1===t?n=n.concat(k,a):0===t?n=n.concat(k.slice(1)):t===k.length-1?n=n.concat(k.slice(0,-1)):t>0&&(n=n.concat(k.slice(0,t),k.slice(t+1))),w(n)}(0,e.Email)},selected:t},r.a.createElement(_r.a,{padding:"checkbox"},r.a.createElement(G.a,{checked:t,color:"default",inputProps:{"aria-label":"select all fields"}})),h.map((function(a){var t="Email"===a.id?e[a.id].substr(0,3)+"*****@"+e[a.id].split("@")[1]:e[a.id];return r.a.createElement(_r.a,{key:a.id,align:a.align},a.format&&"number"===typeof t?a.format(t):t)})))}))))),r.a.createElement(Dr.a,{rowsPerPageOptions:[10,25,100],component:"div",count:j.length,rowsPerPage:s,page:l,onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){m(+e.target.value),o(0)}}))))}var Hr=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},topBar:{},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},message:{display:"flex",justifyContent:"flex-start"},message2:{display:"none"},message3:{display:"flex",justifyContent:"flex-end"},inline:{whiteSpace:"pre-line"}}}));function Lr(e){e.children;var a=e.value,t=(e.url,e.index),n=Object(qe.a)(e,["children","value","url","index"]),l=e.user,o=localStorage.getItem("token"),i=e.event,c=e.open,s=r.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1],f=r.a.useState(!1),h=Object(d.a)(f,2),E=h[0],b=h[1],y=r.a.useState(null),j=Object(d.a)(y,2),O=j[0],C=j[1],S=r.a.useState([]),k=Object(d.a)(S,2),w=k[0],_=k[1],T=Hr(),N=null,z=r.a.useState(null),I=Object(d.a)(z,2),P=I[0],A=I[1],R=function(){var e=new WebSocket("wss://staging.ellipseapp.com/ws/");e.onopen=function(){A(e),e.onmessage=function(e){var a=JSON.parse(e.data),t=a.msg;a.event_id===i._id&&_((function(e){return[].concat(Object(ia.a)(e),[t])}))},b(!1)},e.onclose=function(){W(),console.log("closed")}};r.a.useEffect((function(){return b(!0),fetch("https://staging.ellipseapp.com"+"/api/chat/load_messages?id=".concat(i._id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){_(e),R()}))})),null!=O&&O.scrollIntoView({behavior:"smooth"}),function(){_([]),Object(Ge.a)()}}),[i._id,o]),r.a.useEffect((function(){null!=O&&O.scrollIntoView({behavior:"smooth"})}),[E]),r.a.useEffect((function(){return null!=O&&O.scrollIntoView({behavior:"smooth"}),function(){Object(Ge.a)()}}),[w,O]);var W=function(){P&&P.readyState!==WebSocket.readyState||(console.log("checking"),R())};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==t},n),a===t&&r.a.createElement("div",null,r.a.createElement("div",{className:T.progress},r.a.createElement(Sa.a,{in:E,unmountOnExit:!0},r.a.createElement(D.a,null))),r.a.createElement(B.a,{onClose:function(){p(!1)},"aria-labelledby":"simple-dialog-title",open:u},r.a.createElement(ha.a,null,r.a.createElement(ba.a,{button:!0},r.a.createElement(va.a,null,r.a.createElement(g.a,null,r.a.createElement(Ca.a,null))),r.a.createElement(ya.a,{primary:"Reply"})),r.a.createElement(ba.a,{autoFocus:!0,button:!0},r.a.createElement(va.a,null,r.a.createElement(g.a,null,r.a.createElement(Oa.a,null))),r.a.createElement(ya.a,{primary:"Delete"})))),r.a.createElement(v.a,{className:T.topBar},w.map((function(e,a){var t=new Date,n=new Date(e.date),o=new Date(e.date);return n.toDateString()!==N?(N=n.toDateString(),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ea.a,null),r.a.createElement(v.a,{m:1,p:1,key:a,position:"sticky",className:T.root6},r.a.createElement(x.a,{variant:"body2"},t.toDateString()===n.toDateString()?"Today":n.toDateString())),r.a.createElement(v.a,{m:1,p:1,key:a+1,className:T.root3},r.a.createElement(v.a,{className:T.root5},r.a.createElement(g.a,{variant:"square",alt:e.userName,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:T.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:T.message},r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body1"},e.user_name+"   ")),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(x.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+o.toLocaleTimeString([],{timeStyle:"short"})))),r.a.createElement(v.a,null,r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Ca.a,{style:{color:"#aaaaaa"}})),l.user_id===e.user_id&&r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Oa.a,{style:{color:"#aaaaaa"}})))),r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body2",style:{fontSize:"1.2em"},color:"textSecondary"},e.message)))))):r.a.createElement(v.a,{m:1,p:1,key:a+1,className:T.root3},r.a.createElement(v.a,{className:T.root5},r.a.createElement(g.a,{variant:"square",alt:e.userName,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.user_pic)})),r.a.createElement(v.a,{className:T.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:T.message},r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"body1"},e.user_name+"   ")),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(x.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+o.toLocaleTimeString([],{timeStyle:"short"})))),r.a.createElement(v.a,null,r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Ca.a,{style:{color:"#aaaaaa"}})),l.user_id===e.user_id&&r.a.createElement(oe.a,{style:{padding:"0px",margin:"0px"}},r.a.createElement(Oa.a,{style:{color:"#aaaaaa"}})))),r.a.createElement(v.a,{whiteSpace:"normal"},r.a.createElement(x.a,{className:T.inline,variant:"body2",style:{fontSize:"1.2em"},color:"textSecondary"},e.message))))})),r.a.createElement("div",{style:{float:"left",clear:"both",paddingBottom:"60px"},ref:function(e){C(e)}}),r.a.createElement("div",{className:T.textField},r.a.createElement(fa,{loading:E,open:c,handleSend:function(e){var a=new Date;P.send(JSON.stringify({action:"send_message",event_id:i._id,msg:{id:l.user_id+Date.now(),user_id:l.user_id,user_name:l.name,user_pic:l.profile_pic,message:e,date:a.toISOString()}})),null!=O&&O.scrollIntoView({behavior:"smooth"})}})))))}function Mr(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var qr=Object(S.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",borderRadius:30},avatar:{backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Gr=Object(c.g)((function(e){var a=e.event,t=qr(),n=r.a.useState(!1),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error"}),s=Object(d.a)(c,2),g=s[0],b=s[1],v=r.a.useState(null),j=Object(d.a)(v,2),O=j[0],x=j[1],C=r.a.useState(null),S=Object(d.a)(C,2),k=S[0],w=S[1],_=r.a.useState(null),N=Object(d.a)(_,2),z=N[0],I=N[1],B=r.a.useState(null),P=Object(d.a)(B,2),A=P[0],R=P[1],W=r.a.useState(null),F=Object(d.a)(W,2),H=F[0],L=F[1],M=r.a.useState(null),G=Object(d.a)(M,2),J=G[0],V=G[1],K=r.a.useState(null),Y=Object(d.a)(K,2),Z=Y[0],Q=Y[1],X=r.a.useState([]),$=Object(d.a)(X,2),re=$[0],ie=$[1],ce=r.a.useState(null),se=Object(d.a)(ce,2),me=se[0],ue=se[1],pe=r.a.useState(null),de=Object(d.a)(pe,2),ge=de[0],fe=de[1],he=r.a.useState(null),Ee=Object(d.a)(he,2),be=Ee[0],ve=Ee[1],ye=r.a.useState([]),je=Object(d.a)(ye,2),Oe=je[0],xe=je[1],Ce=r.a.useState(""),Se=Object(d.a)(Ce,2),ke=Se[0],we=Se[1],_e=r.a.useState("Free"),Te=Object(d.a)(_e,2),Ne=Te[0],De=Te[1],ze=r.a.useState(null),Ie=Object(d.a)(ze,2),Pe=Ie[0],Ae=Ie[1],Re=r.a.useState(null),We=Object(d.a)(Re,2),Fe=We[0],He=We[1],Le=r.a.useState(null),Me=Object(d.a)(Le,2),qe=Me[0],Ge=Me[1],Je=r.a.useState("open"),Ve=Object(d.a)(Je,2),Ke=Ve[0],Ye=Ve[1],Ze=r.a.useState(null),Qe=Object(d.a)(Ze,2),Xe=Qe[0],$e=Qe[1],ea=r.a.useState(null),aa=Object(d.a)(ea,2),ta=aa[0],na=aa[1],ra=r.a.useState(!1),la=Object(d.a)(ra,2),oa=la[0],ca=la[1],sa=r.a.useState(null),ma=Object(d.a)(sa,2),ua=ma[0],pa=ma[1],da=r.a.useState(null),ga=Object(d.a)(da,2),fa=ga[0],ha=ga[1],Ea=g.vertical,ba=g.horizontal,va=g.open,ya=g.message,ja=g.type,Oa=r.a.useState([]),xa=Object(d.a)(Oa,2),Ca=xa[0],Sa=xa[1],ka=localStorage.getItem("token"),wa=r.a.useState([]),_a=Object(d.a)(wa,2),Ta=_a[0],Na=_a[1],Da=r.a.useState([]),za=Object(d.a)(Da,2),Ia=za[0],Ba=za[1],Pa=r.a.useState([]),Aa=Object(d.a)(Pa,2),Ra=Aa[0],Wa=Aa[1],Fa=r.a.useState(""),Ha=Object(d.a)(Fa,2),La=Ha[0],Ma=Ha[1],qa=r.a.useState(!1),Ga=Object(d.a)(qa,2),Ua=Ga[0],Ja=Ga[1],Va=r.a.useState({}),Ka=Object(d.a)(Va,2),Ya=Ka[0],Za=Ka[1];r.a.useEffect((function(){fetch("https://staging.ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(ka),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){Sa(e)}))}))}),[ka]);r.a.useEffect((function(){ie(a.tags),Q(a.event_type),x(a.name),w(a.description),I(a.start_time),R(a.finish_time),L(a.registration_end_time),V(a.event_mode),ue(a.reg_link),ve(a.about),fe(a.fees),xe(a.requirements),De(a.fee_type),Ae(a.college_name),He(a.reg_mode),Ge(a.organizer),pa(a.venue),ha(a.venue_college),Ma(a.platform_details),we(a.venue_type),Ja(a.isTeamed),Za(a.team_size),!0===a.o_allowed?Ye("open"):Ye("onlycollege"),fetch("https://staging.ellipseapp.com/api/event/get_event_keywords",{headers:{Authorization:"Bearer ".concat(ka),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.forEach((function(e){"EventTags"===e.type?Na((function(a){return[].concat(Object(ia.a)(a),[e.title])})):"EventRequirements"===e.type?Ba((function(a){return[].concat(Object(ia.a)(a),[e.title])})):Wa((function(a){return[].concat(Object(ia.a)(a),[e.title])}))}))}))}))}),[ka,a]);var Qa=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Saved changes successfully"===ya&&window.location.reload(!1),b(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();function Xa(){return(Xa=Object(p.a)(m.a.mark((function e(t){var n,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(!0),n=!1,"open"===Ke&&(n=!0);try{new FormData,l={eventId:a._id,name:O,description:k,start_time:z,finish_time:A,registration_end_time:H,event_mode:J,event_type:Z,tags:re,reg_link:me,fee:ge,about:be,fee_type:Ne,college:Pe,organizer:qe,requirements:Oe,o_allowed:n,reg_mode:Fe,venue_type:ke,venue:ua,venue_college:fa,platform_details:La},r=JSON.stringify(l),fetch("https://staging.ellipseapp.com/api/updateevent",{headers:{Authorization:"Bearer ".concat(ka),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:r}).then((function(e){200===e.status?e.json().then((function(e){if(a=e.event,oa){var t=new FormData;t.append("image",Xe),fetch("https://staging.ellipseapp.com"+"/api/event/uploadimage?id=".concat(a._id),{headers:{Authorization:"Bearer ".concat(ka)},method:"POST",body:t}).then((function(e){200===e.status&&(i(!1),b({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else i(!1),b({open:!0,vertical:"top",horizontal:"center",message:"Saved changes successfully",type:"success"})})):e.json().then((function(e){console.log(e),i(!1),b({open:!0,vertical:"top",horizontal:"center",message:e,type:"error"})}))}))}catch(o){i(!1),b({open:!0,vertical:"top",horizontal:"center",message:o.message,type:"error"})}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(U.a,{component:"main",maxWidth:"lg"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:Ea,horizontal:ba},open:va,autoHideDuration:6e3,onClose:Qa,key:Ea+ba},r.a.createElement(Mr,{onClose:Qa,severity:ja},ya)),r.a.createElement("div",{className:t.paper},r.a.createElement("form",{className:t.form,novalidate:!0,onSubmit:function(e){return Xa.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement("input",{id:"contained-button-file",type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){$e(e.target.files[0]);var a=URL.createObjectURL(e.target.files[0]);na(a),ca(!0)}},style:{display:"none"}}),r.a.createElement(ne.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(oe.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(le.a,null)))},r.a.createElement("img",{height:"160",width:"150",alt:"poster",src:oa?ta:"https://staging.ellipseapp.com"+"/api/image?id=".concat(a.poster_url)}))),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",id:"eventName",name:"eventName",label:"Event name",value:O||"",onChange:function(e){x(e.target.value)},fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",id:"shortdesc",name:"shortdesc",label:"Short Description",fullWidth:!0,value:k||"",onChange:function(e){w(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:4},r.a.createElement(ht.a,{utils:ft.a},r.a.createElement(zn.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Event Start Date",name:"startDate",value:z,onChange:function(e){I(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:4},r.a.createElement(ht.a,{utils:ft.a},r.a.createElement(zn.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"endDate",label:"Event End Date",name:"endDate",value:A,onChange:function(e){R(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,lg:4},r.a.createElement(ht.a,{utils:ft.a},r.a.createElement(zn.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"regEndDate",label:"Registration End Date",name:"regEndDate",value:H,onChange:function(e){L(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(te.a,{fullWidth:!0},r.a.createElement(ae.a,{htmlFor:"event mode"},"Event Mode"),r.a.createElement(ee.a,{fullWidth:!0,native:!0,label:"Event Mode",value:J||"",onChange:function(e){V(e.target.value)},inputProps:{name:"eventMode",id:"event mode"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Online"},"Online"),r.a.createElement("option",{value:"Offline"},"Offline")))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(Be.a,{fullWidth:!0,id:"event type",options:Ra,getOptionLabel:function(e){return e},value:Z||"",onChange:function(e,a){Q(a)},renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Event Type"}))}})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(Be.a,{multiple:!0,id:"event themes",options:Ta.map((function(e){return e})),freeSolo:!0,value:re||[],onChange:function(e,a){ie(a)},renderTags:function(e,a){return e.map((function(e,t){return r.a.createElement(Ue.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Event Themes",placeholder:"Event Themes"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(In.a,{component:"legend"},"Entry Fee"),r.a.createElement(vt.a,{"aria-label":"address",name:"address",value:Ne||"",onChange:function(e,a){De(a)},style:{display:"inline"}},r.a.createElement(q.a,{value:"Free",control:r.a.createElement(bt.a,{color:"default"}),label:"Free"}),r.a.createElement(q.a,{value:"Paid",control:r.a.createElement(bt.a,{color:"default"}),label:"Paid"}))),"form"!==Fe&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",id:"regLink",name:"regLink",label:"Registration Link",fullWidth:!0,value:me||"",onChange:function(e){ue(e.target.value)}})),"Paid"===Ne&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",id:"regFees",name:"regFees",value:ge||"",label:"Registration Fees",onChange:function(e){fe(e.target.value)},fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(Be.a,{fullWidth:!0,disabled:!0,id:"collegename",options:Ca,getOptionLabel:function(e){return e},value:Pe||"",onChange:function(e,a){Ae(a)},renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(te.a,{fullWidth:!0},r.a.createElement(ae.a,{htmlFor:"outlined-age-native-simple"},"Registration"),r.a.createElement(ee.a,{fullWidth:!0,native:!0,disabled:!0,label:"Registration",inputProps:{name:"registrationMode",id:"registration mode"},value:Fe||""},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"form"},"Our Platform(Ellipse)"),r.a.createElement("option",{value:"link"},"Other")))),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(Be.a,{multiple:!0,id:"requirements",options:Ia.map((function(e){return e})),freeSolo:!0,value:Oe,onChange:function(e,a){xe(a)},renderTags:function(e,a){return e.map((function(e,t){return r.a.createElement(Ue.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Prerequisites",placeholder:"Requirements"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(In.a,{component:"legend"},"Participation"),r.a.createElement(vt.a,{name:"participanttype",value:Ke,onChange:function(e,a){Ye(a)},style:{display:"inline"}},r.a.createElement(q.a,{value:"open",control:r.a.createElement(bt.a,{color:"default"}),label:"Open for all"}),r.a.createElement(q.a,{value:"onlycollege",control:r.a.createElement(bt.a,{color:"default"}),label:"Only ".concat(Pe)}))),"Offline"===J&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(In.a,{component:"legend"},"Address"),r.a.createElement(vt.a,{"aria-label":"address",name:"address",value:ke,onChange:function(e,a){we(a)},style:{display:"inline"}},r.a.createElement(q.a,{value:"College/University",control:r.a.createElement(bt.a,{color:"default"}),label:"College/University"}),r.a.createElement(q.a,{value:"Other",control:r.a.createElement(bt.a,{color:"default"}),label:"Others"}))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(In.a,{required:!0,component:"legend"},"Participation Type"),r.a.createElement(vt.a,{required:!0,"aria-label":"address",name:"teamed",value:Ua?"team":"individual",style:{display:"inline"}},r.a.createElement(q.a,{disabled:!0,value:"individual",control:r.a.createElement(bt.a,{color:"default"}),label:"Individual"}),r.a.createElement(q.a,{disabled:!0,value:"team",control:r.a.createElement(bt.a,{color:"default"}),label:"Team"}))),Ua&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{disabled:!0,autoComplete:"off",required:!0,type:"number",id:"maxTeam",name:"minTeam",label:"Minimum Team Members",fullWidth:!0,value:Ya.min_team_size||""})),Ua&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{disabled:!0,autoComplete:"off",required:!0,type:"number",id:"maxTeam",name:"maxTeam",label:"Maximum Team Members",fullWidth:!0,value:Ya.max_team_size||""})),"Offline"===J&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",multiline:!0,helperText:"Enter venue details (Ex: VIT, Vellore)",rows:"5",variant:"outlined",value:ua||"",onChange:function(e){pa(e.target.value)},id:"building",name:"building",label:"Room No & Building",fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter short description of your event",autoComplete:"off",value:be||"",id:"about",name:"about",label:"About",fullWidth:!0})),"Online"===J&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,helperText:"Enter link for the platform, you can also add it later",rows:"5",variant:"outlined",placeholder:"Enter details about your online platform",autoComplete:"off",id:"platform",name:"platform",label:"Platform",fullWidth:!0,onChange:function(e){Ma(e.target.value)},value:La||""}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:o,className:t.submit},o?r.a.createElement(D.a,{color:"primary",size:24}):"Save Changes"))))}));function Ur(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var Jr=Object(S.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.palette.secondary.main},buttonsPaper:{backgroundColor:e.palette.primary.light,padding:e.spacing(3),height:140},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140},button:{margin:e.spacing(1),borderRadius:e.spacing(5)}}}));function Vr(e){var a=Jr(),t=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(!1),c=Object(d.a)(i,2),s=c[0],g=c[1],h=l.vertical,E=l.horizontal,b=l.open,v=l.message,j=l.type,O=l.autoHide,x=r.a.useState(0),C=Object(d.a)(x,2),S=C[0],k=C[1],w=r.a.useState(10),_=Object(d.a)(w,2),N=_[0],z=_[1],I=localStorage.getItem("token"),B=r.a.useState([]),P=Object(d.a)(B,2),A=P[0],R=P[1],W=r.a.useState([]),F=Object(d.a)(W,2),H=F[0],L=F[1],M=r.a.useState([]),q=Object(d.a)(M,2),U=q[0],J=q[1],V=e.event,K=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(),o(Object(u.a)(Object(u.a)({},l),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();r.a.useEffect((function(){fetch("https://staging.ellipseapp.com"+"/api/event/registeredEvents?id=".concat(V._id),{headers:{Authorization:"Bearer ".concat(I),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){if(e.length>0){var a=e[0].data;Object.keys(a).forEach((function(e){R((function(a){return[].concat(Object(ia.a)(a),[{id:e,label:e,minWidth:170}])}))})),e.forEach((function(e){"not_generated"===e.certificate_status&&L((function(a){return[].concat(Object(ia.a)(a),[e.data])}))}))}}))}))}),[I,V._id]);var Y=function(){L([]),fetch("https://staging.ellipseapp.com"+"/api/event/registeredEvents?id=".concat(V._id),{headers:{Authorization:"Bearer ".concat(I),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.length>0&&e.forEach((function(e){"not_generated"===e.certificate_status&&L((function(a){return[].concat(Object(ia.a)(a),[e.data])}))}))}))}))};return r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(T.a,{anchorOrigin:{vertical:h,horizontal:E},open:b,autoHideDuration:O,onClose:K,key:h+E},r.a.createElement(Ur,{onClose:K,severity:j},v)),r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:9},r.a.createElement(ue.a,{className:a.buttonsPaper},r.a.createElement(f.a,{variant:"contained",onClick:function(){g(!0),console.log(U);try{var e=new FormData,a={eventId:V._id,participants:U};e=JSON.stringify(a),fetch("https://staging.ellipseapp.com/api/event/generate_certificates",{headers:{Authorization:"Bearer ".concat(I),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){e.json().then((function(e){g(!1),o({open:!0,vertical:"top",horizontal:"center",message:"Generated successfully",type:"success",autoHide:4e3})}))}))}catch(t){g(!1),o({open:!0,vertical:"top",horizontal:"center",message:t.message,type:"error",autoHide:6e3})}},className:a.button},s?r.a.createElement(D.a,{color:"primary",size:24}):"Generate Certificates"))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(ue.a,{className:a.paper},r.a.createElement(Tr.a,{className:a.container},r.a.createElement(kr.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(Nr.a,null,r.a.createElement(zr.a,null,r.a.createElement(_r.a,{padding:"checkbox"},r.a.createElement(G.a,{color:"default",checked:H.length>0&&U.length===H.length,onChange:function(e){if(e.target.checked){var a=H.map((function(e){return e.Email}));J(a)}else J([])},indeterminate:U.length>0&&U.length<H.length,inputProps:{"aria-label":"select all fields"}})),A.map((function(e){return r.a.createElement(_r.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(wr.a,null,H.slice(S*N,S*N+N).map((function(e){var a,t=(a=e.Email,-1!==U.indexOf(a));return r.a.createElement(zr.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.Email,onClick:function(a){return function(e,a){console.log(a);var t=U.indexOf(a),n=[];-1===t?n=n.concat(U,a):0===t?n=n.concat(U.slice(1)):t===U.length-1?n=n.concat(U.slice(0,-1)):t>0&&(n=n.concat(U.slice(0,t),U.slice(t+1))),J(n)}(0,e.Email)},selected:t},r.a.createElement(_r.a,{padding:"checkbox"},r.a.createElement(G.a,{checked:t,color:"default",inputProps:{"aria-label":"select all fields"}})),A.map((function(a){var t="Email"===a.id?e[a.id].substr(0,3)+"*****@"+e[a.id].split("@")[1]:e[a.id];return r.a.createElement(_r.a,{key:a.id,align:a.align},a.format&&"number"===typeof t?a.format(t):t)})))}))))),r.a.createElement(Dr.a,{rowsPerPageOptions:[10,25,100],component:"div",count:H.length,rowsPerPage:N,page:S,onChangePage:function(e,a){k(a)},onChangeRowsPerPage:function(e){z(+e.target.value),k(0)}}))))}var Kr=Object(S.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.palette.secondary.main},buttonsPaper:{backgroundColor:e.palette.primary.light,padding:e.spacing(3),height:140},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140},button:{margin:e.spacing(1),borderRadius:e.spacing(5)}}}));function Yr(e){var a=Kr(),t=r.a.useState(0),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(10),c=Object(d.a)(i,2),s=c[0],m=c[1],u=localStorage.getItem("token"),p=r.a.useState([]),g=Object(d.a)(p,2),f=g[0],h=g[1],E=r.a.useState([]),b=Object(d.a)(E,2),v=b[0],j=b[1],O=r.a.useState([]),x=Object(d.a)(O,2),C=x[0],S=x[1],k=e.event;r.a.useEffect((function(){fetch("https://staging.ellipseapp.com"+"/api/event/registeredEvents?id=".concat(k._id),{headers:{Authorization:"Bearer ".concat(u),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){if(e.length>0){var a=e[0].data;Object.keys(a).forEach((function(e){h((function(a){return[].concat(Object(ia.a)(a),[{id:e,label:e,minWidth:170}])}))})),e.forEach((function(e){"not_generated"!==e.certificate_status&&j((function(a){return[].concat(Object(ia.a)(a),[e.data])}))}))}}))}))}),[u,k._id]);return r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:9}),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(ue.a,{className:a.paper},r.a.createElement(Tr.a,{className:a.container},r.a.createElement(kr.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(Nr.a,null,r.a.createElement(zr.a,null,r.a.createElement(_r.a,{padding:"checkbox"},r.a.createElement(G.a,{color:"default",checked:v.length>0&&C.length===v.length,onChange:function(e){if(e.target.checked){var a=v.map((function(e){return e.Email}));S(a)}else S([])},indeterminate:C.length>0&&C.length<v.length,inputProps:{"aria-label":"select all fields"}})),f.map((function(e){return r.a.createElement(_r.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(wr.a,null,v.slice(l*s,l*s+s).map((function(e){var a,t=(a=e.Email,-1!==C.indexOf(a));return r.a.createElement(zr.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.Email,onClick:function(a){return function(e,a){console.log(a);var t=C.indexOf(a),n=[];-1===t?n=n.concat(C,a):0===t?n=n.concat(C.slice(1)):t===C.length-1?n=n.concat(C.slice(0,-1)):t>0&&(n=n.concat(C.slice(0,t),C.slice(t+1))),S(n)}(0,e.Email)},selected:t},r.a.createElement(_r.a,{padding:"checkbox"},r.a.createElement(G.a,{checked:t,color:"default",inputProps:{"aria-label":"select all fields"}})),f.map((function(a){var t="Email"===a.id?e[a.id].substr(0,3)+"*****@"+e[a.id].split("@")[1]:e[a.id];return r.a.createElement(_r.a,{key:a.id,align:a.align},a.format&&"number"===typeof t?a.format(t):t)})))}))))),r.a.createElement(Dr.a,{rowsPerPageOptions:[10,25,100],component:"div",count:v.length,rowsPerPage:s,page:l,onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){m(+e.target.value),o(0)}}))))}var Zr=t.p+"static/media/certificate_sample.6f46be5a.png";function Qr(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var Xr=Object(S.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30}}}));function $r(e){var a=Xr(),t=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState(!1),c=Object(d.a)(i,2),s=c[0],g=c[1],h=l.vertical,b=l.horizontal,v=l.open,j=l.message,O=l.type,C=l.autoHide,S=localStorage.getItem("token"),k=r.a.useState(null),w=Object(d.a)(k,2),_=w[0],N=w[1],z=e.event,I=function(){var e=Object(p.a)(m.a.mark((function e(a,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(u.a)(Object(u.a)({},l),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return r.a.useEffect((function(){N(z.certificate.title)}),[z]),r.a.createElement("div",{className:a.paper},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(T.a,{anchorOrigin:{vertical:h,horizontal:b},open:v,autoHideDuration:C,onClose:I,key:h+b},r.a.createElement(Qr,{onClose:I,severity:O},j)),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"title",name:"title",label:"Certificate Title",value:_||"",onChange:function(e){return N(e.target.value)},fullWidth:!0,inputProps:{maxLength:32},helperText:"You can change the title of certificate as shown below in sample by default it is event name"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:s,onClick:function(){g(!0);try{if(""===_||null===_)g(!1),o({open:!0,vertical:"top",horizontal:"center",message:"please fill the details",type:"error",autoHide:6e3});else{var e=new FormData,a={eventId:z._id,title:_};e=JSON.stringify(a),fetch("https://staging.ellipseapp.com/api/event/update_certificate_title",{headers:{Authorization:"Bearer ".concat(S),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){e.json().then((function(e){g(!1),o({open:!0,vertical:"top",horizontal:"center",message:"Generated successfully",type:"success",autoHide:4e3})}))}))}}catch(t){g(!1),o({open:!0,vertical:"top",horizontal:"center",message:t.message,type:"error",autoHide:6e3})}},className:a.submit},s?r.a.createElement(D.a,{color:"primary",size:24}):"Update"))),r.a.createElement(x.a,{style:{marginTop:"10px"},variant:"h4"},"Sample Certificate"),r.a.createElement("img",{width:"100%",alt:"certificate sample",src:Zr}))}var el=Object(S.a)((function(e){return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)}}}));var al=function(e){var a=el(),t=e.event,n=r.a.useState(0),l=Object(d.a)(n,2),o=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement("div",{className:a.root},r.a.createElement(ue.a,{className:a.root2},r.a.createElement(pe.a,{value:o,onChange:function(e,a){i(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(de.a,{label:"Dashboard"}),r.a.createElement(de.a,{label:"Pending"}),r.a.createElement(de.a,{label:"Generated"}))),0===o&&r.a.createElement($r,{event:t}),1===o&&r.a.createElement(Vr,{event:t}),2===o&&r.a.createElement(Yr,{event:t})))},tl=Object(S.a)((function(e){var a;return{root:{display:"flex"},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),backgroundColor:e.palette.secondary.main},drawerClose:(a={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(C.a)(a,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(C.a)(a,"backgroundColor",e.palette.secondary.main),a),toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:Object(C.a)({flexGrow:1,width:"70%"},e.breakpoints.up("md"),{padding:e.spacing(3)}),eventName:Object(C.a)({},e.breakpoints.up("md"),{display:"none"})}}));function nl(e){var a,t,n=tl(),l=Object(W.a)();localStorage.removeItem("eventid");var o=localStorage.getItem("token"),i=e.match.params.eventId,c=localStorage.getItem("theme"),s=r.a.useState(!0),m=Object(d.a)(s,2),u=m[0],p=m[1],g=r.a.useState({}),E=Object(d.a)(g,2),b=E[0],v=E[1],y=r.a.useState(!1),j=Object(d.a)(y,2),O=j[0],S=j[1],k=r.a.useState({}),w=Object(d.a)(k,2),_=w[0],T=w[1],N=r.a.useState({infoSelected:!0,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1,certificateSelected:!1}),D=Object(d.a)(N,2),z=D[0],I=D[1];r.a.useEffect((function(){fetch("https://staging.ellipseapp.com"+"/api/event?id=".concat(i),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){v(e.event)}))}))}),[o,i]),r.a.useEffect((function(){void 0!==b.user_id&&void 0!==_.user_id&&b.user_id===_.user_id&&S(!0)}),[_,b]);var B=z.infoSelected,P=z.dashBoardSelected,A=z.timilineSelected,R=z.announcementSelected,F=z.settingsSelected,H=z.editEventSelected,L=z.chatSelected,M=z.certificateSelected;return r.a.createElement("div",{className:n.root},r.a.createElement(h.a,null),r.a.createElement(xr,{event:b,handleSignout:function(){e.history.replace("/")},handleHomeClick:function(){e.history.push("/home")},setUser:T,dOpen:u,setDOpen:p}),r.a.createElement(ir.a,{variant:"permanent",className:Object(ua.a)(n.drawer,(a={},Object(C.a)(a,n.drawerOpen,u),Object(C.a)(a,n.drawerClose,!u),a)),classes:{paper:Object(ua.a)((t={},Object(C.a)(t,n.drawerOpen,u),Object(C.a)(t,n.drawerClose,!u),t))}},r.a.createElement("div",{className:n.toolbar},r.a.createElement(oe.a,{onClick:function(){p(!1)}},"rtl"===l.direction?r.a.createElement(ur.a,{color:"primary"}):r.a.createElement(sr.a,{color:"primary"}))),r.a.createElement(Ea.a,null),r.a.createElement(ha.a,null,r.a.createElement(ba.a,{button:!0,onClick:function(){I({infoSelected:!0,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1})},selected:B},r.a.createElement(gt.a,null,r.a.createElement($t.a,{color:"primary"})),r.a.createElement(ya.a,{primary:"About"})),r.a.createElement(ba.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!0,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1,certificateSelected:!1})},selected:A},r.a.createElement(gt.a,null,r.a.createElement(fr.a,{color:"primary"})),r.a.createElement(ya.a,{primary:"Schedule"})),r.a.createElement(ba.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!0,settingsSelected:!1,editEventSelected:!1,chatSelected:!1,certificateSelected:!1})},selected:R},r.a.createElement(gt.a,null,r.a.createElement(Er.a,{color:"primary"})),r.a.createElement(ya.a,{primary:"Announcements"})),r.a.createElement(ba.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!0,certificateSelected:!1})},selected:L},r.a.createElement(gt.a,null,r.a.createElement(tt.a,{color:"primary"})),r.a.createElement(ya.a,{primary:"Chat"}))),r.a.createElement(Ea.a,null),O&&r.a.createElement(ha.a,null,r.a.createElement(ba.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!0,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1,certificateSelected:!1})},selected:P},r.a.createElement(gt.a,null,r.a.createElement(dr.a,{color:"primary"})),r.a.createElement(ya.a,{primary:"Dashboard"})),r.a.createElement(ba.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!0,chatSelected:!1,certificateSelected:!1})},selected:H},r.a.createElement(gt.a,null,r.a.createElement(le.a,{color:"primary"})),r.a.createElement(ya.a,{primary:"Edit Event"})),r.a.createElement(ba.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1,certificateSelected:!0})},selected:M},r.a.createElement(gt.a,null,r.a.createElement(vr.a,{color:"primary"})),r.a.createElement(ya.a,{primary:"Certificates"})),r.a.createElement(ba.a,{button:!0,onClick:function(){I({infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!0,editEventSelected:!1,chatSelected:!1,certificateSelected:!1})},selected:F},r.a.createElement(gt.a,null,r.a.createElement(De.a,{color:"primary"})),r.a.createElement(ya.a,{primary:"Settings"})))),r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),r.a.createElement(x.a,{className:n.eventName,align:"center",variant:"h4",style:{paddingBottom:"20px",paddingTop:"10px"}},b.name),B&&null!=b&&r.a.createElement(Ye,{event:b}),H&&null!=b&&r.a.createElement(Gr,{event:b}),A&&null!=b&&r.a.createElement(oa,{event:b}),P&&null!=b&&r.a.createElement(Fr,{event:b}),L&&null!=b&&r.a.createElement("div",{className:n.chat},r.a.createElement(Lr,{user:_,open:u,event:b})),O&&R&&null!=b&&r.a.createElement(Sr,{event:b}),!O&&R&&null!=b&&r.a.createElement(sa,{event:b}),O&&M&&null!=b&&r.a.createElement(al,{event:b}),B&&"form"===b.reg_mode&&r.a.createElement(f.a,{disabled:b.registered||O,size:"small",color:"primary",variant:"contained",className:n.button,onClick:function(){e.history.push("/event/register/"+b._id)}},b.registered?"Registered":"Register"),B&&"form"!==b.reg_mode&&r.a.createElement(f.a,{disabled:b.registered||O,size:"small",color:"primary",variant:"contained",className:n.button},"light"===c?r.a.createElement("a",{href:b.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register"):r.a.createElement("a",{href:b.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register")),O&&F&&r.a.createElement(x.a,null,"Any queries contact us at support@ellipseapp.com")))}function rl(e){var a=Object(W.a)(),t=function(){e.setOpen(!1)};return r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,onClose:t,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}}},r.a.createElement(R.a,{id:"title"},"Terms and Conditions"),r.a.createElement(A.a,null,r.a.createElement(Fn.a,{id:"alert-dialog-description"},r.a.createElement("ul",null,r.a.createElement("li",null,"Provided registration data and your profile will be shared with event admin")))),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:t,color:"primary",autoFocus:!0},"Dismiss"))))}function ll(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var ol=Object(c.g)((function(e){var a=M(),t=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:6e3}),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!0),s=Object(d.a)(c,2),m=s[0],p=s[1],g=r.a.useState(!1),b=Object(d.a)(g,2),j=b[0],O=b[1],S=r.a.useState(null),k=Object(d.a)(S,2),w=k[0],N=k[1],z=r.a.useState(!1),I=Object(d.a)(z,2),B=I[0],P=I[1],A=r.a.useState([]),R=Object(d.a)(A,2),W=R[0],F=R[1],H=r.a.useState([]),L=Object(d.a)(H,2),J=L[0],V=L[1],K=r.a.useState([]),Y=Object(d.a)(K,2),Z=Y[0],Q=Y[1],X=r.a.useState([]),$=Object(d.a)(X,2),ee=$[0],ae=$[1],ne=r.a.useState([]),re=Object(d.a)(ne,2),le=re[0],ie=re[1],ce=r.a.useState([]),se=Object(d.a)(ce,2),ue=se[0],pe=se[1],de=r.a.useState([]),ge=Object(d.a)(de,2),fe=ge[0],he=ge[1],Ee=o.vertical,be=o.horizontal,ve=o.open,ye=o.message,je=o.type,Oe=o.autoHide,xe=e.match.params.eventId,Ce=r.a.useState(!0),Se=Object(d.a)(Ce,2),ke=Se[0],we=Se[1],_e=r.a.useState({}),Te=Object(d.a)(_e,2),Ne=Te[0],De=Te[1],ze=r.a.useState([]),Ie=Object(d.a)(ze,2),Pe=Ie[0],Ae=Ie[1],Re=["VIT University,Vellore","GITAM University","SRM University"],Fe=r.a.useState(!1),He=Object(d.a)(Fe,2),Le=He[0],Me=He[1],qe=r.a.useContext(ma).currentUser,Ge=r.a.useContext(Za).setAllEvents,Je=r.a.useContext(rt).setActiveEvents;function Ve(){"Registration successful.Stay tunned with notifications and announcements"===ye&&(e.history.push("/home"),fetch("https://staging.ellipseapp.com/api/events",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){e.sort((function(e,a){return new Date(e.start_time)-new Date(a.start_time)})),Ge(e),Je(e.filter((function(e){return new Date<new Date(e.finish_time)&&"pending"!==e.status})))})):401===e.status&&localStorage.removeItem("token")}))),i(Object(u.a)(Object(u.a)({},o),{},{open:!1}))}function Ke(e){N(Object(u.a)(Object(u.a)({},w),{},Object(C.a)({},e.target.name,e.target.value)))}r.a.useEffect((function(){"Student"===qe.designation||"Faculty"===qe.designation||(p(!1),O(qe.designation+" cannot register")),"pending"===Ne.status&&(p(!1),O("Event is not accepted yet check back later")),qe.user_id===Ne.user_id&&(p(!1),O("An event organizer cannot register")),new Date>new Date(Ne.registration_end_time)&&(p(!1),O("Registration is closed for this event")),void 0!==Ne.o_allowed&&(Ne.o_allowed||(console.log(Ne.o_allowed),Ne.college_name===qe.college_name||(p(!1),O("Only "+Ne.college_name+" can participate"))))}),[Ne,qe]),r.a.useEffect((function(){fetch("https://staging.ellipseapp.com"+"/api/event?id=".concat(xe),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){De(e.event);var a=e.event.reg_fields;null!=a&&(a.forEach((function(e){"Name"===e.title?N((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(C.a)({},e.title,qe.name))})):"Email"===e.title?N((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(C.a)({},e.title,qe.email))})):"College"===e.title?N((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(C.a)({},e.title,qe.college_name))})):N((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(C.a)({},e.title,null))})),e.field})),F(a.filter((function(e){return"short_text"===e.field}))),pe(a.filter((function(e){return"paragraph"===e.field}))),Q(a.filter((function(e){return"checkboxes"===e.field}))),ae(a.filter((function(e){return"radiobuttons"===e.field}))),ie(a.filter((function(e){return"date"===e.field}))),V(a.filter((function(e){return"dropdown"===e.field}))),he(a.filter((function(e){return"link"===e.field})))),we(!1)}))}))}),[t,xe,qe]);var Ye=function(e){N(Object(u.a)(Object(u.a)({},w),{},Object(C.a)({},e.target.name,e.target.value)))};function Ze(e,a){N(Object(u.a)(Object(u.a)({},w),{},Object(C.a)({},e.target.name,a)))}return r.a.createElement(U.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:Ee,horizontal:be},open:ve,autoHideDuration:Oe,onClose:Ve,key:Ee+be},r.a.createElement(ll,{onClose:Ve,severity:je},ye)),r.a.createElement(me.a,{className:a.backdrop,open:ke},r.a.createElement(D.a,{color:"inherit"})),r.a.createElement(oe.a,{"aria-label":"close",className:a.closeButton,onClick:function(){e.history.goBack()}},r.a.createElement(We.a,{fontSize:"large"})),null!=Ne&&r.a.createElement("div",{className:a.paper},r.a.createElement(x.a,{component:"h1",variant:"h5"},"Registration for "+Ne.name),r.a.createElement("form",{className:a.form,onSubmit:function(e){e.preventDefault();var a=Object.keys(w),n=0;if(a.forEach((function(e){null===w[e]&&(n+=1,i({open:!0,vertical:"top",horizontal:"center",message:"Please fill in all fields",type:"error",autoHide:4e3}))})),0===n)try{var r=new FormData,l={data:w};r=JSON.stringify(l),fetch("https://staging.ellipseapp.com"+"/api/event/register?id=".concat(xe),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:r}).then((function(e){200===e.status&&e.json().then((function(e){P(!1),i({open:!0,vertical:"top",horizontal:"center",message:"Registration successful.Stay tunned with notifications and announcements",type:"success",autoHide:4e3})}))}))}catch(o){P(!1),i({open:!0,vertical:"top",horizontal:"center",message:o.message,type:"error",autoHide:6e3})}}},r.a.createElement(y.a,{container:!0,spacing:2},W.map((function(e,a){return"College"===e.title?r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Be.a,{fullWidth:!0,id:e.title,options:Re,getOptionLabel:function(e){return e},onChange:Ke,value:w[e.title],disabled:!0,renderInput:function(a){return r.a.createElement(E.a,Object.assign({name:e.title,fullWidth:!0,required:!0},a,{label:e.title}))}})):"Email"===e.title?r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",name:e.title,disabled:!0,required:!0,fullWidth:!0,id:e.title,onChange:Ke,value:w[e.title],label:e.title,autoFocus:!0})):r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",name:e.title,required:!0,fullWidth:!0,id:e.title,onChange:Ke,value:w[e.title],label:e.title,autoFocus:!0}))})),Z.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(te.a,{component:"fieldset",className:a.formControl},r.a.createElement(In.a,{component:"legend"},e.title),r.a.createElement(qn.a,{class:a.formgroup},e.options.map((function(a){return r.a.createElement(q.a,{control:r.a.createElement(G.a,{color:"primary",onChange:(t=e.title,function(e){if(e.target.checked){Ae((function(a){return[].concat(Object(ia.a)(a),[Object(C.a)({},t,e.target.name)])}));var a=[];Pe.forEach((function(e,n){e[t]&&a.push(e[t])})),a.push(e.target.name),N(Object(u.a)(Object(u.a)({},w),{},Object(C.a)({},t,a)))}}),name:a}),label:a});var t})))))})),J.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Be.a,{id:e.title,options:e.options.map((function(e){return e})),onChange:(t=e.title,function(e,a){N(Object(u.a)(Object(u.a)({},w),{},Object(C.a)({},t,a)))}),renderTags:function(e,a){return e.map((function(e,t){return r.a.createElement(Ue.a,Object.assign({variant:"outlined",label:e},a({index:t})))}))},renderInput:function(a){return r.a.createElement(E.a,Object.assign({required:!0},a,{name:e.name,label:e.title,placeholder:e.name}))}}));var t})),ee.map((function(e,a){return console.log(e.options[0]),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(In.a,{required:!0,component:"legend"},e.title),r.a.createElement(vt.a,{required:!0,"aria-label":"address",name:e.title,defaultValue:e.options[0],value:w[e.title],onChange:Ze,style:{display:"inline"}},e.options.map((function(e){return r.a.createElement(q.a,{required:!0,value:e,control:r.a.createElement(bt.a,{color:"default"}),label:e})}))))})),le.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(ht.a,{utils:ft.a},r.a.createElement(zn.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:e.title,label:e.title,name:e.title,value:w[e.title],onChange:(t=e.title,function(e){N(Object(u.a)(Object(u.a)({},w),{},Object(C.a)({},t,e)))}),KeyboardButtonProps:{"aria-label":"change date"}})));var t})),ue.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:e.title,autoComplete:"off",required:!0,id:e.title,name:e.title,label:e.title,fullWidth:!0,onChange:Ye}))})),fe.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",name:e.title,required:!0,fullWidth:!0,id:e.title,onChange:Ke,value:w[e.title],label:e.title,autoFocus:!0}))})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(x.a,null,"By registering for the event.I accept the ",r.a.createElement(f.a,{onClick:function(){Me(!0)},color:"primary"},"Terms and Conditions")))),m&&r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:B,className:a.submit},B?r.a.createElement(D.a,{color:"primary",size:24}):"Register"),!m&&r.a.createElement(x.a,null,j))),r.a.createElement(v.a,{mt:2},r.a.createElement(_,null)),r.a.createElement(rl,{open:Le,setOpen:Me}))})),il=Object(S.a)((function(e){var a,t;return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},accordion:{backgroundColor:e.palette.primary.light},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(C.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(t={borderRadius:e.spacing(50)},Object(C.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(t,"backgroundColor",e.palette.primary.main),Object(C.a)(t,"color",e.palette.primary.light),t),fab:Object(C.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(C.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"}),content:{marginTop:e.spacing(3)}}}));var cl=function(e){localStorage.setItem("tabIndex",2);var a=il(),t=r.a.useState(!1),n=Object(d.a)(t,2),l=n[0],o=n[1],i=r.a.useState([]),c=Object(d.a)(i,2),s=c[0],m=c[1],u=r.a.useContext(Za).allEvents,p=r.a.useContext(rt).activeEvents,h=u.filter((function(e){return!0===e.registered})),E=r.a.useState(0),b=Object(d.a)(E,2),v=b[0],j=b[1],O=u.filter((function(e){return new Date>new Date(e.finish_time)})),C=function(e){return function(){m(e)}},S=function(){e.history.push("/post")},k=function(e){return function(){m(e),o(!0)}};return r.a.createElement("div",null,r.a.createElement("div",{className:a.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(ue.a,{className:a.root2},r.a.createElement(pe.a,{value:v,onChange:function(e,a){j(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(de.a,{label:"Registered Events"}),r.a.createElement(de.a,{label:"Past Events"}))),r.a.createElement("div",{className:a.content},0===v&&r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===h.length&&r.a.createElement(x.a,{align:"center"},"No Registered Events"),h.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,key:a},r.a.createElement(Dt,{event:e,handleViewClick:C(e),name:e.name}))}))),1===v&&r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===O.length&&r.a.createElement(x.a,{align:"center"},"No Past Events at this time"),O.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,alignItems:"center",key:a},r.a.createElement(Dt,{event:e,handleViewClick:C(e),name:e.name}))}))))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2},r.a.createElement(st.a,{color:"primary","aria-label":"add",className:a.fab,onClick:S},r.a.createElement(ut.a,null)),r.a.createElement(ue.a,{className:a.rpaper},r.a.createElement(ue.a,{className:a.subRpaper},r.a.createElement(f.a,{onClick:S,variant:"contained",fullWidth:!0,size:"large",className:a.postButton},"Post Event"),r.a.createElement(ha.a,{className:a.sideList},r.a.createElement(x.a,{variant:"body2"},"Explore Events"),p.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(ba.a,{onClick:k(e),key:a,button:!0},r.a.createElement(va.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(ya.a,{primary:e.name})),r.a.createElement(Ea.a,null))}))))))),r.a.createElement("div",null,r.a.createElement(Ya,{open:l,event:s,handleClose:function(){o(!1)},name:s.name,startTime:s.start_time,endTime:s.finish_time,regEndTime:s.registrationEndTime,type:s.eventType,tags:s.tags,mode:s.eventMode,feeType:s.feesType}))))},sl=Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:e.palette.primary.dark},body:{margin:e.spacing(3)},appbar:{backgroundColor:e.palette.secondary.main}}}));function ml(e){var a=localStorage.getItem("token"),t=sl(),n=e.match.params.eventId,l=r.a.useState({}),o=Object(d.a)(l,2),i=o[0],c=o[1],s=r.a.useState(!1),m=Object(d.a)(s,2),u=m[0],p=m[1];a&&e.history.replace("/event/".concat(n));var g=function(){p(!1)};return r.a.useEffect((function(){fetch("https://staging.ellipseapp.com"+"/api/unregistered/event?id=".concat(n),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){c(e.event)}))}))}),[n]),r.a.createElement("div",{className:t.root},r.a.createElement(he.a,{position:"sticky",className:t.appbar},r.a.createElement(Ee.a,null,r.a.createElement(x.a,{variant:"h5",className:t.title},"Ellipse"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){localStorage.setItem("eventid",n),e.history.push("/signin")}},"Login"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){localStorage.setItem("eventid",n),e.history.push("/signup")}},"Signup"))),r.a.createElement("div",{className:t.body},r.a.createElement(x.a,{align:"center",variant:"h4",style:{paddingBottom:"20px",paddingTop:"10px"}},i.name+"(Login to Register and Know More Info)"),r.a.createElement(Ye,{notRegistered:!0,event:i}),r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){localStorage.setItem("eventid",n),e.history.push("/signin")}},"Register")),r.a.createElement(B.a,{open:u,maxWidth:"md",onClose:g,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(A.a,null,r.a.createElement(Fn.a,{id:"alert-dialog-description"},"Login to Register for the Event/Contest")),r.a.createElement(P.a,null,r.a.createElement(f.a,{onClick:g,color:"primary",autoFocus:!0},"Dismiss"))))}var ul=t(352),pl=t(353),dl=t(360),gl=t(359);var fl=t(354),hl=t.n(fl),El=t(355),bl=t.n(El),vl=Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:e.palette.primary.dark},body:{margin:e.spacing(3)},appbar:{backgroundColor:e.palette.secondary.main},root2:{display:"flex","& > *":{margin:e.spacing(1),width:e.spacing(50),height:e.spacing(50)}},root3:{display:"flex",justifyContent:"center"},root4:{backgroundColor:e.palette.secondary.main}}}));function yl(e){var a=vl(),t=e.match.params.id,n=r.a.useState({}),l=Object(d.a)(n,2),o=l[0],i=l[1],c=r.a.useState(!0),s=Object(d.a)(c,2),m=s[0],u=s[1],p=r.a.useState(null),g=Object(d.a)(p,2),h=g[0],E=g[1];return r.a.useEffect((function(){fetch("https://staging.ellipseapp.com"+"/api/event/verify_certificate?id=".concat(t),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){u(!0),i(e);var a=new Date(e.date);E(a.toDateString())})):u(!1)}))}),[t]),r.a.createElement("div",{className:a.root},r.a.createElement(he.a,{position:"sticky",className:a.appbar},r.a.createElement(Ee.a,null,r.a.createElement(x.a,{variant:"h5",className:a.title},"Ellipse"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){e.history.push("/")}},"Login"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){e.history.push("/signup")}},"Signup"))),m&&r.a.createElement(v.a,{m:1,p:1,className:a.root3},r.a.createElement(v.a,{m:1,p:3,className:a.root4},r.a.createElement(hl.a,{fontSize:"large"}),r.a.createElement(x.a,{variant:"h4"},o.participantname),r.a.createElement(x.a,null,o.participant_college),r.a.createElement(x.a,{style:{marginTop:"20px"}},"Event Name: ",o.event_name),r.a.createElement(x.a,null,"Organizer: ",o.organizer),r.a.createElement(x.a,null,"Held on ",h),r.a.createElement(x.a,{style:{marginTop:"20px"}},"participation by ",o.participantname," has been confirmed"))),!m&&r.a.createElement(v.a,{m:1,p:1,className:a.root3},r.a.createElement(v.a,{m:1,p:3,className:a.root4},r.a.createElement(bl.a,{fontSize:"large"}),r.a.createElement(x.a,{variant:"h4"},"Certificate NOT FOUND"))))}var jl=t(792),Ol=t(256),xl=t.n(Ol),Cl=t(257),Sl=t.n(Cl),kl=t(356),wl=t.n(kl),_l=t(357),Tl=t.p+"static/media/un5.2f31c04b.svg",Nl=t.p+"static/media/un6.11989350.svg",Dl=t.p+"static/media/un7.07dd0552.svg",zl=Object(_l.autoPlay)(wl.a),Il=[{label:"Find and register for all your College events from one App",imgPath:Tl},{label:"Post events and manage them with ease",imgPath:Nl},{label:"Feature Rich dashboard for Event Administrators",imgPath:Dl},{label:"Create announcements, Live chat with participants and generate event certificates",imgPath:Nl}],Bl=Object(S.a)((function(e){var a;return{root:{maxWidth:"100%",flexGrow:1,padding:e.spacing(0),margin:e.spacing(0),backgroundColor:e.palette.primary.dark,borderRadius:e.spacing(0)},header:(a={display:"flex",alignItems:"center",minHeight:300},Object(C.a)(a,e.breakpoints.down("md"),{minHeight:200}),Object(C.a)(a,"paddingLeft",e.spacing(0)),Object(C.a)(a,"backgroundColor",e.palette.primary.dark),a),img:Object(C.a)({padding:e.spacing(0),maxHeight:550,display:"block",maxWidth:"100%",overflow:"hidden",width:"100%"},e.breakpoints.down("md"),{padding:e.spacing(0)}),paperLeft:Object(C.a)({margin:e.spacing(0),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},e.breakpoints.down("sm"),{}),carouselCaption:Object(C.a)({fontSize:"2.5em"},e.breakpoints.down("sm"),{fontSize:"2.3em"})}}));var Pl=function(e){var a=Bl(),t=Object(W.a)(),n=r.a.useState(0),l=Object(d.a)(n,2),o=l[0],i=l[1],c=Il.length;return r.a.createElement("div",{className:a.root},r.a.createElement(y.a,{container:!0,component:"main",justify:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(zl,{interval:"5000",axis:"rtl"===t.direction?"x-reverse":"x",index:o,onChangeIndex:function(e){i(e)},enableMouseEvents:!0},Il.map((function(e,t){return r.a.createElement("div",{key:e.label},Math.abs(o-t)<=2?r.a.createElement("img",{className:a.img,src:e.imgPath,alt:e.label}):null)})))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(ue.a,{elevation:0,className:a.header},r.a.createElement(x.a,{className:a.carouselCaption,color:"secondary",align:"center"},Il[o].label)),r.a.createElement(v.a,{className:a.paperLeft},r.a.createElement(f.a,{onClick:e.handleSignin,variant:"contained",color:"secondary"},"Get started"),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://play.google.com/store/apps/details?id=com.ellipse.ellipseapp",target:"_blank"},r.a.createElement("img",{className:a.hidden,src:w,alt:"playstore"}),r.a.createElement("br",null))))),r.a.createElement(jl.a,{steps:c,position:"static",variant:"dots",activeStep:o,nextButton:r.a.createElement(f.a,{size:"small",onClick:function(){i((function(e){return e+1}))},disabled:o===c-1},"Next","rtl"===t.direction?r.a.createElement(xl.a,null):r.a.createElement(Sl.a,null)),backButton:r.a.createElement(f.a,{size:"small",onClick:function(){i((function(e){return e-1}))},disabled:0===o},"rtl"===t.direction?r.a.createElement(Sl.a,null):r.a.createElement(xl.a,null),"Back")}))},Al=t(758),Rl=t(689),Wl=t(738),Fl=t(688),Hl=Object(S.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},morePopup:{zIndex:"5"}}}));var Ll=function(e){var a=Hl(),t=e.event,n=new Date(t.start_time),l=new Date(t.finish_time),o=new Date(t.registration_end_time),i=r.a.useState(!1),c=Object(d.a)(i,2),s=c[0],m=c[1],u=r.a.useRef(null),p=r.a.useState(!1),g=Object(d.a)(p,2),h=g[0],E=g[1],b=r.a.useState(!1),v=Object(d.a)(b,2),y=v[0],j=v[1],O=function(e){u.current&&u.current.contains(e.target)||m(!1)};function C(e){"Tab"===e.key&&(e.preventDefault(),m(!1))}var S=r.a.useRef(s);function k(){j(!0)}return r.a.useEffect((function(){!0===S.current&&!1===s&&u.current.focus(),S.current=s}),[s]),r.a.createElement(kt.a,{className:a.root},r.a.createElement(zt.a,{avatar:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{style:{display:h?"block":"none"},onLoad:function(){return E(!0)},alt:"Event Poster",height:"160",width:"150",src:"https://staging.ellipseapp.com"+"/api/image?id=".concat(t.poster_url)}),!h&&r.a.createElement("div",{style:{height:"160px",width:"150px"}},r.a.createElement(At.a,{color:"disabled",style:{height:"160px",width:"150px"}}))),action:r.a.createElement("div",null,r.a.createElement(oe.a,{ref:u,"aria-controls":s?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){m((function(e){return!e}))}},r.a.createElement(Bt.a,null)),r.a.createElement(Al.a,{className:a.morePopup,open:s,anchorEl:u.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,t=e.placement;return r.a.createElement(Fl.a,Object.assign({},a,{style:{transformOrigin:"bottom"===t?"center top":"center bottom"}}),r.a.createElement(ue.a,null,r.a.createElement(Wl.a,{onClickAway:O},r.a.createElement(Rl.a,{autoFocusItem:s,id:"menu-list-grow",onKeyDown:C},r.a.createElement(be.a,{onClick:k},"Share")))))}))),title:r.a.createElement(x.a,{noWrap:!0,variant:"h5",color:"textPrimary",component:"p"},t.name),subheader:r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{variant:"body1",color:"textSecondary",component:"p"},t.description),r.a.createElement(Ue.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:t.event_mode}),r.a.createElement(Ue.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:t.fee_type}),r.a.createElement(Ue.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:t.event_type}),r.a.createElement(Ue.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Reg ends on "+o.toDateString()}),r.a.createElement(Ue.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Starts on "+n.toDateString()}),r.a.createElement(Ue.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Ends on "+l.toDateString()}))}),r.a.createElement(Me,{event:t,open:y,handleClose:function(){j(!1)}}),r.a.createElement(wt.a,{disableSpacing:!0},r.a.createElement("div",{className:a.buttonDiv},r.a.createElement(f.a,{size:"small",color:"primary",variant:"outlined",className:a.button,onClick:e.onClick},"See More"),r.a.createElement(f.a,{disabled:!!t.registered,size:"small",color:"primary",variant:"contained",className:a.button,onClick:e.onClick},"Register"))))},Ml=Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},body:{margin:e.spacing(0)},appbar:{backgroundColor:e.palette.secondary.main},img:Object(C.a)({padding:e.spacing(10),minHeight:200,display:"block",maxWidth:"100%",overflow:"hidden",width:"100%"},e.breakpoints.down("sm"),{padding:e.spacing(3)}),footer:{backgroundColor:e.palette.secondary.main,marginTop:e.spacing(3)},header:{display:"flex",alignItems:"center",minHeight:200,backgroundColor:e.palette.secondary.main,margin:e.spacing(10),borderRadius:e.spacing(2),boxShadow:"3"},button:{margin:e.spacing(1),borderRadius:e.spacing(3)},title:{fontFamily:"Gugi",color:e.palette.primary.dark,fontWeight:"bold",flexGrow:1}}}));function ql(e){var a=Ml(),t=r.a.useState([]),n=Object(d.a)(t,2),l=n[0],o=n[1];function i(){e.history.push("/signin")}return r.a.useEffect((function(){fetch("https://staging.ellipseapp.com/api/get_events",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){e.sort((function(e,a){return new Date(e.start_time)-new Date(a.start_time)})),o(e.filter((function(e){return new Date<new Date(e.finish_time)&&"pending"!==e.status})))}))}))}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(he.a,{position:"sticky",className:a.appbar},r.a.createElement(Ee.a,null,r.a.createElement(x.a,{className:a.title,variant:"h5"},"Ellipse"),r.a.createElement(f.a,{className:a.button,variant:"contained",size:"large",color:"primary",onClick:i},"Login"),r.a.createElement(f.a,{className:a.button,variant:"outlined",size:"large",color:"primary",onClick:function(){e.history.push("/signup")}},"Signup"))),r.a.createElement("div",{className:a.body},r.a.createElement(Pl,{handleSignin:i})),r.a.createElement(y.a,{style:{minHeight:"100px"},container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:!1,md:3,lg:2,style:{padding:"10px"}}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8},l.map((function(e,a){return r.a.createElement(Ll,{onClick:i,event:e})})))),r.a.createElement(v.a,{className:a.footer,height:"200px",display:"flex",flexDirection:"column",justifyContent:"center"},r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(x.a,null,"Contact us at ",r.a.createElement(b.a,{href:"mailto:support@ellipseapp.com",variant:"body2"},"support@ellipseapp.com"))),r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(_,null)),r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(b.a,{href:"/Privacy_Policy.pdf",variant:"body2"},"Privacy Policy")),r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement("a",{rel:"noopener noreferrer",href:"https://play.google.com/store/apps/details?id=com.ellipse.ellipseapp",target:"_blank"},r.a.createElement("img",{className:a.hidden,src:w,alt:"playstore"}),r.a.createElement("br",null)))))}var Gl,Ul=(Gl=function(){return r.a.createElement(Q,null,r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:ql}),r.a.createElement(c.b,{exact:!0,path:"/signin",component:L}),r.a.createElement(c.b,{exact:!0,path:"/signup",component:V}),r.a.createElement(c.b,{exact:!0,path:"/forgotpassword",component:Y}),r.a.createElement(c.b,{exact:!0,path:"/userinfo",component:se}),r.a.createElement(c.b,{exact:!0,path:"/otpverification",component:$}),r.a.createElement(c.b,{exact:!0,path:"/un/event/:eventId",component:ml}),r.a.createElement(c.b,{exact:!0,path:"/event/:eventId",component:nl}),r.a.createElement(c.b,{exact:!0,path:"/verify_certificate/:id",component:yl}),r.a.createElement(ot,null,r.a.createElement(c.b,{path:"/home",component:Gt}),r.a.createElement(c.b,{exact:!0,path:"/events",component:dt}),r.a.createElement(c.b,{exact:!0,path:"/post",component:Zn}),r.a.createElement(c.b,{exact:!0,path:"/profile",component:_n}),r.a.createElement(c.b,{exact:!0,path:"/chat",component:or}),r.a.createElement(c.b,{exact:!0,path:"/event/register/:eventId",component:ol}),r.a.createElement(c.b,{exact:!0,path:"/yourevents",component:cl}))))))},function(e){Object(dl.a)(t,e);var a=Object(gl.a)(t);function t(){var e;Object(ul.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={isDisconnected:!1},e.handleConnectionChange=function(){if("online"!==(navigator.onLine?"online":"offline"))return e.setState({isDisconnected:!0});var a=setInterval((function(){fetch("//google.com",{mode:"no-cors"}).then((function(){e.setState({isDisconnected:!1},(function(){return clearInterval(a)}))})).catch((function(){return e.setState({isDisconnected:!0})}))}),2e3)},e}return Object(pl.a)(t,[{key:"componentDidMount",value:function(){this.handleConnectionChange(),window.addEventListener("online",this.handleConnectionChange),window.addEventListener("offline",this.handleConnectionChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.handleConnectionChange),window.removeEventListener("offline",this.handleConnectionChange)}},{key:"render",value:function(){var e=this.state.isDisconnected;return r.a.createElement("div",null,e&&r.a.createElement("div",{className:"internet-error"},r.a.createElement("p",null,"Internet connection lost")),r.a.createElement(Gl,this.props))}}]),t}(n.Component)),Jl=t(776),Vl=t(358),Kl=Object(Vl.a)({palette:{type:"dark",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#000000"},secondary:{main:"#1C1C1E"},background:{default:"#000000"}}}),Yl=Object(Vl.a)({palette:{type:"light",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#ffffff"},secondary:{main:"#e5e5e5"},background:{default:"#ffffff"}}}),Zl=localStorage.getItem("theme");o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Jl.a,{theme:"light"===Zl?Yl:Kl},r.a.createElement(h.a,null,r.a.createElement(Ul,null)))),document.getElementById("root"))}},[[681,1,2]]]);
//# sourceMappingURL=main.7b92f4ce.chunk.js.map