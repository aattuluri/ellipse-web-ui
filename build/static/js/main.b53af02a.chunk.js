(this.webpackJsonpellipsereactapp=this.webpackJsonpellipsereactapp||[]).push([[0],{668:function(e,t,a){},707:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),i=a.n(l),o=a(176),c=a(17),s=a(13),m=a.n(s),u=a(7),d=a(23),p=a(1),g=a(823),f=a(177),h=a(770),E=a(380),b=a(763),v=a(812),y=a(765),j=a(116),x=a.n(j),O=a(56),C=a(6),S=a(89),_=Object(S.a)((function(e){var t;return{root:{display:"flex",height:"100vh"},wrapper:{margin:e.spacing(1),position:"relative"},paperRight:Object(C.a)({margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(0),paddingBottom:e.spacing(4),borderRadius:30,minHeight:"80vh"},e.breakpoints.down("sm"),{margin:e.spacing(0,1),paddingBottom:e.spacing(2)}),paperLeft:(t={margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},Object(C.a)(t,e.breakpoints.down("sm"),{margin:e.spacing(3,1)}),Object(C.a)(t,e.breakpoints.up("md"),{height:"80vh"}),t),paperimage:{margin:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center"},avatar:{margin:e.spacing(),marginTop:e.spacing(8),backgroundColor:e.palette.primary.main},form:Object(C.a)({width:"90%",margin:e.spacing(5)},e.breakpoints.down("sm"),{margin:e.spacing(2)}),submit:{margin:e.spacing(3,0,2)},iPhoneImage:Object(C.a)({},e.breakpoints.down("sm"),{display:"none"}),title:{fontFamily:"Gugi",color:e.palette.primary.dark,fontWeight:"bold"},hidden:Object(C.a)({},e.breakpoints.down("sm"),{display:"none"}),image:Object(C.a)({maxHeight:"600px",maxWidth:"600px"},e.breakpoints.down("sm"),{display:"none"}),footer:{backgroundColor:e.palette.secondary.main,marginTop:e.spacing(3)}}})),k=a.p+"static/media/google-play-badge.561e4a2c.png";var w=function(){return r.a.createElement(O.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(b.a,{color:"inherit",href:"https://ellipseapp.com/"},"ellipseapp.com")," ",(new Date).getFullYear(),".")},T=a(822),N=a(816),D=a(772),z=a.p+"static/media/logo300.123db6fb.svg",I=a(202),B=a(710),A=a(717),P=a(713),R=a(764),W=a(44);function M(e){var t=Object(W.a)(),a=r.a.useState(null),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState(null),c=Object(p.a)(o,2),s=c[0],m=c[1];return r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Support"),r.a.createElement(P.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"name",label:"Full Name",name:"name",fullWidth:!0,value:l||"",onChange:function(e){i(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:s||"",onChange:function(e){m(e.target.value)}})))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(b.a,{href:"mailto:support@ellipseapp.com?subject=".concat(l,"&body=").concat(s),target:"_blank",rel:"noopener noreferrer",variant:"body2"},"SEND"))))}function F(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var q=Object(c.g)((function(e){var t=e.history,a=_(),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(p.a)(n,2),i=l[0],o=l[1],s=r.a.useState(!1),j=Object(p.a)(s,2),C=j[0],S=j[1],N=i.vertical,B=i.horizontal,A=i.open,P=i.message,R=i.type,W=i.autoHide,q=r.a.useState(null),H=Object(p.a)(q,2),L=H[0],G=H[1],U=r.a.useState(null),J=Object(p.a)(U,2),V=J[0],Y=J[1],K=r.a.useState(null),Z=Object(p.a)(K,2),Q=Z[0],X=Z[1],$=new AbortController,ee=Object(I.a)(),te=r.a.useState(!1),ae=Object(p.a)(te,2),ne=ae[0],re=ae[1];function le(e,t){return new Promise((function(a,n){var r=setTimeout((function(){n(new Error("TIMEOUT"))}),e);t.then((function(e){clearTimeout(r),a(e)})).catch((function(e){S(!1),o({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong Try Again",type:"error",autoHide:4e3}),clearTimeout(r),n(e)}))}))}var ie=function(){var e=Object(d.a)(m.a.mark((function e(a,n){var r,l,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("clickaway"!==n){e.next=2;break}return e.abrupt("return");case 2:if("Signedin successfully"===P)if(localStorage.setItem("token",L),V)localStorage.setItem("token",L),(r=localStorage.getItem("eventid"))?($.abort(),t.push("/event/".concat(r))):($.abort(),t.push("/home"));else try{new FormData,c={email:Q},l=JSON.stringify(c),fetch("https://ellipseapp.com/api/users/sendverificationemail",{signal:$.signal,headers:{Authorization:"Bearer ".concat(L),"Content-Type":"application/json"},method:"POST",body:l}).then((function(e){e.json().then((function(e){"success"===e.message&&($.abort(),localStorage.setItem("token",L),t.push("/otpverification"),o({open:!0,vertical:"top",horizontal:"center",message:"Signedin successfully",type:"success",autoHide:300}))}))}))}catch(a){S(!1),o({open:!0,vertical:"top",horizontal:"center",message:a.message,type:"error",autoHide:3e3})}o(Object(u.a)(Object(u.a)({},i),{},{open:!1}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function oe(){return(oe=Object(d.a)(m.a.mark((function e(t){var a,n,r,l,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),S(!0),a=t.target.elements,n=a.email,r=a.password;try{new FormData,i={email:n.value,password:r.value,type:"browser",browser_name:ee.name,device_os:ee.os},l=JSON.stringify(i),le(25e3,fetch("https://ellipseapp.com/api/users/login",{signal:$.signal,headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:l})).then((function(e){200===e.status?e.json().then((function(e){G(e.token),Y(e.isVerified),X(e.useremail),S(!1),o({open:!0,vertical:"top",horizontal:"center",message:"Signedin successfully",type:"success",autoHide:200})})):(S(!1),o({open:!0,vertical:"top",horizontal:"center",message:"invalid credentials",type:"error",autoHide:6e3}))}))}catch(c){S(!1),o({open:!0,vertical:"top",horizontal:"center",message:c.message,type:"error",autoHide:6e3})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(localStorage.getItem("token"))return r.a.createElement(c.a,{to:"/home"});return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{container:!0,component:"main",className:a.root},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:N,horizontal:B},open:A,autoHideDuration:W,onClose:ie,key:N+B},r.a.createElement(F,{onClose:ie,severity:R},P)),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:7,elevation:6},r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"flex-start",m:1,p:1,className:a.paperLeft},r.a.createElement("img",{src:z,alt:"logo",height:"500px",width:"500px",className:a.image}),r.a.createElement(O.a,{className:a.title,component:"h1",variant:"h2"},"Ellipse"),r.a.createElement(O.a,{component:"h1",variant:"h6"},"Kill time for what matters"),r.a.createElement("br",null),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://play.google.com/store/apps/details?id=com.ellipse.ellipseapp",target:"_blank"},r.a.createElement("img",{className:a.hidden,src:k,alt:"playstore"}),r.a.createElement("br",null)))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:5,elevation:6},r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"center",m:1,p:1,className:a.paperRight},r.a.createElement(g.a,{className:a.avatar},r.a.createElement(x.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,onSubmit:function(e){return oe.apply(this,arguments)}},r.a.createElement(E.a,{name:"email",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",autoComplete:"email",autoFocus:!0}),r.a.createElement(E.a,{name:"password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement("div",{className:a.wrapper},r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:C,className:a.submit},C?r.a.createElement(D.a,{color:"primary",size:24}):"Sign In")),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:!0},r.a.createElement(b.a,{href:"/forgotpassword",variant:"body2"},"Forgot password?")),r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up"))),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:!0}),r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{onClick:function(){re(!0)},variant:"body2"},"Get Support")))),r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"flex-end"},r.a.createElement(w,null)))),r.a.createElement(M,{open:ne,handleClose:function(){re(!1)}})))})),H=a(15),L=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},closeButton:Object(C.a)({position:"absolute",right:e.spacing(1),top:e.spacing(7)},e.breakpoints.down("md"),{top:e.spacing(12)}),hidden:{display:"none"}}})),G=a(814),U=a(819),J=a(769),V=a(768),Y=a(774),K=a(817),Z=a(773);function Q(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var X=Object(c.g)((function(e){var t=e.history,a=L(),n=r.a.useState(""),l=Object(p.a)(n,2),i=l[0],o=l[1],s=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),j=Object(p.a)(s,2),C=j[0],S=j[1],_=r.a.useState(!1),k=Object(p.a)(_,2),N=k[0],z=k[1],B=C.vertical,A=C.horizontal,P=C.open,R=C.message,W=C.type,F=C.autoHide,q=r.a.useState(!1),X=Object(p.a)(q,2),$=X[0],ee=X[1],te=r.a.useState(!1),ae=Object(p.a)(te,2),ne=ae[0],re=ae[1],le=r.a.useState(!1),ie=Object(p.a)(le,2),oe=ie[0],ce=ie[1],se=r.a.useState([]),me=Object(p.a)(se,2),ue=me[0],de=me[1],pe=r.a.useState(null),ge=Object(p.a)(pe,2),fe=ge[0],he=ge[1],Ee=r.a.useState(null),be=Object(p.a)(Ee,2),ve=be[0],ye=be[1],je=r.a.useState([]),xe=Object(p.a)(je,2),Oe=xe[0],Ce=xe[1],Se=r.a.useState(!1),_e=Object(p.a)(Se,2),ke=_e[0],we=_e[1],Te=Object(I.a)(),Ne=r.a.useState(!1),De=Object(p.a)(Ne,2),ze=De[0],Ie=De[1];function Be(e,t){return new Promise((function(a,n){var r=setTimeout((function(){n(new Error("TIMEOUT"))}),e);t.then((function(e){clearTimeout(r),a(e)})).catch((function(e){z(!1),S({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong Try Again",type:"error",autoHide:4e3}),clearTimeout(r),n(e)}))}))}r.a.useEffect((function(){fetch("https://ellipseapp.com/api/colleges",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){de(e),e.forEach((function(e){Ce((function(t){return[].concat(Object(H.a)(t),[e.name])}))}))}))}))}),[]),r.a.useEffect((function(){!function(e,t,a){var n=document.getElementById(e);if(!n){var r=document.createElement("script");r.type="text/javascript",r.src=t,r.id=e,r.onload=function(){a&&a()},document.body.appendChild(r)}n&&a&&a()}("recaptcha-key","https://www.google.com/recaptcha/api.js?render=".concat("6LcEVOoZAAAAAOjNV_wZFJ7YQMBs4IwKyH-LdU2P"),(function(){window.grecaptcha.ready((function(){window.grecaptcha.execute("6LcEVOoZAAAAAOjNV_wZFJ7YQMBs4IwKyH-LdU2P",{action:"submit"}).then((function(e){fetch("https://ellipseapp.com/api/verify_recaptcha",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recaptcha_token:e})}).then((function(e){200===e.status&&e.json().then((function(e){e.success&&e.score<.5&&we(!0)}))}))}))}))}))}),[]);var Ae=function(){var e=Object(d.a)(m.a.mark((function e(a,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Signedup successfully"===R&&(localStorage.setItem("token",i),t.replace("/otpverification")),S(Object(u.a)(Object(u.a)({},C),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function Pe(){return(Pe=Object(d.a)(m.a.mark((function e(t){var a,n,r,l,i,c,s,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),z(!0),a=t.target.elements,n=a.fullName,r=a.email,l=a.designation,i=a.password,c=a.username,s=a.terms;try{s.checked?(new FormData,d={name:n.value,email:r.value,designation:l.value,college_id:ve,password:i.value,username:c.value,type:"browser",browser_name:Te.name,device_os:Te.os},u=JSON.stringify(d),Be(25e3,fetch("https://ellipseapp.com/api/users/signup",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:u})).then((function(e){200===e.status?e.json().then((function(e){o(e.token);var t=new FormData,a={email:e.useremail};t=JSON.stringify(a);var n=e.token;fetch("https://ellipseapp.com/api/users/sendverificationemail",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},method:"POST",body:t}).then((function(e){e.json().then((function(e){"success"===e.message&&S({open:!0,vertical:"top",horizontal:"center",message:"Signedup successfully",type:"success",autoHide:300})}))}))})):401===e.status?(z(!1),S({open:!0,vertical:"top",horizontal:"center",message:"Email already registered",type:"error",autoHide:3e3})):(z(!1),S({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong Try Again",type:"error",autoHide:4e3}))}))):(z(!1),S({open:!0,vertical:"top",horizontal:"center",message:"Please agree to the terms and conditions",type:"error"}))}catch(m){z(!1),S({open:!0,vertical:"top",horizontal:"center",message:m.message,type:"error"})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(localStorage.getItem("token"))return r.a.createElement(c.a,{to:"/home"});return r.a.createElement(Z.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:B,horizontal:A},open:P,autoHideDuration:F,onClose:Ae,key:B+A},r.a.createElement(Q,{onClose:Ae,severity:W},R)),r.a.createElement("div",{className:a.paper},r.a.createElement(g.a,{className:a.avatar},r.a.createElement(x.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:a.form,onSubmit:function(e){return Pe.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"fullName",name:"fullName",variant:"outlined",required:!0,fullWidth:!0,id:"fullName",label:"Full Name",autoFocus:!0,inputProps:{pattern:"[a-zA-Z ]+"},onInvalid:function(){ee(!0)},helperText:$&&"Name should only contain alphabet and spaces",onInput:function(){ee(!1)},error:$})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",type:"email",autoComplete:"email"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"User Name",onChange:function(e){var t=e.target.value,a=new FormData,n={username:t};a=JSON.stringify(n),re(!1),we(!1),fetch("https://ellipseapp.com/api/check_username",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){e.json().then((function(e){"user already exists"===e.message&&(re(!0),we(!0))}))}))},name:"username",error:ne,helperText:ne&&"username already exists"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(J.a,{htmlFor:"designation"},"You are"),r.a.createElement(G.a,{fullWidth:!0,native:!0,label:"You are",inputProps:{name:"designation",id:"designation"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Faculty"},"Faculty"),r.a.createElement("option",{value:"Club/Organisation"},"Club/Organisation"),r.a.createElement("option",{value:"Institution"},"Institution"),r.a.createElement("option",{value:"Others"},"Others")))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(U.a,{fullWidth:!0,id:"college",options:Oe,getOptionLabel:function(e){return e},value:fe,onChange:function(e,t){he(t),ue.forEach((function(e){e.name===t&&ye(e._id)}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({name:"college",variant:"outlined",fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",inputProps:{pattern:"^.{6,}$"},onInvalid:function(){ce(!0)},helperText:oe&&"Password should atleast be 6 characters",onInput:function(){ce(!1)},error:oe})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Y.a,{control:r.a.createElement(K.a,{color:"primary",name:"terms",checked:!0,disabled:!0}),label:r.a.createElement(O.a,null,"By signing up I accept the ",r.a.createElement(b.a,{href:"/Privacy_Policy.pdf"},"Pivacy Policy and Terms of Service"))}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:N||ke,className:a.submit},N?r.a.createElement(D.a,{color:"primary",size:24}):"Sign Up"),r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{href:"/signin",variant:"body2"},"Already have an account? Sign in"))),r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{onClick:function(){Ie(!0)},variant:"body2"},"Get Support"))))),r.a.createElement(v.a,{mt:2},r.a.createElement(w,null)),r.a.createElement(M,{open:ze,handleClose:function(){Ie(!1)}}))}));function $(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var ee=Object(c.g)((function(e){var t=e.history,a=L(),n=r.a.useState(null),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(null),s=Object(p.a)(c,2),j=s[0],C=s[1],S=r.a.useState(null),_=Object(p.a)(S,2),k=_[0],N=_[1],z=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),I=Object(p.a)(z,2),B=I[0],A=I[1],P=r.a.useState(!1),R=Object(p.a)(P,2),W=R[0],M=R[1],F=r.a.useState(!1),q=Object(p.a)(F,2),H=q[0],G=q[1],U=B.vertical,J=B.horizontal,V=B.open,Y=B.message,K=B.type,Q=B.autoHide;function X(){return(X=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),M(!0);try{new FormData,n={email:i},a=JSON.stringify(n),fetch("https://ellipseapp.com/api/users/sendverificationemail",{headers:{"Content-Type":"application/json"},method:"POST",body:a}).then((function(e){e.json().then((function(e){"success"===e.message&&(M(!1),A({open:!0,vertical:"top",horizontal:"center",message:"Enter the OTP sent to your registered email address",type:"success",autoHide:2e3}))}))}))}catch(r){M(!1),A({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),G(!0);try{new FormData,n={email:i,otp:j,nPassword:k},a=JSON.stringify(n),fetch("https://ellipseapp.com/api/users/forgotpassword",{headers:{"Content-Type":"application/json"},method:"POST",body:a}).then((function(e){e.json().then((function(e){"success"===e.message&&(G(!1),A({open:!0,vertical:"top",horizontal:"center",message:"Succesful! Login to continue",type:"success",autoHide:300}))}))}))}catch(r){G(!1),A({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){"Succesful! Login to continue"===Y&&t.replace("/"),A(Object(u.a)(Object(u.a)({},B),{},{open:!1}))}return r.a.createElement(Z.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:U,horizontal:J},open:V,autoHideDuration:Q,onClose:te,key:U+J},r.a.createElement($,{onClose:te,severity:K},Y)),r.a.createElement("div",{className:a.paper},r.a.createElement(g.a,{className:a.avatar},r.a.createElement(x.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h5"},"Enter your email to receive OTP"),r.a.createElement("form",{className:a.form,onSubmit:function(e){return X.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:i,onChange:function(e){return o(e.target.value)},autoComplete:"email"}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:W,className:a.submit},W?r.a.createElement(D.a,{color:"primary",size:24}):"Send OTP")),r.a.createElement("form",{className:a.form,onSubmit:function(e){return ee.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"otp",label:"OTP",name:"otp",value:j,onChange:function(e){return C(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"password",label:"New Password",name:"password",value:k,type:"password",onChange:function(e){return N(e.target.value)}}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:H,className:a.submit},H?r.a.createElement(D.a,{color:"primary",size:24}):"Reset Password")),r.a.createElement(y.a,{container:!0,justify:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(b.a,{href:"/",variant:"body2"},"Instead? Sign in")))),r.a.createElement(v.a,{mt:2},r.a.createElement(w,null)))})),te=r.a.createContext(),ae=function(e){var t=e.children,a=Object(n.useState)(null),l=Object(p.a)(a,2),i=l[0],o=l[1],c=Object(n.useState)(!0),s=Object(p.a)(c,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){o(localStorage.getItem("user")),u(!1)}),[]),m?r.a.createElement(r.a.Fragment,null,"Loading..."):r.a.createElement(te.Provider,{value:{currentUser:i}},t)};function ne(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var re=Object(c.g)((function(e){var t=e.history,a=L(),n=localStorage.getItem("token"),l=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),i=Object(p.a)(l,2),o=i[0],s=i[1],m=r.a.useState(!1),d=Object(p.a)(m,2),b=d[0],j=d[1],C=o.vertical,S=o.horizontal,_=o.open,k=o.message,N=o.type,z=o.autoHide,I=r.a.useState(30),B=Object(p.a)(I,2),A=B[0],P=B[1],R=r.a.useState(!1),W=Object(p.a)(R,2),M=W[0],F=W[1];function q(){"Success! redirecting to Ellipse Home"===k&&t.replace("/home"),s(Object(u.a)(Object(u.a)({},o),{},{open:!1}))}if(r.a.useEffect((function(){A>0?setTimeout((function(){return P(A-1)}),1e3):F(!0)}),[A]),!n)return r.a.createElement(c.a,{to:"/"});return r.a.createElement(Z.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:C,horizontal:S},open:_,autoHideDuration:z,onClose:q,key:C+S},r.a.createElement(ne,{onClose:q,severity:N},k)),r.a.createElement("div",{className:a.paper},r.a.createElement(g.a,{className:a.avatar},r.a.createElement(x.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h5"},"Email Verification"),r.a.createElement("form",{className:a.form,onSubmit:function(e){e.preventDefault(),j(!0);var t=e.target.elements.otp;try{var a=new FormData,r={otp:t.value};a=JSON.stringify(r),fetch("https://ellipseapp.com/api/users/verifyotp",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){e.json().then((function(e){"verified"===e.message?(j(!1),s({open:!0,vertical:"top",horizontal:"center",message:"Success! redirecting to Ellipse Home",type:"success",autoHide:300})):"Not verified"===e.message?(j(!1),s({open:!0,vertical:"top",horizontal:"center",message:"Invalid OTP, please check and try again",type:"error",autoHide:5e3})):(j(!1),s({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong try again",type:"error",autoHide:5e3}))}))}))}catch(l){j(!1),s({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error"})}}},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"outlined",required:!0,fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp"})),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:b,className:a.submit},b?r.a.createElement(D.a,{color:"primary",size:24}):"Continue"),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0},r.a.createElement(f.a,{disabled:!M,onClick:function(){try{var e=new FormData;e=JSON.stringify({}),fetch("https://ellipseapp.com/api/users/sendverificationemailwithauth",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},method:"POST",body:e}).then((function(e){e.json().then((function(e){"success"===e.message&&s({open:!0,vertical:"top",horizontal:"center",message:"Password sent succcessfully",type:"success",autoHide:300})}))}))}catch(t){j(!1),s({open:!0,vertical:"top",horizontal:"center",message:t.message,type:"error"})}}},"Resend OTP in ",A)),r.a.createElement(y.a,{item:!0},r.a.createElement(f.a,{onClick:function(){t.push("/signin"),localStorage.removeItem("token")}},"Signin to Different account"))))),r.a.createElement(v.a,{mt:2},r.a.createElement(w,null)))})),le=a(775),ie=a(68),oe=a.n(ie),ce=a(220),se=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main,width:e.spacing(20),height:e.spacing(20)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},textArea:{width:e.spacing(58),margin:e.spacing(2),borderRadius:e.spacing(2),backgroundColor:e.palette.secondary.main,color:e.palette.primary.dark}}}));function me(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var ue=Object(c.g)((function(e){var t=e.history,a=localStorage.getItem("token"),n=se(),l=r.a.useState(""),i=Object(p.a)(l,2),o=i[0],s=i[1],b=r.a.useState(null),j=Object(p.a)(b,2),x=j[0],C=j[1],S=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),_=Object(p.a)(S,2),k=_[0],N=_[1],z=r.a.useState(!1),I=Object(p.a)(z,2),B=I[0],A=I[1],P=k.vertical,R=k.horizontal,W=k.open,M=k.message,F=k.type,q=k.autoHide,H=function(){var e=Object(d.a)(m.a.mark((function e(a,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"successful"===M&&((r=localStorage.getItem("eventid"))?t.push("/event/".concat(r)):t.replace("/home")),N(Object(u.a)(Object(u.a)({},k),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();if(!a)return r.a.createElement(c.a,{to:"/"});function L(){return(L=Object(d.a)(m.a.mark((function e(t){var n,r,l,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),A(!0),n=t.target.elements,r=n.gender,l=n.bio;try{new FormData,o={gender:r.value,bio:l.value},i=JSON.stringify(o),fetch("https://ellipseapp.com/api/users/userdetails",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:i}).then((function(e){200===e.status&&e.json().then((function(e){if(null!=x){var t=new FormData;t.append("image",x),fetch("https://ellipseapp.com/api/users/uploadImage",{headers:{Authorization:"Bearer ".concat(a)},method:"POST",body:t}).then((function(e){200===e.status&&(A(!1),N({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else A(!1),N({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300})}))}))}catch(c){A(!1),N({open:!0,vertical:"top",horizontal:"center",message:c.message,type:"error",autoHide:3e3})}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Z.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:P,horizontal:R},open:W,autoHideDuration:q,onClose:H,key:P+R},r.a.createElement(me,{onClose:H,severity:F},M)),r.a.createElement("div",{className:n.paper},r.a.createElement(O.a,{component:"h1",variant:"h3"},"Welcome"),r.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){C(e.target.files[0]);var t=URL.createObjectURL(e.target.files[0]);s(t)}},style:{display:"none"}}),r.a.createElement(le.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(ce.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(oe.a,null)))},r.a.createElement(g.a,{className:n.avatar,sizes:"100",alt:"",src:o})),r.a.createElement("form",{className:n.form,onSubmit:function(e){return L.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Bio",autoComplete:"off",required:!0,id:"bio",name:"bio",label:"Bio",fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(V.a,{variant:"outlined",fullWidth:!0},r.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Gender"),r.a.createElement(G.a,{fullWidth:!0,native:!0,label:"Age",inputProps:{name:"gender",id:"outlined-age-native-simple"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Others"},"Others"))))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:B,className:n.submit},B?r.a.createElement(D.a,{color:"primary",size:24}):"Continue"))),r.a.createElement(v.a,{mt:2},r.a.createElement(w,null)))})),de=a(712),pe=a(219),ge=a(16),fe=Object(S.a)((function(e){var t,a,n;return{"@global":{"*::-webkit-scrollbar":{width:"0.5em",height:"0.5em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 1px rgba(0,0,0,0.00)"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#ad9d9d",outline:"1px solid slategrey"}},paper:{marginTop:e.spacing(0),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30,marginBottom:e.spacing(5)},root:{display:"flex",flexGrow:1,maxWidth:800,background:e.palette.secondary.main,alignItems:"center",elevation:"0"},grow:{flexGrow:1,alignItems:"center"},title:(t={display:"none"},Object(C.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(C.a)(t,"fontFamily","Gugi"),Object(C.a)(t,"color",e.palette.primary.dark),Object(C.a)(t,"fontWeight","bold"),t),mobileTitle:Object(C.a)({},e.breakpoints.up("sm"),{display:"none"}),titleButton:(a={display:"none"},Object(C.a)(a,e.breakpoints.up("sm"),{display:"inline-block"}),Object(C.a)(a,"margin",e.spacing(0)),Object(C.a)(a,"padding",e.spacing(0)),Object(C.a)(a,"textTransform","none"),a),mobileTitleButton:(n={display:"none"},Object(C.a)(n,e.breakpoints.down("xs"),{display:"inline-block",width:"fit-content"}),Object(C.a)(n,"margin",e.spacing(0)),Object(C.a)(n,"padding",e.spacing(0)),n),search:Object(C.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ge.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ge.c)(e.palette.common.white,.25)},marginRight:e.spacing(1),marginLeft:e.spacing(1),width:"230px"},e.breakpoints.up("md"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(C.a)({borderBottom:"none",padding:e.spacing(.5,.5,.5,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"30ch"}),sectionDesktop:Object(C.a)({},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(C.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),tabs:Object(C.a)({display:"none"},e.breakpoints.up("lg"),{display:"flex",flexDirection:"row",marginLeft:e.spacing(15)}),mobiletab:Object(C.a)({display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.up("lg"),{display:"none"}),tabPanel:{marginBottom:e.spacing(3)},flex_section:{flexGrow:1,display:"flex",flexDirection:"row"},flex_col_scroll:{flexGrow:1,overflow:"auto"},rpaper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(2)},postButton:{borderRadius:e.spacing(50)}}})),he=a(813),Ee=a(783),be=a(266),ve=a.n(be),ye=a(786),je=a(720),xe=a(784),Oe=a(336),Ce=a(349),Se=a.n(Ce),_e=a(350),ke=a.n(_e),we=a(175),Te=a.n(we),Ne=a(207),De=a.n(Ne),ze=a(264),Ie=a.n(ze),Be=a(785),Ae=a(265),Pe=a.n(Ae),Re=a(787),We=r.a.createContext({currentUser:null,setCurrentUser:function(){}}),Me=a(136),Fe=a.n(Me),qe=a(58),He=a.n(qe),Le=a(203),Ge=a.n(Le);function Ue(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function Je(e){var t=Object(W.a)(),a=r.a.useState(null),n=Object(p.a)(a,2),l=n[0],i=n[1],o=e.event,c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),s=Object(p.a)(c,2),g=s[0],h=s[1],b=g.vertical,v=g.horizontal,j=g.open,x=g.message,O=g.type,C=g.autoHide;r.a.useEffect((function(){i(o.share_link)}),[o.share_link]);var S=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:h({open:!0,vertical:"top",horizontal:"center",message:"Copied to clipboard",type:"success",autoHide:3e3}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),h({open:!0,vertical:"top",horizontal:"center",message:e.t0.message,type:"error",autoHide:4e3});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:b,horizontal:v},open:j,autoHideDuration:C,onClose:S,key:b+v},r.a.createElement(Ue,{onClose:S,severity:O},x)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},o.name),r.a.createElement(P.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:11},r.a.createElement(E.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"title",label:"Share Link",name:"title",fullWidth:!0,value:l,required:!0,onChange:function(e){i(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:1},r.a.createElement(ce.a,{onClick:function(){return _(l)}},r.a.createElement(Ge.a,null))))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Dismiss"))))}var Ve=a(25),Ye=a(63),Ke=a(824),Ze=a(204),Qe=a.n(Ze),Xe=a(153),$e=a.n(Xe),et=a(776),tt=a(348),at=a.n(tt),nt=a(342),rt=a.n(nt),lt=a(345),it=a.n(lt),ot=a(343),ct=a.n(ot),st=a(344),mt=a.n(st),ut=a(346),dt=a.n(ut),pt=a(347),gt=a.n(pt),ft=Object(S.a)((function(e){return{imageBox:{display:"flex",justifyContent:"center"},dialog:{minHeight:"90vh",maxHeight:"90vh"},image:{maxWidth:"100%"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},title:{backgroundColor:e.palette.secondary}}}));var ht=function(e){var t=ft(),a=e.event;function n(){e.handleClose()}return r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,onClose:n,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none"}},classes:{paper:t.dialog}},r.a.createElement(R.a,{className:t.title},a.name,r.a.createElement("div",{className:t.icons},r.a.createElement(ce.a,{"aria-label":"close",className:t.closeButton,onClick:n},r.a.createElement(He.a,{fontSize:"large"})))),r.a.createElement(P.a,null,r.a.createElement(v.a,{className:t.imageBox},r.a.createElement("img",{className:t.image,src:"https://ellipseapp.com"+"/api/image?id=".concat(a.poster_url),alt:"profile pic"})))))},Et=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},avatar:{backgroundColor:e.palette.primary.main,width:e.spacing(7),height:e.spacing(7),marginRight:e.spacing(1)},adminDetails:{display:"flex",justifyContent:"flex-start",marginTop:e.spacing(2)},boxItem:{display:"flex",justifyContent:"center",minWidth:"20%"},gridMain:{borderRadius:e.spacing(2),backgroundColor:e.palette.secondary.main,marginTop:e.spacing(1),border:"2px solid #00bdaa1A",elevation:5},gridItem:{padding:e.spacing(1),elevation:"5"},divider:{backgroundColor:e.palette.primary.main,height:"1px",margin:e.spacing(1),opacity:"0.2"},overFlowText:{overflow:"hidden",textOverflow:"ellipsis",maxHeight:"100px"}}}));var bt=function(e){var t=Et(),a=localStorage.getItem("token"),n=(e.children,e.value),l=(e.url,e.index),i=Object(Ve.a)(e,["children","value","url","index"]),o=e.event,c=o.tags,s=r.a.useState([]),m=Object(p.a)(s,2),u=m[0],d=m[1],g=r.a.useState("Registration Ends in"),h=Object(p.a)(g,2),E=h[0],b=h[1],j=r.a.useState({}),x=Object(p.a)(j,2),C=(x[0],x[1]),S=r.a.useState(!1),_=Object(p.a)(S,2),k=_[0],w=_[1],T=r.a.useState(!1),N=Object(p.a)(T,2),D=(N[0],N[1]),z=r.a.useState(!0),I=Object(p.a)(z,2),B=I[0],A=I[1],P=r.a.useState(!0),R=Object(p.a)(P,2),W=R[0],M=R[1];r.a.useEffect((function(){e.notRegistered?D(!0):D(!1)}),[e]),r.a.useEffect((function(){void 0!==o.requirements&&d(o.requirements),void 0!==o._id&&void 0!==o.user_id&&fetch("https://ellipseapp.com"+"/api/event/get_organizer_details?eventId=".concat(o._id,"&userId=").concat(o.user_id),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){C(e)}))}))}),[o,a]);var F=function(){var e=+new Date(o.registration_end_time)-+new Date,t={};return e<0&&(e=+new Date(o.start_time)-+new Date),e<0&&(e=+new Date(o.finish_time)-+new Date),e>0&&(t={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),t},q=r.a.useState(F()),H=Object(p.a)(q,2),L=H[0],G=H[1];r.a.useEffect((function(){var e=setTimeout((function(){b(function(){var e=+new Date(o.registration_end_time)-+new Date,t="Registration ends in";return e<0&&(t="Starts in",e=+new Date(o.start_time)-+new Date),e<0&&(t="Ends in",e=+new Date(o.finish_time)-+new Date),t}()),G(F())}),1e3);return function(){Object(Ye.a)(),clearTimeout(e)}}));var U=[];return Object.keys(L).forEach((function(e){L[e]&&U.push(r.a.createElement("span",{key:e},L[e]," ",e," "))})),r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l},i),n===l&&r.a.createElement("div",{className:t.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:4},r.a.createElement("img",{onClick:function(){w(!0)},style:{width:"240px",height:"180px"},alt:"event poster",src:"https://ellipseapp.com"+"/api/image?id=".concat(o.poster_url)})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(O.a,null,o.description," "),r.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"20"}},E),r.a.createElement(O.a,{variant:"h5"},U.length?U:r.a.createElement("span",null,"Time's up!")),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(Ke.a,{variant:"outlined",color:"inherit",label:o.event_type}),r.a.createElement(Ke.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:o.fee_type}),r.a.createElement(Ke.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:o.event_mode}),o.isTeamed&&r.a.createElement(Ke.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:r.a.createElement(v.a,{display:"flex"},r.a.createElement(v.a,null,r.a.createElement(Qe.a,null)),r.a.createElement(v.a,{marginTop:.7,marginLeft:.5},"  "+o.team_size.min_team_size+"-"+o.team_size.max_team_size))}),!o.isTeamed&&r.a.createElement(Ke.a,{style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:r.a.createElement(v.a,{display:"flex"},r.a.createElement(v.a,null,r.a.createElement($e.a,null)),r.a.createElement(v.a,{marginTop:.7},"Individual"))}),null!=c&&c.map((function(e){return r.a.createElement(Ke.a,{key:e,style:{marginLeft:"5px"},variant:"outlined",color:"inherit",label:e})}))),void 0!==o&&o&&null!==o&&o.socialMediaLinks&&r.a.createElement("div",{style:{marginTop:"10px"}},o.socialMediaLinks.map((function(e){return"Instagram"===e.title?r.a.createElement("a",{rel:"noopener noreferrer",href:e.link,target:"blank"},r.a.createElement(rt.a,{fontSize:"large",color:"primary"})):"Youtube"===e.title?r.a.createElement("a",{rel:"noopener noreferrer",href:e.link,target:"blank"},r.a.createElement(ct.a,{fontSize:"large",color:"primary"})):"Facebook"===e.title?r.a.createElement("a",{rel:"noopener noreferrer",href:e.link,target:"blank"},r.a.createElement(mt.a,{fontSize:"large",color:"primary"})):"Twitter"===e.title?r.a.createElement("a",{rel:"noopener noreferrer",href:e.link,target:"blank"},r.a.createElement(it.a,{fontSize:"large",color:"primary"})):"Github"===e.title?r.a.createElement("a",{rel:"noopener noreferrer",href:e.link,target:"blank"},r.a.createElement(dt.a,{fontSize:"large",color:"primary"})):r.a.createElement("a",{rel:"noopener noreferrer",href:e.link,target:"blank"},r.a.createElement(gt.a,{fontSize:"large",color:"primary"}))})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(v.a,null,r.a.createElement(y.a,{container:!0,component:"main",className:t.gridMain},r.a.createElement(y.a,{item:!0,xs:12,className:t.gridItem},r.a.createElement(v.a,{className:t.boxItem},r.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h4"},"About")),r.a.createElement(v.a,{className:t.boxItem},r.a.createElement(O.a,{color:"textSecondary",variant:"body1"},o.about)),r.a.createElement(et.a,{flexItem:!0,className:t.divider})),null!==u&&0!==u.length&&r.a.createElement(y.a,{item:!0,xs:12,md:6,className:t.gridItem},r.a.createElement(v.a,{className:t.boxItem},null!==u&&0!==u.length&&r.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Requirements")),r.a.createElement(v.a,{className:t.boxItem},0!==u.length&&u.map((function(e){return r.a.createElement(Ke.a,{key:e,variant:"outlined",color:"inherit",label:e})})))),"Offline"===o.event_mode&&r.a.createElement(y.a,{item:!0,xs:12,md:6,className:t.gridItem},r.a.createElement(v.a,{className:t.boxItem},"Offline"===o.event_mode&&r.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Venue Details")),r.a.createElement(v.a,{className:t.boxItem},"Offline"===o.event_mode&&r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},o.venue)),r.a.createElement(v.a,{className:t.boxItem},"Offline"===o.event_mode&&r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},o.venue_college))),"Paid"===o.fee_type&&r.a.createElement(y.a,{item:!0,xs:12,md:6,className:t.gridItem},r.a.createElement(v.a,{className:t.boxItem},"Paid"===o.fee_type&&r.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Fee Details")),r.a.createElement(v.a,{className:t.boxItem},"Paid"===o.fee_type&&r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},"Rs "+o.fee))),"Online"===o.event_mode&&null!==o.platform_details&&""!==o.platform_details&&r.a.createElement(y.a,{itam:!0,xs:12,md:6,className:t.gridItem},r.a.createElement(v.a,{className:t.boxItem},"Online"===o.event_mode&&r.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Platform Details")),r.a.createElement(v.a,{className:t.boxItem},"Online"===o.event_mode&&r.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"body2"},o.platform_details)))),void 0!==o.rounds&&o.rounds.length>0&&r.a.createElement(y.a,{container:!0,component:"main",className:t.gridMain},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-start"},r.a.createElement(v.a,{className:t.boxItem,margin:2},void 0!==o.rounds&&o.rounds.length>0&&r.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Rounds Details")),r.a.createElement(v.a,null,r.a.createElement(et.a,{orientation:"vertical"})),r.a.createElement(v.a,{flexGrow:1}),r.a.createElement(v.a,{className:t.boxItem,margin:2},void 0!==o.rounds&&o.rounds.length>0&&r.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},o.rounds.map((function(e,t){return r.a.createElement(O.a,null,e.title+" - "+e.description)})))),r.a.createElement(v.a,{flexGrow:1})))),void 0!==o.prizes&&null!==o.prizes&&o.prizes.length>0&&r.a.createElement(y.a,{container:!0,component:"main",className:t.gridMain},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-start"},r.a.createElement(v.a,{style:{marginLeft:"30px"}},void 0!==o.prizes&&o.prizes.length>0&&r.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Prizes"))),void 0!==o.prizes&&o.prizes.length>0&&r.a.createElement(v.a,{display:"flex",justifyContent:"center",flexWrap:"wrap",style:{marginTop:"20px",marginBottom:"20"}},o.prizes.map((function(e,t){return r.a.createElement(v.a,{padding:1,justifyContent:"center",style:{maxWidth:"500px"}},r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(at.a,{fontSize:"large",color:"primary"})),r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(O.a,null,e.title)),r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(O.a,{variant:"h5"},e.prize)),r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(O.a,{color:"textSecondary"},e.desc)))}))))),r.a.createElement(y.a,{container:!0,component:"main",className:t.gridMain},void 0!==o.themes&&null!==o.themes&&""!==o.themes&&r.a.createElement(y.a,{item:!0,xs:12,md:6,className:t.gridItem},r.a.createElement(v.a,{style:{marginLeft:"30px"}},r.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Themes")),r.a.createElement("div",{className:W&&t.overFlowText,style:{marginTop:"5px"},whiteSpace:"normal"},o.themes.split("\n").map((function(e,t){return""===e?r.a.createElement("br",null):r.a.createElement(v.a,{style:{marginLeft:"45px"},whiteSpace:"normal"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2",whiteSpace:"normal"},e))}))),r.a.createElement(f.a,{onClick:function(){M((function(e){return!e}))},style:{marginLeft:"45px"},color:"primary"},W?"View More":"hide")),void 0!==o.rules&&null!==o.rules&&""!==o.rules&&r.a.createElement(y.a,{item:!0,xs:12,md:6,className:t.gridItem},r.a.createElement(v.a,{style:{marginLeft:"30px"}},r.a.createElement(O.a,{style:{marginTop:"20px",marginBottom:"20"},variant:"h5"},"Rules")),r.a.createElement("div",{className:B&&t.overFlowText,style:{marginTop:"5px"},whiteSpace:"normal"},o.rules.split("\n").map((function(e,t){return""===e?r.a.createElement("br",null):r.a.createElement(v.a,{style:{marginLeft:"45px"},whiteSpace:"normal"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2",whiteSpace:"normal"},e))}))),r.a.createElement(f.a,{onClick:function(){A((function(e){return!e}))},style:{marginLeft:"45px"},color:"primary"},B?"View More":"hide")))))),r.a.createElement(ht,{event:o,open:k,handleClose:function(){w(!1)}})))},vt=a(777),yt=a(778),jt=a(779),xt=a(781),Ot=a(782),Ct=a(780),St=a(158),_t=a.n(St),kt=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{padding:"6px 16px",backgroundColor:e.palette.secondary.main},secondaryTail:{backgroundColor:e.palette.secondary.main}}}));var wt=function(e){var t=kt(),a=(e.children,e.value),n=(e.url,e.index),l=Object(Ve.a)(e,["children","value","url","index"]),i=e.event,o=new Date(i.start_time),c=new Date(i.finish_time),s=new Date(i.registration_end_time);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},l),a===n&&r.a.createElement("div",{className:t.root},r.a.createElement(vt.a,{align:"alternate"},r.a.createElement(yt.a,null,r.a.createElement(jt.a,null,r.a.createElement(Ct.a,{color:"primary"},r.a.createElement(_t.a,null)),r.a.createElement(xt.a,null)),r.a.createElement(Ot.a,null,r.a.createElement(pe.a,{elevation:3,className:t.paper},r.a.createElement(O.a,{variant:"h6",component:"h1"},"Registration Ends"),r.a.createElement(O.a,null,s.toDateString()," "+s.toLocaleTimeString())))),r.a.createElement(yt.a,null,r.a.createElement(jt.a,null,r.a.createElement(Ct.a,{color:"primary",variant:"outlined"},r.a.createElement(_t.a,null)),r.a.createElement(xt.a,null)),r.a.createElement(Ot.a,null,r.a.createElement(pe.a,{elevation:3,className:t.paper},r.a.createElement(O.a,{variant:"h6",component:"h1"},"Starts"),r.a.createElement(O.a,null,o.toDateString()," "+o.toLocaleTimeString())))),i.rounds.map((function(e,a){var n=new Date(e.start_date),l=new Date(e.end_date);return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,null,r.a.createElement(jt.a,null,r.a.createElement(Ct.a,{color:"primary",variant:"outlined"},r.a.createElement(_t.a,null)),r.a.createElement(xt.a,null)),r.a.createElement(Ot.a,null,r.a.createElement(pe.a,{elevation:3,className:t.paper},r.a.createElement(O.a,{variant:"h6",component:"h1"},e.title+" Starts"),r.a.createElement(O.a,null,n.toDateString()," "+n.toLocaleTimeString())))),r.a.createElement(yt.a,null,r.a.createElement(jt.a,null,r.a.createElement(Ct.a,{color:"primary",variant:"outlined"},r.a.createElement(_t.a,null)),r.a.createElement(xt.a,null)),r.a.createElement(Ot.a,null,r.a.createElement(pe.a,{elevation:3,className:t.paper},r.a.createElement(O.a,{variant:"h6",component:"h1"},e.title+" Ends"),r.a.createElement(O.a,null,l.toDateString()," "+l.toLocaleTimeString())))))})),r.a.createElement(yt.a,null,r.a.createElement(jt.a,null,r.a.createElement(Ct.a,{color:"primary"},r.a.createElement(_t.a,null)),r.a.createElement(xt.a,{className:t.secondaryTail})),r.a.createElement(Ot.a,null,r.a.createElement(pe.a,{elevation:3,className:t.paper},r.a.createElement(O.a,{variant:"h6",component:"h1"},"Ends"),r.a.createElement(O.a,null,c.toDateString()," "+c.toLocaleTimeString())))))))},Tt=Object(S.a)((function(e){return{root:{display:"flex",alignItems:"flex-start",alignContent:"flex-start",width:"100%"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main},timiline:{},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"}}}));function Nt(e){var t=localStorage.getItem("token"),a=Tt(),n=(e.children,e.value),l=(e.url,e.index),i=Object(Ve.a)(e,["children","value","url","index"]),o=e.event,c=r.a.useState([]),s=Object(p.a)(c,2),m=s[0],u=s[1];return r.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event/get_announcements?id=".concat(o._id),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){o.registered?u(e):e.forEach((function(e){e.visible_all&&u((function(t){return[].concat(Object(H.a)(t),[e])}))}))}))}))}),[t,o]),r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l},i),n===l&&r.a.createElement("div",null,0===m.length&&r.a.createElement(O.a,null,"No Announcements"),m.map((function(e,t){var n=new Date(e.time);return r.a.createElement(v.a,{m:1,p:1,key:t,className:a.root3},r.a.createElement(v.a,{className:a.root2,whiteSpace:"normal"},r.a.createElement(O.a,{className:a.title},e.title),r.a.createElement(O.a,{className:a.pos},e.description)),r.a.createElement(v.a,{className:a.root5},r.a.createElement(O.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())))}))))}var Dt=a(3),zt=a(206),It=a.n(zt),Bt=Object(S.a)((function(e){return{bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(4),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},open:{position:"fixed",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(34),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},close:{position:"fixed",right:e.spacing(4),bottom:e.spacing(4),left:e.spacing(4),padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)}}}));function At(e){var t=Bt(),a=r.a.useState(!0),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState(null),c=Object(p.a)(o,2),s=c[0],m=c[1],u=r.a.useState(t.bottomBar),d=Object(p.a)(u,2),g=d[0],f=d[1];r.a.useEffect((function(){var a;void 0!==e.open&&f(Object(Dt.a)((a={},Object(C.a)(a,t.open,e.open),Object(C.a)(a,t.close,!e.open),a)))}),[e.open]);return r.a.createElement(v.a,{className:g,display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(E.a,{disabled:e.loading,fullWidth:!0,placeholder:"Type your message",multiline:!0,onChange:function(e){m(e.target.value),i(!1),""===e.target.value&&i(!0)},value:s||"",rowsMax:"3",onKeyUp:function(t){s.length>1&&(13!==t.keyCode||t.shiftKey||(t.preventDefault(),e.handleSend(s),i(!0),m("")))}}),r.a.createElement(ce.a,{onClick:function(t){e.handleSend(s),i(!0),m("")},disabled:l,className:t.sendIcon},r.a.createElement(It.a,null)))}var Pt=r.a.createContext({webSocketContext:null,setWebSocketContext:function(){}}),Rt=r.a.createContext({eventChatMessages:null,setEventChatMessages:function(){},teamChatMessages:[],setTeamChatMessages:function(){},teamUpdateStatus:[],setTeamUpdateStatus:function(){},deletedEventChatMessages:[],setDeletedEventChatMessages:function(){},deletedTeamChatMessages:[],setDeletedTeamChatMessages:function(){}}),Wt=a(376),Mt=a(54),Ft=a.n(Mt),qt=a(155),Ht=a.n(qt),Lt=Object(S.a)((function(e){return{root:{position:"fixed",width:"75%",height:"100vh",backgroundColor:e.palette.primary.light},large:{width:e.spacing(7),height:e.spacing(7)},inline:{whiteSpace:"pre-line"},date:{display:"flex",justifyContent:"flex-end"},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},root5:{marginLeft:e.spacing(0),maxWidth:"65%"},message:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)}}}));var Gt=function(e){var t=Lt(),a=e.message,n=r.a.useState(""),l=Object(p.a)(n,2),i=l[0],o=l[1],c=new Date(a.date),s=r.a.useContext(We).currentUser;return r.a.useEffect((function(){e.adminId===a.user_id&&o(" (Admin)")}),[e.adminId,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{display:"flex"},r.a.createElement(v.a,{flexGrow:1,paddingTop:1,paddingRight:1},r.a.createElement(et.a,null)),r.a.createElement(O.a,{variant:"body2"},e.currentDate.toDateString()===e.messageDate.toDateString()?"Today":e.messageDate.toDateString()),r.a.createElement(v.a,{flexGrow:1,paddingTop:1,paddingLeft:1},r.a.createElement(et.a,null))),r.a.createElement(v.a,{m:1,p:1,key:e.index+1,className:t.root3},r.a.createElement(v.a,{className:t.root5},r.a.createElement(g.a,{alt:a.userName,src:a.user_pic&&"https://ellipseapp.com"+"/api/image?id=".concat(a.user_pic)})),r.a.createElement(v.a,{className:t.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:t.message},r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"body1"},a.user_name+"   "+i)),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(O.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+c.toLocaleTimeString([],{timeStyle:"short"})))),r.a.createElement(v.a,null,s.user_id===a.user_id&&r.a.createElement(ce.a,{onClick:e.handleMessageDeleteButton(a),style:{padding:"0px",margin:"0px"}},r.a.createElement(Ht.a,{style:{color:"#aaaaaa"}})))),r.a.createElement(v.a,null,r.a.createElement(O.a,{component:"span",variant:"body2",color:"textSecondary",className:t.inline},r.a.createElement(Ft.a,{componentDecorator:function(e,t,a){return r.a.createElement("a",{target:"blank",style:{color:"red",fontWeight:"bold"},href:e,key:a},t)}},a.message))))))},Ut=Object(S.a)((function(e){return{root:{position:"fixed",width:"75%",height:"100vh",backgroundColor:e.palette.primary.light},large:{width:e.spacing(7),height:e.spacing(7)},inline:{whiteSpace:"pre-line"},date:{display:"flex",justifyContent:"flex-end"},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},root5:{marginLeft:e.spacing(0),maxWidth:"65%"},message:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)}}}));var Jt=function(e){var t=Ut(),a=e.message,n=r.a.useState(""),l=Object(p.a)(n,2),i=l[0],o=l[1],c=new Date(a.date),s=r.a.useContext(We).currentUser;return r.a.useEffect((function(){e.adminId===a.user_id&&o(" (Admin)")}),[e.adminId,a]),r.a.createElement(v.a,{m:1,p:1,key:e.index+1,className:t.root3},r.a.createElement(v.a,{className:t.root5},r.a.createElement(g.a,{alt:a.userName,src:a.user_pic&&"https://ellipseapp.com"+"/api/image?id=".concat(a.user_pic)})),r.a.createElement(v.a,{className:t.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:t.message},r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"body1"},a.user_name+"   "+i)),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(O.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+c.toLocaleTimeString([],{timeStyle:"short"})))),r.a.createElement(v.a,null,s.user_id===a.user_id&&r.a.createElement(ce.a,{onClick:e.handleMessageDeleteButton(a),style:{padding:"0px",margin:"0px"}},r.a.createElement(Ht.a,{style:{color:"#aaaaaa"}})))),r.a.createElement(v.a,{whiteSpace:"normal"},r.a.createElement(O.a,{component:"span",variant:"body2",color:"textSecondary",className:t.inline},r.a.createElement(Ft.a,{componentDecorator:function(e,t,a){return r.a.createElement("a",{target:"blank",style:{color:"red"},href:e,key:a},t)}},a.message)))))};function Vt(e){var t=function(){e.setOpen(!1)};return r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(R.a,{id:"alert-dialog-title"},"Are you sure to delete this message?"),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:t,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:e.handleDeleteConfirmation(e.message),color:"primary",autoFocus:!0},"Delete"))))}var Yt=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},topBar:{},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},message:{display:"flex",justifyContent:"flex-start"},message2:{display:"none"},message3:{display:"flex",justifyContent:"flex-end"},inline:{whiteSpace:"pre-line"}}}));function Kt(e){e.children;var t=e.value,a=(e.url,e.index),n=Object(Ve.a)(e,["children","value","url","index"]),l=r.a.useContext(We).currentUser,i=localStorage.getItem("token"),o=e.event,c=e.open,s=r.a.useState(!1),m=Object(p.a)(s,2),u=m[0],d=m[1],g=r.a.useState(null),f=Object(p.a)(g,2),h=f[0],E=f[1],b=r.a.useState([]),y=Object(p.a)(b,2),j=y[0],x=y[1],O=Yt(),C=null,S=r.a.useContext(Pt).webSocketContext,_=r.a.useContext(Rt).eventChatMessages,k=r.a.useContext(Rt).setEventChatMessages,w=r.a.useContext(Rt),T=w.deletedEventChatMessages,N=w.setDeletedEventChatMessages,z=r.a.useState(!1),I=Object(p.a)(z,2),B=I[0],A=I[1],P=r.a.useState({}),R=Object(p.a)(P,2),W=R[0],M=R[1],F=function(){S&&S.send(JSON.stringify({action:"close_event_socket",event_id:o._id,msg:{user_id:l.user_id}}))};window.onbeforeunload=function(){F()},r.a.useEffect((function(){return S&&S.send(JSON.stringify({action:"join_event_room",event_id:o._id,msg:{user_id:l.user_id}})),function(){F()}}),[S,l,o]),r.a.useEffect((function(){_.forEach((function(e){var t=e.msg;e.event_id===o._id&&(x((function(e){return[].concat(Object(H.a)(e),[t])})),k(_.filter((function(t){return t!==e}))))}))}),[_,o]),r.a.useEffect((function(){return d(!0),fetch("https://ellipseapp.com"+"/api/chat/load_messages?id=".concat(o._id),{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){x(e),d(!1)}))})),null!=h&&h.scrollIntoView({behavior:"smooth"}),function(){x([]),Object(Ye.a)()}}),[o._id,i]),r.a.useEffect((function(){null!=h&&h.scrollIntoView({behavior:"smooth"})}),[u]),r.a.useEffect((function(){return null!=h&&h.scrollIntoView({behavior:"smooth"}),function(){Object(Ye.a)()}}),[j,h]);r.a.useEffect((function(){T.forEach((function(e){var t=e.msg;e.event_id===o._id&&(x(j.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t)}))),N(_.filter((function(t){return t!==e}))))}))}),[T]);var q=function(e){return function(){M(e),A(!0)}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==a},n),t===a&&r.a.createElement("div",null,r.a.createElement("div",{className:O.progress},r.a.createElement(Wt.a,{in:u,unmountOnExit:!0},r.a.createElement(D.a,null))),r.a.createElement(v.a,{className:O.topBar},j.map((function(e,t){var a=new Date,n=new Date(e.date);return n.toDateString()!==C?(C=n.toDateString(),r.a.createElement(Gt,{adminId:o.user_id,handleMessageDeleteButton:q,message:e,currentDate:a,messageDate:n,index:t})):r.a.createElement(Jt,{adminId:o.user_id,handleMessageDeleteButton:q,message:e,currentDate:a,messageDate:n,index:t})})),r.a.createElement("div",null,r.a.createElement(At,{loading:u,open:c,handleSend:function(e){var t=new Date;S&&S.send(JSON.stringify({action:"send_event_message",event_id:o._id,msg:{id:l.user_id+Date.now(),user_id:l.user_id,user_name:l.name,user_pic:l.profile_pic,message_type:"normal_text_message",message:e,date:t.toISOString()}})),null!=h&&h.scrollIntoView({behavior:"smooth"})}}))),r.a.createElement("div",{style:{float:"left",clear:"both",marginBottom:"60px"},ref:function(e){E(e)}}),r.a.createElement(Vt,{open:B,message:W,setOpen:A,handleDeleteConfirmation:function(e){return function(){S.send(JSON.stringify({action:"delete_event_chat_message",event_id:o._id,msg:e})),x(j.filter((function(t){return t!==e}))),A(!1)}}})))}function Zt(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Qt=Object(S.a)((function(e){return{icons:Object(C.a)({position:"absolute",right:e.spacing(1),top:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),root:{},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(1)},bottomBar:{display:"flex",width:"90%",backgroundColor:e.palette.secondary.main},field:{width:"100%"},action:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},dialogContent:Object(C.a)({},e.breakpoints.down("md"),{padding:e.spacing(1)}),mobileHead:Object(C.a)({},e.breakpoints.up("md"),{display:"none"}),desktopHead:Object(C.a)({},e.breakpoints.up("md"),{display:"none"})}}));var Xt=function(e){var t=e.event,a=localStorage.getItem("theme"),n=r.a.useState(0),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useContext(We).currentUser,s=Qt(),m=Object(W.a)(),u=r.a.useState(!1),d=Object(p.a)(u,2),g=d[0],h=d[1],E=r.a.useState(!1),b=Object(p.a)(E,2),y=b[0],j=b[1],x=r.a.useState(0),C=Object(p.a)(x,2),S=C[0],_=C[1];function k(){e.handleClose()}function w(){h(!0)}return r.a.useEffect((function(){t.registered||"form"!==t.reg_mode||t.user_id===c.user_id?j(!0):j(!1),e.openTeams&&(o(4),_(1))}),[t,c,e.openTeams]),r.a.createElement(B.a,{open:e.open,onClose:k,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:m.palette.secondary.main,boxShadow:"none"}},classes:{paper:s.dialog}},r.a.createElement(R.a,{id:"scroll-dialog-title"},r.a.createElement(v.a,{className:s.mobileHead,display:"flex",flexDirection:"column",justifyContent:"center"},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(ce.a,{"aria-label":"share",onClick:w},r.a.createElement(Fe.a,null)),r.a.createElement(ce.a,{"aria-label":"close",className:s.closeButton,onClick:k},r.a.createElement(He.a,{fontSize:"large"})))),t.name,r.a.createElement("div",{className:s.icons},r.a.createElement(ce.a,{"aria-label":"share",onClick:w},r.a.createElement(Fe.a,null)),r.a.createElement(ce.a,{"aria-label":"close",className:s.closeButton,onClick:k},r.a.createElement(He.a,{fontSize:"large"}))),r.a.createElement("div",{className:s.root},r.a.createElement(pe.a,{className:s.root2},r.a.createElement(he.a,{value:i,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(Ee.a,Object.assign({label:"About"},Zt(0))),r.a.createElement(Ee.a,Object.assign({label:"Schedule"},Zt(1))),r.a.createElement(Ee.a,Object.assign({label:"Announcements"},Zt(2))),r.a.createElement(Ee.a,Object.assign({label:"Chat"},Zt(3))))),r.a.createElement(et.a,null),t.isTeamed&&4===i&&r.a.createElement(pe.a,{className:s.root2},r.a.createElement(he.a,{value:S,onChange:function(e,t){_(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(Ee.a,{label:"Submissions"}),r.a.createElement(Ee.a,{label:"Your Team"}),r.a.createElement(Ee.a,{label:"Team Chat"}))))),r.a.createElement(P.a,{className:s.dialogContent,dividers:!0},r.a.createElement(Je,{event:t,open:g,handleClose:function(){h(!1)}}),r.a.createElement(bt,{value:i,index:0,event:e.event}),r.a.createElement(wt,{value:i,index:1,event:e.event}),r.a.createElement(Nt,{value:i,index:2,event:e.event}),3===i&&y&&r.a.createElement(Kt,{value:i,index:3,event:e.event}),3===i&&!y&&r.a.createElement(O.a,{align:"center",variant:"h5"},"Register for the event to continue")),r.a.createElement(A.a,{className:s.action},r.a.createElement(v.a,{className:s.bottomBar,display:"flex",alignItems:"center",justifyContent:"center",hidden:3!==i}),r.a.createElement("div",{role:"tabpanel",hidden:3===i},3!==i&&r.a.createElement("div",{className:s.buttonDiv},"form"===t.reg_mode?r.a.createElement(f.a,{disabled:!!t.registered,size:"small",color:"primary",variant:"contained",className:s.button,onClick:function(){e.handleReg(t)}},t.registered?"Registered":"Register"):r.a.createElement(f.a,{disabled:!!t.registered,size:"small",color:"primary",variant:"contained",className:s.button},"light"===a?r.a.createElement("a",{rel:"noopener noreferrer",href:t.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register"):r.a.createElement("a",{rel:"noopener noreferrer",href:t.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register"))))))},$t=r.a.createContext({allEvents:null,setAllEvents:function(){}}),ea=Object(S.a)((function(e){return{dialog:{minHeight:"90vh",maxHeight:"90vh"},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"},secondaryTail:{backgroundColor:e.palette.secondary.main},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)}}}));function ta(e){var t=ea(),a=Object(W.a)(),n=localStorage.getItem("token"),l=r.a.useState([]),i=Object(p.a)(l,2),o=i[0],c=i[1];r.a.useEffect((function(){fetch("https://ellipseapp.com/api/get_notifications_desc",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){c(e)}))}))}),[n]);var s=function(t){return function(){e.handleClick(t.event_id)}};return r.a.createElement("div",null,r.a.createElement(B.a,{scroll:"paper",open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title",classes:{paper:t.dialog}},r.a.createElement(R.a,{id:"form-dialog-title"},"Notifications"),r.a.createElement("div",{className:t.icons},r.a.createElement(ce.a,{"aria-label":"close",className:t.closeButton,onClick:function(){e.handleClose()}},r.a.createElement(He.a,{fontSize:"large"}))),r.a.createElement(et.a,null),r.a.createElement(P.a,null,o.map((function(e,a){var n=new Date(e.time);return r.a.createElement(v.a,{onClick:s(e),m:1,p:1,className:t.root3},r.a.createElement(v.a,{className:t.root2,whiteSpace:"normal"},r.a.createElement(O.a,{className:t.title},e.title),r.a.createElement(O.a,{className:t.pos},e.description)),r.a.createElement(v.a,{className:t.root5},r.a.createElement(O.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())))})),0===o.length&&r.a.createElement(O.a,null,"No Notifications"))))}var aa=a.p+"static/media/logo.cc1ac587.svg",na=Object(c.g)((function(e){var t=e.history,a=fe(),l=localStorage.getItem("token"),i=r.a.useState(null),o=Object(p.a)(i,2),c=o[0],s=o[1],m=localStorage.getItem("theme"),u=r.a.useState("light"!==m),d=Object(p.a)(u,2),g=d[0],h=d[1],b=r.a.useState(0),v=Object(p.a)(b,2),y=v[0],j=v[1],x=r.a.useState([]),C=Object(p.a)(x,2),S=C[0],_=C[1],k=r.a.useState(0),w=Object(p.a)(k,2),T=w[0],N=w[1],D=Boolean(c),z=r.a.useState(!1),I=Object(p.a)(z,2),B=I[0],A=I[1],P=r.a.useState(!1),R=Object(p.a)(P,2),W=R[0],M=R[1],F=r.a.useContext($t).allEvents,q=r.a.useContext(We).currentUser;F=F.filter((function(e){return"pending"!==e.status||e.user_id===q.user_id})),Object(n.useEffect)((function(){if(null!=localStorage.getItem("tabIndex")){var e=parseInt(localStorage.getItem("tabIndex"));null!=e&&j(e)}fetch("https://ellipseapp.com/api/get_unseen_notifications_count",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){N(e)}))}))}),[l]);var H=function(e,t){j(t),localStorage.setItem("tabIndex",t)};l||t.replace("/");var L="primary-search-account-menu",G=r.a.createElement(Oe.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:L,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:D,onClose:function(){s(null)}},r.a.createElement(xe.a,null," Dark Theme ",r.a.createElement(Be.a,{checked:g,onChange:function(e){h(e.target.checked),e.target.checked?(localStorage.setItem("theme","dark"),window.location.reload(!1)):(localStorage.setItem("theme","light"),window.location.reload(!1))},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement(xe.a,{onClick:function(e){fetch("https://ellipseapp.com/api/users/logout",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},method:"POST"}).then((function(e){e.json().then((function(e){"success"===e.message&&(localStorage.removeItem("token"),localStorage.removeItem("tabIndex"),t.replace("/"))}))}))}},"Log Out"));function J(e){e.preventDefault(),t.push("/events")}function V(){t.push("/home")}function Y(){t.push("/profile")}function K(){t.push("/chat")}var Z=function(){A(!1),M(!1)};function Q(){localStorage.setItem("tabIndex",0),j(0),t.push("/home")}return r.a.createElement("div",{className:a.grow},r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.a,{position:"sticky",color:"secondary"},r.a.createElement(je.a,null,r.a.createElement("img",{src:aa,alt:"logo",onClick:Q,className:a.mobileTitle}),r.a.createElement(f.a,{className:a.titleButton,onClick:Q},r.a.createElement(O.a,{className:a.title,variant:"h5",noWrap:!0},"Ellipse")),r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},r.a.createElement(Se.a,null)),r.a.createElement(U.a,{freeSolo:!0,id:"search",placeholder:"search..",options:F,getOptionLabel:function(e){return e.name},onChange:function(e,a){a&&(a.registered||a.user_id===q.user_id?t.push("/event/".concat(a._id)):(_(a),A(!0)))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{placeholder:"search..",className:a.inputInput}))}})),r.a.createElement("div",{className:a.tabs},r.a.createElement(pe.a,{square:!0,className:a.root,elevation:0},r.a.createElement(he.a,{value:y,onChange:H,variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon"},r.a.createElement(Re.a,{title:"Home"},r.a.createElement(Ee.a,{onClick:V,icon:r.a.createElement(Ie.a,null),"aria-label":"home"})),r.a.createElement(Re.a,{title:"Calender View"},r.a.createElement(Ee.a,{onClick:J,icon:r.a.createElement(Te.a,null),"aria-label":"event"})),r.a.createElement(Re.a,{title:"Chat"},r.a.createElement(Ee.a,{onClick:K,icon:r.a.createElement(Pe.a,null),"aria-label":"favorite"})),r.a.createElement(Re.a,{title:"Profile"},r.a.createElement(Ee.a,{onClick:Y,icon:r.a.createElement(ve.a,null),"aria-label":"person"}))))),r.a.createElement("div",{className:a.grow}),r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(Re.a,{title:"Notifications"},r.a.createElement(ce.a,{"aria-label":"notifications",color:"inherit",onClick:function(){fetch("https://ellipseapp.com/api/update_notification_status",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){N(0)}))})),M(!0)}},r.a.createElement(le.a,{badgeContent:T,color:"secondary"},r.a.createElement(ke.a,null)))),r.a.createElement(Re.a,{title:"Settings"},r.a.createElement(ce.a,{edge:"end","aria-label":"account of current user","aria-controls":L,"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit"},r.a.createElement(De.a,null)))))),G,r.a.createElement(ye.a,{position:"sticky",color:"secondary",elevation:0},r.a.createElement("div",{className:a.mobiletab},r.a.createElement(pe.a,{square:!0,className:a.root,position:"sticky",elevation:0},r.a.createElement(he.a,{value:y,onChange:H,variant:"fullWidth",indicatorColor:"primary",textColor:"primary"},r.a.createElement(Re.a,{title:"Notifications"},r.a.createElement(Ee.a,{onClick:V,icon:r.a.createElement(Ie.a,null),"aria-label":"home"})),r.a.createElement(Re.a,{title:"Notifications"},r.a.createElement(Ee.a,{onClick:J,icon:r.a.createElement(Te.a,null),"aria-label":"event"})),r.a.createElement(Re.a,{title:"Notifications"},r.a.createElement(Ee.a,{onClick:K,icon:r.a.createElement(Pe.a,null),"aria-label":"favorite"})),r.a.createElement(Re.a,{title:"Notifications"},r.a.createElement(Ee.a,{onClick:Y,icon:r.a.createElement(ve.a,null),"aria-label":"person"})))))),r.a.createElement("div",null,B&&r.a.createElement(Xt,{open:B,event:S,handleReg:function(e){A(!1),t.push("/event/register/"+e._id)},handleClose:Z}),r.a.createElement(ta,{open:W,handleClick:function(e){e&&F.forEach((function(t){t._id===e&&(_(t),A(!0))}))},handleClose:Z}))))})),ra=r.a.createContext({activeEvents:null,setActiveEvents:function(){},contextLoading:!1,setContextLoading:function(){}}),la=Object(S.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},root:{background:"white",position:"sticky",top:0,bottom:0,zIndex:5}}}));var ia=Object(c.g)((function(e){var t=localStorage.getItem("token"),a=la(),n=r.a.useState([]),l=Object(p.a)(n,2),i=l[0],o=l[1],s=r.a.useState([]),m=Object(p.a)(s,2),u=m[0],d=m[1],g=r.a.useState(!1),f=Object(p.a)(g,2),h=f[0],E=f[1],b=r.a.useState(null),v=Object(p.a)(b,2),y=v[0],j=v[1],x=r.a.useState(!0),O=Object(p.a)(x,2),C=O[0],S=O[1],_=r.a.useState(!0),k=Object(p.a)(_,2),w=k[0],T=k[1],N=r.a.useState(!0),z=Object(p.a)(N,2),I=z[0],B=z[1],A=r.a.useState(null),P=Object(p.a)(A,2),R=P[0],W=P[1],M=r.a.useState([]),F=Object(p.a)(M,2),q=F[0],L=F[1],G=r.a.useState([]),U=Object(p.a)(G,2),J=U[0],V=U[1],Y=r.a.useState([]),K=Object(p.a)(Y,2),Z=K[0],Q=K[1],X=r.a.useState([]),$=Object(p.a)(X,2),ee=$[0],te=$[1],ae=r.a.useState([]),ne=Object(p.a)(ae,2),re=ne[0],le=ne[1],ie={currentUser:y,setCurrentUser:j},oe={allEvents:i,setAllEvents:o},ce={activeEvents:u,setActiveEvents:d,contextLoading:h,setContextLoading:E},se={webSocketContext:R,setWebSocketContext:W},me={eventChatMessages:q,setEventChatMessages:L,teamChatMessages:J,setTeamChatMessages:V,teamUpdateStatus:Z,setTeamUpdateStatus:Q,deletedEventChatMessages:ee,setDeletedEventChatMessages:te,deletedTeamChatMessages:re,setDeletedTeamChatMessages:le},ue=function(){var e=new WebSocket("wss://ellipseapp.com/ws/");e.onopen=function(){W(e)},e.onmessage=function(e){var t=JSON.parse(e.data);"receive_event_chat_message"===t.action?L((function(e){return[].concat(Object(H.a)(e),[t])})):"receive_team_message"===t.action?V((function(e){return[].concat(Object(H.a)(e),[t])})):"receive_team_update_message"===t.action?Q((function(e){return[].concat(Object(H.a)(e),[t])})):"delete_event_chat_message"===t.action?te((function(e){return[].concat(Object(H.a)(e),[t])})):"delete_team_chat_message"===t.action&&le((function(e){return[].concat(Object(H.a)(e),[t])}))},e.onclose=function(){ge()}},ge=function(){R&&R.readyState!==WebSocket.readyState||ue()};if(r.a.useEffect((function(){E(!0),ue(),fetch("https://ellipseapp.com/api/users/me",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(a){200===a.status?a.json().then((function(a){if(!1===a[0].verified)try{var n=new FormData,r={email:a[0].email};n=JSON.stringify(r),fetch("https://ellipseapp.com/api/users/sendverificationemail",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},method:"POST",body:n}).then((function(t){200===t.status&&t.json().then((function(t){"success"===t.message&&(S(!1),e.history.push("/otpverification"))}))}))}catch(l){}else null===a[0].college_name?(S(!1),e.history.push("/userinfo")):(B(!0),j(a[0]))})):401===a.status&&(localStorage.removeItem("token"),T(!1))})),fetch("https://ellipseapp.com/api/events",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){e.sort((function(e,t){return new Date(e.start_time)-new Date(t.start_time)})),o(e),d(e.filter((function(e){return new Date<new Date(e.finish_time)&&"pending"!==e.status}))),E(!1)})):401===e.status?(localStorage.removeItem("token"),T(!1),E(!1)):E(!1)}))}),[t]),!t)return r.a.createElement(c.a,{to:"/"});if(!w)return r.a.createElement(c.a,{to:"/"});if(!I){if(y.verified)return r.a.createElement(c.a,{to:"/userinfo"});try{var fe=new FormData,he={email:y.email};fe=JSON.stringify(he),fetch("https://ellipseapp.com/api/users/sendverificationemail",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},method:"POST",body:fe}).then((function(e){e.json().then((function(e){if("success"===e.message)return r.a.createElement(c.a,{to:"/otpverification"})}))}))}catch(Ee){}}return r.a.createElement(We.Provider,{value:ie},r.a.createElement(Pt.Provider,{value:se},r.a.createElement(Rt.Provider,{value:me},r.a.createElement($t.Provider,{value:oe},r.a.createElement(ra.Provider,{value:ce},null!=y&&r.a.createElement("div",null,r.a.createElement(pe.a,{className:a.root},r.a.createElement(na,null)),r.a.createElement("div",null,e.children)),null==y&&r.a.createElement(de.a,{className:a.backdrop,open:C},r.a.createElement(D.a,{color:"inherit"})))))))})),oa=(a(668),a(351)),ca=a(352),sa=a(788),ma=a(117),ua=a.n(ma),da=a(719),pa=a(790),ga=a(789),fa=a(716),ha=Object(S.a)((function(e){var t,a;return{root:{height:"300px"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:(t={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(C.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(t,"top",e.spacing(10)),t),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(a={borderRadius:e.spacing(50)},Object(C.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(a,"backgroundColor",e.palette.primary.main),Object(C.a)(a,"color",e.palette.primary.light),a),fab:Object(C.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(C.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"})}}));var Ea=function(e){var t=e.history;localStorage.setItem("tabIndex",1);var a=r.a.useContext(We).currentUser,n=ha(),l=r.a.useState([]),i=Object(p.a)(l,2),o=i[0],c=i[1],s=r.a.useState(!1),m=Object(p.a)(s,2),u=m[0],d=m[1],h=r.a.useState([]),E=Object(p.a)(h,2),b=E[0],v=E[1],j=r.a.useState([]),x=Object(p.a)(j,2),C=x[0],S=x[1],_=r.a.useContext(ra).activeEvents;r.a.useEffect((function(){_.forEach((function(e){c((function(t){return[].concat(Object(H.a)(t),[{id:JSON.stringify(e),title:e.name,start:e.start_time,end:e.finish_time}])}))})),S(_.filter((function(e){return!0===e.registered})))}),[_]);var k=function(){t.push("/post")},w=function(e){return function(){e.registered||e.user_id===a.user_id?t.push("/event/".concat(e._id)):(v(e),d(!0))}};return r.a.createElement("div",null,r.a.createElement("div",{className:n.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:3,lg:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8},r.a.createElement(oa.a,{eventBackgroundColor:"#1C1C1E",eventBorderColor:"#00bdaa",events:o,eventClick:function(e){JSON.parse(e.event.id).registered||JSON.parse(e.event.id).user_id===a.user_id?t.push("/event/".concat(JSON.parse(e.event.id)._id)):(v(JSON.parse(e.event.id)),d(!0))},defaultView:"dayGridMonth",plugins:[ca.a],backgroundColor:"black",buttonIcons:!1})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:!1,lg:2},r.a.createElement(sa.a,{color:"primary","aria-label":"add",className:n.fab,onClick:k},r.a.createElement(ua.a,null)),r.a.createElement(pe.a,{className:n.rpaper},r.a.createElement(pe.a,{className:n.subRpaper},r.a.createElement(f.a,{onClick:k,variant:"contained",fullWidth:!0,size:"large",className:n.postButton},"Post Event"),r.a.createElement(fa.a,{className:n.sideList},r.a.createElement(O.a,{variant:"body2"},"Registered Events"),C.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(da.a,{onClick:w(e),key:t,button:!0},r.a.createElement(ga.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(pa.a,{primary:e.name})),r.a.createElement(et.a,null))}))))))),r.a.createElement("div",null,u&&r.a.createElement(Xt,{open:u,event:b,handleClose:function(){d(!1)},handleReg:function(e){d(!1),t.push("/event/register/"+e._id)}}))))},ba=a(792),va=a(45),ya=a(46),ja=a(791),xa=a(815),Oa=a(793),Ca=a(721),Sa=a(268),_a=a.n(Sa),ka=Object(S.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",top:e.spacing(10),zIndex:3},root:Object(C.a)({background:e.palette.primary.light,position:"sticky",marginLeft:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),root2:{marginTop:e.spacing(5),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,borderRadius:e.spacing(2)},filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50),backgroundColor:e.palette.primary.main}}}));var wa=function(e){var t=ka(),a=r.a.useContext(We).currentUser,n=function(t){return function(){var a=e.modeChecked.indexOf(t),n=Object(H.a)(e.modeChecked);-1===a?n.push(t):n.splice(a,1),e.setModeChecked(n)}},l=function(t){return function(){var a=e.feeChecked.indexOf(t),n=Object(H.a)(e.feeChecked);-1===a?n.push(t):n.splice(a,1),e.setFeeChecked(n)}};return r.a.createElement("div",null,r.a.createElement(pe.a,{elevation:"0",className:t.root},r.a.createElement(O.a,{index:0},"Filters"),r.a.createElement(ya.a,{utils:va.a},r.a.createElement(ja.a,{fullWidth:!0,variant:"dialog",format:"dd MMM yyyy",margin:"normal",id:"startDate",label:"From",name:"startDate",value:e.sortStartDate,onChange:e.handleSortDateChange,InputProps:{endAdornment:r.a.createElement(Ca.a,null,r.a.createElement(ce.a,null,r.a.createElement(_a.a,null)))}}),r.a.createElement(ja.a,{fullWidth:!0,variant:"dialog",format:"dd MMM yyyy",margin:"normal",id:"endDate",label:"To",name:"endDate",value:e.sortEndDate,onChange:e.handleEndSortDateChange,InputProps:{endAdornment:r.a.createElement(Ca.a,null,r.a.createElement(ce.a,null,r.a.createElement(_a.a,null)))}})),r.a.createElement(O.a,{style:{paddingTop:"10px"}},"Event Mode"),r.a.createElement(fa.a,{className:t.root},["Online","Offline"].map((function(t){var a="checkbox-list-label-".concat(t);return r.a.createElement(da.a,{key:t,role:void 0,dense:!0,button:!0,onClick:n(t)},r.a.createElement(ba.a,null,r.a.createElement(K.a,{edge:"start",color:"default",checked:-1!==e.modeChecked.indexOf(t),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}})),r.a.createElement(pa.a,{id:a,primary:t}))}))),r.a.createElement(O.a,{style:{paddingTop:"10px"}},"Event Cost"),r.a.createElement(fa.a,{className:t.root},["Free","Paid"].map((function(t){var a="checkbox-list-label-".concat(t);return r.a.createElement(da.a,{key:t,role:void 0,dense:!0,button:!0,onClick:l(t)},r.a.createElement(ba.a,null,r.a.createElement(K.a,{edge:"start",color:"default",checked:-1!==e.feeChecked.indexOf(t),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}})),r.a.createElement(pa.a,{id:a,primary:t}))}))),r.a.createElement(O.a,null,"College"),r.a.createElement(Oa.a,{"aria-label":"address",name:"address",value:e.sortCollgeType,onChange:e.handleSortCollegeChange,style:{display:"inline"}},r.a.createElement(fa.a,{className:t.root},["All","".concat(a.college_name)].map((function(e){return r.a.createElement(da.a,{key:e,role:void 0,dense:!0,button:!0,wrap:!0},r.a.createElement(ba.a,null,r.a.createElement(Y.a,{value:e,control:r.a.createElement(xa.a,{color:"default"}),label:e})))})))),r.a.createElement(f.a,{className:t.filterButton,onClick:e.handleSortApplyButton,variant:"contained"}," Apply "),r.a.createElement(f.a,{className:t.filterButton,onClick:e.handlesortDiscardButton,variant:"contained"},"Discard")),r.a.createElement("div",null))},Ta=Object(S.a)((function(e){return{root:{background:e.palette.secondary.main,position:"sticky",top:e.spacing(10),marginLeft:e.spacing(1)},filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50)}}}));var Na=function(e){var t=Ta(),a=r.a.useContext(We).currentUser,n=function(t){return function(){var a=e.modeChecked.indexOf(t),n=Object(H.a)(e.modeChecked);-1===a?n.push(t):n.splice(a,1),e.setModeChecked(n)}},l=function(t){return function(){var a=e.feeChecked.indexOf(t),n=Object(H.a)(e.feeChecked);-1===a?n.push(t):n.splice(a,1),e.setFeeChecked(n)}};return r.a.createElement("div",null,r.a.createElement(pe.a,{className:t.root},r.a.createElement(O.a,{index:0},"Filters"),r.a.createElement(ya.a,{utils:va.a},r.a.createElement(ja.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy",margin:"normal",id:"startDate",label:"From",name:"startDate",defaultValue:"",value:e.sortStartDate,onChange:e.handleSortDateChange}),r.a.createElement(ja.a,{fullWidth:!0,required:!0,variant:"inline",format:"dd MMM yyyy",margin:"normal",id:"endDate",label:"To",name:"endDate",defaultValue:"",value:e.sortEndDate,onChange:e.handleEndSortDateChange,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(O.a,{style:{paddingTop:"10px"}},"Event Mode"),r.a.createElement(fa.a,null,["online","offline"].map((function(t){var a="checkbox-list-label-".concat(t);return r.a.createElement(da.a,{key:t,role:void 0,dense:!0,button:!0,onClick:n(t)},r.a.createElement(ba.a,null,r.a.createElement(K.a,{edge:"start",color:"default",checked:-1!==e.modeChecked.indexOf(t),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}})),r.a.createElement(pa.a,{id:a,primary:t}))}))),r.a.createElement(O.a,{style:{paddingTop:"10px"}},"Event Cost"),r.a.createElement(fa.a,{className:t.root},["Free","Paid"].map((function(t){var a="checkbox-list-label-".concat(t);return r.a.createElement(da.a,{key:t,role:void 0,dense:!0,button:!0,onClick:l(t)},r.a.createElement(ba.a,null,r.a.createElement(K.a,{edge:"start",color:"default",checked:-1!==e.feeChecked.indexOf(t),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}})),r.a.createElement(pa.a,{id:a,primary:t}))}))),r.a.createElement(O.a,null,"College"),r.a.createElement(Oa.a,{"aria-label":"address",name:"address",defaultValue:"All",onChange:e.handleSortCollegeChange,style:{display:"inline"}},r.a.createElement(fa.a,{className:t.root},["All","".concat(a.collegeName)].map((function(e){return r.a.createElement(da.a,{key:e,role:void 0,dense:!0,button:!0},r.a.createElement(ba.a,null,r.a.createElement(Y.a,{value:e,control:r.a.createElement(xa.a,{color:"default"}),label:e})))})))),r.a.createElement(f.a,{className:t.filterButton,onClick:e.handleSortApplyButton,variant:"contained"}," Apply "),r.a.createElement(f.a,{className:t.filterButton,onClick:e.handlesortDiscardButton,variant:"contained"},"Discard")),r.a.createElement("div",null))};function Da(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function za(e){var t=Object(W.a)(),a=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(!1),s=Object(p.a)(c,2),g=s[0],h=s[1],b=i.vertical,v=i.horizontal,j=i.open,x=i.message,O=i.type,C=i.autoHide,S=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(u.a)(Object(u.a)({},i),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=r.a.useState(null),k=Object(p.a)(_,2),w=k[0],N=k[1];return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:b,horizontal:v},open:j,autoHideDuration:C,onClose:S,key:b+v},r.a.createElement(Da,{onClose:S,severity:O},x)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"FeedBack"),r.a.createElement(P.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:w||"",required:!0,onChange:function(e){N(e.target.value)}})))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){h(!0);try{var t=new FormData,n={description:w};t=JSON.stringify(n),fetch("https://ellipseapp.com/api/event/send_feedback",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},method:"POST",body:t}).then((function(t){t.json().then((function(t){"success"===t.message&&(h(!1),e.handleClose(),o({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3}))}))}))}catch(r){h(!1),o({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}},color:"primary"},g?r.a.createElement(D.a,{color:"primary",size:24}):"Send"))))}var Ia=a(794),Ba=a(797),Aa=a(796),Pa=a(795),Ra=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main,height:"100%"}}}));function Wa(e){var t=Ra(),a=e.event,n=(localStorage.getItem("theme"),r.a.useState(!1)),l=Object(p.a)(n,2),i=l[0],c=l[1];return r.a.createElement(Ia.a,{className:t.root},r.a.createElement(Pa.a,{component:"img",height:"180",image:"https://ellipseapp.com"+"/api/image?id=".concat(a.poster_url)}),r.a.createElement(Aa.a,{style:{minHeight:"100px"}},r.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name)),r.a.createElement(Ba.a,null,r.a.createElement(f.a,{size:"small",color:"primary",onClick:function(){c(!0)}},"Share"),r.a.createElement(f.a,{size:"small",color:"primary"},r.a.createElement(o.b,{to:{pathname:"/event/".concat(a._id)},style:{textDecoration:"none",color:"#00bdaa"}},"View")),r.a.createElement(O.a,{align:"right",variant:"body2",color:"textSecondary",component:"p"},a.status.toUpperCase())),r.a.createElement(Je,{event:a,open:i,handleClose:function(){c(!1)}}))}var Ma=a(799),Fa=a(798),qa=a(210),Ha=a.n(qa),La=a(209),Ga=a.n(La);function Ua(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function Ja(e){var t=Object(W.a)(),a=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(!1),s=Object(p.a)(c,2),g=s[0],h=s[1],b=i.vertical,v=i.horizontal,j=i.open,x=i.message,O=i.type,C=i.autoHide,S=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(u.a)(Object(u.a)({},i),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=r.a.useState(null),k=Object(p.a)(_,2),w=k[0],N=k[1],z=r.a.useState(null),I=Object(p.a)(z,2),M=I[0],F=I[1],q=e.event;return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:b,horizontal:v},open:j,autoHideDuration:C,onClose:S,key:b+v},r.a.createElement(Ua,{onClose:S,severity:O},x)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Report(",q.name,")"),r.a.createElement(P.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Issue Title",name:"title",fullWidth:!0,value:w||"",required:!0,onChange:function(e){N(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:M||"",required:!0,onChange:function(e){F(e.target.value)}})))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){h(!0);try{var t=new FormData,n={event_id:q._id,title:w,description:M};t=JSON.stringify(n),fetch("https://ellipseapp.com/api/event/report",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},method:"POST",body:t}).then((function(t){t.json().then((function(t){"success"===t.message&&(h(!1),e.handleClose(),o({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3}))}))}))}catch(r){h(!1),o({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:3e3})}},color:"primary"},g?r.a.createElement(D.a,{color:"primary",size:24}):"Send"))))}var Va=Object(S.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},morePopup:{zIndex:"5"}}}));var Ya=function(e){var t=Va(),a=e.event,n=localStorage.getItem("theme"),l=new Date(a.start_time),i=new Date(a.finish_time),o=new Date(a.registration_end_time),c=r.a.useRef(null),s=r.a.useState(!1),m=Object(p.a)(s,2),u=m[0],d=m[1],g=r.a.useState(!1),h=Object(p.a)(g,2),E=h[0],b=h[1],v=r.a.useState(!1),y=Object(p.a)(v,2),j=y[0],x=y[1],C=r.a.useState(null),S=Object(p.a)(C,2),_=S[0],k=S[1];return r.a.createElement(Ia.a,{className:t.root},r.a.createElement(Fa.a,{avatar:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{style:{display:u?"block":"none"},onClick:function(){e.imageDialog(a)},onLoad:function(){return d(!0)},alt:"Event Poster",height:"160",width:"150",src:"https://ellipseapp.com"+"/api/image?id=".concat(a.poster_url)}),!u&&r.a.createElement("div",{style:{height:"160px",width:"150px"}},r.a.createElement(Ga.a,{color:"disabled",style:{height:"160px",width:"150px"}}))),action:r.a.createElement("div",null,r.a.createElement(ce.a,{ref:c,"aria-controls":Boolean(_)?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(e){k(e.currentTarget)}},r.a.createElement(Ha.a,null)),r.a.createElement(Oe.a,{anchorEl:_,anchorOrigin:{vertical:"top",horizontal:"right"},id:"menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(_),onClose:function(){k(null)}},r.a.createElement(xe.a,{onClick:function(){x(!0)}},"Share"),r.a.createElement(xe.a,{onClick:function(){b(!0)}},"Report"))),title:r.a.createElement(O.a,{variant:"h5",color:"textPrimary",component:"p"},a.name),subheader:r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{style:{textOverflow:"ellipsis",overflow:"hidden",height:"50px"},variant:"body1",color:"textSecondary",component:"p"},a.description),r.a.createElement(Ke.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:a.event_mode}),r.a.createElement(Ke.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:a.fee_type}),r.a.createElement(Ke.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:a.event_type}),r.a.createElement(Ke.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Reg ends on "+o.toDateString()}),r.a.createElement(Ke.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Starts on "+l.toDateString()}),r.a.createElement(Ke.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Ends on "+i.toDateString()}))}),r.a.createElement(Ja,{event:a,open:E,handleClose:function(){b(!1)}}),r.a.createElement(Je,{event:a,open:j,handleClose:function(){x(!1)}}),r.a.createElement(Ba.a,{disableSpacing:!0},r.a.createElement("div",{className:t.buttonDiv},r.a.createElement(f.a,{size:"small",color:"primary",variant:"outlined",className:t.button,onClick:function(){e.click(e.eventId)}},"See More"),"form"===a.reg_mode?r.a.createElement(f.a,{disabled:!!a.registered,size:"small",color:"primary",variant:"contained",className:t.button,onClick:function(){e.handleReg(e.eventId)}},a.registered?"Registered":"Register"):r.a.createElement(f.a,{disabled:!!a.registered,size:"small",color:"primary",variant:"contained",className:t.button},"light"===n?r.a.createElement("a",{rel:"noopener noreferrer",href:a.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register"):r.a.createElement("a",{rel:"noopener noreferrer",href:a.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register")))))},Ka=Object(S.a)((function(e){var t,a,n;return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:(t={marginTop:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1),position:"sticky",top:e.spacing(8),bottom:0},Object(C.a)(t,e.breakpoints.down("md"),{top:e.spacing(13)}),Object(C.a)(t,"zIndex",5),t),accordion:{backgroundColor:e.palette.primary.light},rpaper:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(C.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(a,"top",e.spacing(10)),a),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(n={borderRadius:e.spacing(50)},Object(C.a)(n,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(n,"backgroundColor",e.palette.primary.main),Object(C.a)(n,"color",e.palette.primary.light),n),fab:Object(C.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(C.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"}),content:{marginTop:e.spacing(3)},mainGrid:{padding:e.spacing(.5)}}}));var Za=function(e){localStorage.setItem("tabIndex",0);var t=Ka(),a=r.a.useState(!1),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState([]),c=Object(p.a)(o,2),s=c[0],m=c[1],u=r.a.useContext($t).allEvents,d=r.a.useContext(ra),g=d.activeEvents,f=d.contextLoading,h=r.a.useContext(We).currentUser,E=g.filter((function(e){return new Date<=new Date(e.start_time)&&"pending"!==e.status})),b=g.filter((function(e){var t=new Date,a=new Date(e.finish_time),n=new Date(e.start_time);return t<=a&&t>=n})),v=u.filter((function(e){return!0===e.registered})),j=r.a.useState(0),x=Object(p.a)(j,2),C=x[0],S=x[1],_=u.filter((function(e){return new Date>new Date(e.finish_time)&&"pending"!==e.status})),k=function(e){return function(){m(e)}};return r.a.createElement("div",null,r.a.createElement(pe.a,{className:t.root2},r.a.createElement(he.a,{value:C,onChange:function(e,t){S(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(Ee.a,{label:"Upcoming Events"}),r.a.createElement(Ee.a,{label:"Ongoing Events"}),r.a.createElement(Ee.a,{label:"Registered Events"}),r.a.createElement(Ee.a,{label:"Past Events"}))),r.a.createElement("div",{className:t.content},0===C&&r.a.createElement(r.a.Fragment,null,!f&&null!==g&&0===g.length&&r.a.createElement(O.a,{align:"center"},"No events, check back later"),f&&r.a.createElement("div",null,r.a.createElement(Ma.a,{variant:"rect",animation:"wave",height:118}),r.a.createElement(Ma.a,{animation:"wave"}),r.a.createElement(Ma.a,{animation:"wave"}),r.a.createElement(Ma.a,{animation:"wave"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ma.a,{variant:"rect",animation:"wave",height:118}),r.a.createElement(Ma.a,{animation:"wave"}),r.a.createElement(Ma.a,{animation:"wave"}),r.a.createElement(Ma.a,{animation:"wave"})),null!==E&&r.a.createElement("div",null,e.isFiltered?e.sortedEventsArray.map((function(t,a){return r.a.createElement(Ya,{key:a,click:e.handleClick,url:h.imageUrl,name:t.name,startTime:t.start_time,endTime:t.finish_time,eventMode:t.eventMode,eventType:t.eventType,regEndTime:t.registrationEndTime,event:t,feeType:t.feesType,imageDialog:e.handleImageDialogOpen,handleReg:e.handleRegistrationButton,eventId:t})})):E.map((function(t,a){return r.a.createElement(Ya,{key:a,click:e.handleClick,url:h.imageUrl,name:t.name,startTime:t.start_time,endTime:t.finish_time,eventMode:t.eventMode,eventType:t.eventType,regEndTime:t.registrationEndTime,eventId:t,feeType:t.feesType,imageDialog:e.handleImageDialogOpen,handleReg:e.handleRegistrationButton,event:t})})))),1===C&&r.a.createElement(r.a.Fragment,null,!f&&null!==g&&0===g.length&&r.a.createElement(O.a,{align:"center"},"No events, check back later"),f&&r.a.createElement("div",null,r.a.createElement(Ma.a,{variant:"rect",animation:"wave",height:118}),r.a.createElement(Ma.a,{animation:"wave"}),r.a.createElement(Ma.a,{animation:"wave"}),r.a.createElement(Ma.a,{animation:"wave"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ma.a,{variant:"rect",animation:"wave",height:118}),r.a.createElement(Ma.a,{animation:"wave"}),r.a.createElement(Ma.a,{animation:"wave"}),r.a.createElement(Ma.a,{animation:"wave"})),null!==b&&r.a.createElement("div",null,e.isFiltered?e.sortedEventsArray.map((function(t,a){return r.a.createElement(Ya,{key:a,click:e.handleClick,url:h.imageUrl,name:t.name,startTime:t.start_time,endTime:t.finish_time,eventMode:t.eventMode,eventType:t.eventType,regEndTime:t.registrationEndTime,event:t,feeType:t.feesType,imageDialog:e.handleImageDialogOpen,handleReg:e.handleRegistrationButton,eventId:t})})):b.map((function(t,a){return r.a.createElement(Ya,{key:a,click:e.handleClick,url:h.imageUrl,name:t.name,startTime:t.start_time,endTime:t.finish_time,eventMode:t.eventMode,eventType:t.eventType,regEndTime:t.registrationEndTime,eventId:t,feeType:t.feesType,imageDialog:e.handleImageDialogOpen,handleReg:e.handleRegistrationButton,event:t})})))),2===C&&r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center"},0===v.length&&r.a.createElement(O.a,{align:"center"},"No Registered Events"),v.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,key:a,className:t.mainGrid},r.a.createElement(Wa,{event:e,handleViewClick:k(e),name:e.name}))}))),3===C&&r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center"},0===_.length&&r.a.createElement(O.a,{align:"center"},"No Past Events at this time"),_.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,key:a,className:t.mainGrid},r.a.createElement(Wa,{event:e,handleViewClick:k(e),name:e.name}))}))),r.a.createElement("div",null,r.a.createElement(Xt,{open:l,event:s,handleClose:function(){i(!1)},name:s.name,startTime:s.start_time,endTime:s.finish_time,regEndTime:s.registrationEndTime,type:s.eventType,tags:s.tags,mode:s.eventMode,feeType:s.feesType}))))},Qa=Object(S.a)((function(e){var t,a,n;return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},rpaper:(t={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"89vh"},Object(C.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(t,"top",e.spacing(10)),t),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(a={borderRadius:e.spacing(50)},Object(C.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(a,"backgroundColor",e.palette.primary.main),a),root:Object(C.a)({background:e.palette.primary.light,position:"sticky",top:e.spacing(10),marginLeft:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),leftSubPaper:Object(C.a)({backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},e.breakpoints.down("md"),{maxHeight:"78vh"}),root2:Object(C.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"}),filterTextField:{padding:e.spacing(1),height:e.spacing(5)},filterButton:{margin:e.spacing(1),width:e.spacing(10),borderRadius:e.spacing(50)},fab:Object(C.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),mobileFilterButton:Object(C.a)({},e.breakpoints.up("md"),{display:"none"}),skeleton:{textDecorationColor:e.palette.primary.dark},feedBackButton:(n={borderRadius:e.spacing(50),marginTop:e.spacing(1)},Object(C.a)(n,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(n,"paddingBottom",e.spacing(1)),n)}}));var Xa=Object(c.g)((function(e){var t=e.history;localStorage.setItem("tabIndex",0);var a=localStorage.getItem("token"),n=r.a.useContext(We).currentUser,l=Qa(),i=Object(W.a)(),o=r.a.useState(!1),c=Object(p.a)(o,2),s=c[0],u=c[1],h=r.a.useState(!1),E=Object(p.a)(h,2),b=E[0],v=E[1],j=r.a.useState(""),x=Object(p.a)(j,2),C=x[0],S=x[1],_=r.a.useState(null),k=Object(p.a)(_,2),w=k[0],T=k[1],N=r.a.useState(null),D=Object(p.a)(N,2),z=D[0],I=D[1],A=r.a.useState("All"),M=Object(p.a)(A,2),F=M[0],q=M[1],H=r.a.useState([]),L=Object(p.a)(H,2),G=L[0],U=L[1],J=r.a.useState(!1),V=Object(p.a)(J,2),Y=V[0],K=V[1],Z=r.a.useState([0]),Q=Object(p.a)(Z,2),X=Q[0],$=Q[1],ee=r.a.useState([0]),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],re=r.a.useState(!1),le=Object(p.a)(re,2),ie=le[0],oe=le[1],ce=r.a.useContext(ra).activeEvents,se=r.a.useState([]),me=Object(p.a)(se,2),ue=me[0],de=me[1],ge=r.a.useState(!1),fe=Object(p.a)(ge,2),he=fe[0],Ee=fe[1];r.a.useEffect((function(){de(ce.filter((function(e){return!0===e.registered})))}),[ce]),a||t.replace("/");var be=function(){t.push("/post")},ve=function(e){T(e)},ye=function(e){I(e)};function je(e,t){q(t)}function xe(){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(d.a)(m.a.mark((function e(){var t,a,r,l,i,o,c,s,u,d,p,g,f,h,E,b,v,y;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe(!1),null==w||null==z){e.next=8;break}t=Ce(w,z,ce),U(t),K(!0),ae.length>1?(a=_e(t),U(a),K(!0),X.length>1&&(r=ke(a),U(r),K(!0),F===n.college_name&&(l=we(r),U(l),K(!0)))):X.length>1?(i=ke(t),U(i),K(!0),F===n.college_name&&(o=we(i),U(o),K(!0))):F===n.collegeName&&(c=we(t),U(c),K(!0)),e.next=18;break;case 8:if(null==w){e.next=17;break}return e.next=11,Se(w,ce);case 11:s=e.sent,U(s),K(!0),ae.length>1?(u=_e(s),U(u),K(!0),X.length>1&&(d=ke(s),U(d),K(!0),F===n.collegeName&&(p=we(d),U(p),K(!0)))):X.length>1?(g=ke(s),U(g),K(!0),F===n.collegeName&&(f=we(g),U(f),K(!0))):F===n.collegeName&&(h=we(s),U(h),K(!0)),e.next=18;break;case 17:ae.length>1?(E=_e(ce),U(E),K(!0),X.length>1&&(b=ke(E),U(b),K(!0))):X.length>1?(v=ke(ce),U(v),K(!0)):F===n.college_name&&(y=we(ce),U(y),K(!0));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t,a){var n=[];return a.forEach((function(a){var r=new Date(a.start_time);e.getTime()<=r.getTime()&&r.getTime()<=t.getTime()&&n.push(a)})),n}function Se(e,t){var a=[];return t.forEach(function(){var t=Object(d.a)(m.a.mark((function t(n){var r,l,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r="".concat(e.getDate())+e.getMonth()+e.getFullYear(),l=new Date(n.start_time),i="".concat(l.getDate())+l.getMonth()+l.getFullYear(),r===i&&a.push(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a}function _e(e){var t=[];return e.forEach((function(e){ae.includes(e.event_mode)&&t.push(e)})),t}function ke(e){var t=[];return e.forEach((function(e){X.includes(e.fee_type)&&t.push(e)})),t}function we(e){var t=[];return e.forEach((function(e){n.college_name===e.college_name&&t.push(e)})),t}function Te(){ne([0]),$([0]),U([]),T(null),I(null),K(!1),oe(!1),q("All")}function Ne(e){S(e),v(!0)}function De(e){S(e),t.push("/event/register/"+e._id)}var ze=function(e){return function(){e.registered||e.user_id===n.user_id?t.push("/event/".concat(e._id)):(S(e),u(!0))}};return r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:!1,md:3,lg:2,style:{padding:"10px"}},r.a.createElement(pe.a,{className:l.root,elevation:"0"},r.a.createElement(pe.a,{className:l.leftSubPaper,elevation:"0"},r.a.createElement(wa,{handleSortDateChange:ve,sortStartDate:w,handleEndSortDateChange:ye,sortEndDate:z,handleSortCollegeChange:je,feeChecked:X,modeChecked:ae,sortCollgeType:F,setFeeChecked:$,setModeChecked:ne,handleSortApplyButton:xe,handlesortDiscardButton:Te}))),r.a.createElement(f.a,{className:l.mobileFilterButton,variant:"outlined",onClick:function(){oe(!0)}},"Filters")),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8,style:{marginBottom:"50px"}},r.a.createElement(Za,{isFiltered:Y,sortedEventsArray:G,handleClick:function(e){e.registered||e.user_id===n.user_id?t.push("/event/".concat(e._id)):(S(e),u(!0))},handleImageDialogOpen:Ne,handleRegistrationButton:De}),r.a.createElement(O.a,{variant:"h5",style:{paddingTop:"5px",paddingBottom:"7px"}})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2},r.a.createElement(sa.a,{color:"primary","aria-label":"add",className:l.fab,onClick:be},r.a.createElement(ua.a,null)),r.a.createElement(pe.a,{className:l.rpaper,elevation:0},r.a.createElement(pe.a,{className:l.subRpaper,elevation:0},r.a.createElement(f.a,{onClick:be,variant:"contained",fullWidth:!0,size:"large",className:l.postButton},"Post Event"),r.a.createElement(fa.a,{className:l.root2},r.a.createElement(O.a,{variant:"body2"},"Registered Events"),ue.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(da.a,{onClick:ze(e),key:t,button:!0},r.a.createElement(ga.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(pa.a,{primary:e.name})),r.a.createElement(et.a,null))}))),r.a.createElement(f.a,{onClick:function(){Ee(!0)},variant:"outlined",fullWidth:!0,size:"large",className:l.feedBackButton},"Report Bug/Feedback"))))),r.a.createElement("div",null,r.a.createElement(za,{open:he,handleClose:function(){Ee(!1)}}),s&&r.a.createElement(Xt,{open:s,event:C,handleClose:function(){u(!1)},handleReg:De,imageDialog:Ne}),r.a.createElement(ht,{event:C,open:b,handleClose:function(){v(!1)}}),r.a.createElement(B.a,{open:ie,onClose:function(){oe(!1)},fullWidth:!0,scroll:"paper","aria-labelledby":"sort-dialog","aria-describedby":"sort-dialog",maxWidth:"sm",PaperProps:{style:{backgroundColor:i.palette.secondary.main,boxShadow:"none"}}},r.a.createElement(R.a,null,"Filters"),r.a.createElement(P.a,null,r.a.createElement(Na,{handleSortDateChange:ve,sortStartDate:w,handleEndSortDateChange:ye,sortEndDate:z,handleSortCollegeChange:je,feeChecked:X,modeChecked:ae,setFeeChecked:$,setModeChecked:ne,handleSortApplyButton:xe,handlesortDiscardButton:Te})))))}));var $a=function(e){e.children;var t=e.value,a=e.url,n=e.index,l=Object(Ve.a)(e,["children","value","url","index"]),i=r.a.useState(!1),o=Object(p.a)(i,2),c=o[0],s=o[1],m=r.a.useContext(We).currentUser,u=r.a.useContext($t).allEvents.filter((function(e){return e.user_id===m.user_id})),d=r.a.useState(""),g=Object(p.a)(d,2),f=g[0],h=g[1];function E(e){h(e)}return r.a.createElement("div",Object.assign({role:"tabpanel"},l),t===n&&r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===u.length&&r.a.createElement(O.a,null,"No Posted Events"),u.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,key:t},r.a.createElement(Wa,{event:e,handleViewClick:E,name:e.name,image:a}))})),r.a.createElement(Xt,{open:c,event:f,handleClose:function(){s(!1)},name:f.name,startTime:f.start_time,endTime:f.finish_time,regEndTime:f.registrationEndTime,type:f.eventType,tags:f.tags,mode:f.eventMode,feeType:f.feesType,url:m.imageUrl}))))},en=a(269),tn=a.n(en),an=a(355),nn=a.n(an),rn=a(354),ln=a.n(rn),on=a(138),cn=a.n(on),sn=a(356),mn=a.n(sn),un=a(353),dn=a.n(un),pn=Object(S.a)((function(e){return{root3:{display:"flex",justifyContent:"flex-start",paddingLeft:e.spacing(4)},content:{marginTop:e.spacing(1),paddingTop:e.spacing(1)},avatar:{margin:e.spacing(1.5),padding:e.spacing(1)}}}));var gn=function(e){var t=pn(),a=r.a.useState(r.a.createElement(tn.a,null)),n=Object(p.a)(a,2),l=n[0],i=n[1];return r.a.useEffect((function(){switch(e.name){case"Username":i(r.a.createElement(dn.a,null));break;case"Name":i(r.a.createElement($e.a,null));break;case"College":i(r.a.createElement(ln.a,null));break;case"Gender":i(r.a.createElement(nn.a,null));break;case"Bio":i(r.a.createElement(cn.a,null));break;case"Designation":i(r.a.createElement(mn.a,null));break;case"Email":i(r.a.createElement(tn.a,null));break;default:i(r.a.createElement(cn.a,null))}}),[e.name]),r.a.createElement(v.a,{className:t.root3},r.a.createElement(v.a,{className:t.avatar},r.a.createElement(g.a,null,l)),r.a.createElement(v.a,{className:t.content},r.a.createElement(v.a,null,r.a.createElement(O.a,null,e.name)),r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"body2",color:"textSecondary"},e.value))))},fn=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main},editIcon:{display:"flex",justifyContent:"flex-end"}}}));var hn=function(e){var t=fn(),a=(e.children,e.value),n=(e.url,e.index),l=Object(Ve.a)(e,["children","value","url","index"]),i=r.a.useContext(We).currentUser;return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},l),a===n&&r.a.createElement("div",{className:t.root},r.a.createElement(v.a,null,r.a.createElement(v.a,{className:t.editIcon},r.a.createElement(ce.a,{onClick:e.handleEditButton},r.a.createElement(oe.a,null))),r.a.createElement(gn,{name:"Name",value:i.name}),r.a.createElement(gn,{name:"Email",value:i.email}),r.a.createElement(gn,{name:"Username",value:i.username}),r.a.createElement(gn,{name:"College",value:i.college_name}),r.a.createElement(gn,{name:"Designation",value:i.designation}),r.a.createElement(gn,{name:"Gender",value:i.gender}),r.a.createElement(gn,{name:"Bio",value:i.bio}))))},En=Object(S.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main}}}));function bn(e){var t=En(),a=e.event,n=localStorage.getItem("token"),l=r.a.useState(""),i=Object(p.a)(l,2),o=i[0],c=i[1];function s(){}return r.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event/get_event_name?eventId=".concat(a.event_id),{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){c(e)}))}))}),[a,n]),r.a.createElement(Ia.a,{className:t.root},r.a.createElement(Aa.a,null,r.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},o)),r.a.createElement(Ba.a,null,r.a.createElement(f.a,{disabled:"GENERATED"!==a.certificate_status.toUpperCase(),download:!0,target:"_blank",href:"https://ellipseapp.com"+"/api/user/certificate?id=".concat(a.certificate_url),size:"small",color:"primary",onClick:s},"Download"),r.a.createElement(f.a,{disabled:"GENERATED"!==a.certificate_status.toUpperCase(),target:"_blank",href:"https://ellipseapp.com"+"/api/user/certificate?id=".concat(a.certificate_url),size:"small",color:"primary",onClick:s},"View"),r.a.createElement(O.a,{align:"right",variant:"body2",color:"textSecondary",component:"p"},a.certificate_status.toUpperCase())))}var vn=function(e){e.children;var t=e.value,a=(e.url,e.index),n=Object(Ve.a)(e,["children","value","url","index"]),l=localStorage.getItem("token"),i=r.a.useState([]),o=Object(p.a)(i,2),c=o[0],s=o[1];return r.a.useEffect((function(){fetch("https://ellipseapp.com/api/user/get_certificates",{headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){s(e)}))}))}),[l]),r.a.createElement("div",Object.assign({role:"tabpanel"},n),t===a&&r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===c.length&&r.a.createElement(O.a,null,"No Certificates Register for the event to get one"),c.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:6,key:t},r.a.createElement(bn,{event:e}))})))))},yn=Object(S.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:Object(C.a)({margin:e.spacing(.5),borderRadius:e.spacing(3)},e.breakpoints.down("sm"),{display:"none"}),large:Object(C.a)({width:e.spacing(17),height:e.spacing(17)},e.breakpoints.down("md"),{width:e.spacing(11),height:e.spacing(11)}),tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},iconlarge:Object(C.a)({width:e.spacing(15),height:e.spacing(15)},e.breakpoints.down("md"),{width:e.spacing(10),height:e.spacing(10)})}}));var jn=function(e){localStorage.setItem("tabIndex",3);var t=yn(),a=r.a.useState(0),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useContext(We).currentUser;return r.a.createElement(Ia.a,{className:t.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(h.a,null),r.a.createElement(y.a,{item:!0,xs:!1,sm:!1,md:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:8},r.a.createElement(Fa.a,{avatar:r.a.createElement(g.a,{className:t.large,sizes:"100",alt:"profile image",src:null!==o.profile_pic&&"https://ellipseapp.com"+"/api/image?id=".concat(o.profile_pic)},r.a.createElement($e.a,{className:t.iconlarge})),action:r.a.createElement(f.a,{variant:"outlined",color:"default",className:t.button,onClick:e.handleEditButton},"Edit Profile"),title:r.a.createElement(O.a,{variant:"h4"},o.name),subheader:o.bio})),r.a.createElement(y.a,{item:!0,xs:!1,sm:!1,md:2})),r.a.createElement(Aa.a,null,r.a.createElement(pe.a,{className:t.root2},r.a.createElement(he.a,{value:l,onChange:function(e,t){i(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(Ee.a,{label:"About"}),r.a.createElement(Ee.a,{label:"Posted Events"}),r.a.createElement(Ee.a,{label:"Certificates"}))),r.a.createElement("div",null,r.a.createElement(hn,{handleEditButton:e.handleEditButton,value:l,index:0}),r.a.createElement($a,{value:l,index:1}),r.a.createElement(vn,{value:l,index:2}))))},xn=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},button:{marginTop:e.spacing(4)}}}));function On(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var Cn=function(e){var t=xn(),a=(e.children,e.value),n=(e.url,e.index),l=Object(Ve.a)(e,["children","value","url","index"]),i=r.a.useContext(We),o=i.currentUser,c=i.setCurrentUser,s=localStorage.getItem("token"),h=r.a.useState([]),b=Object(p.a)(h,2),v=b[0],j=b[1],x=r.a.useState(null),O=Object(p.a)(x,2),C=O[0],S=O[1],_=r.a.useState(null),k=Object(p.a)(_,2),w=k[0],N=k[1],z=r.a.useState(null),I=Object(p.a)(z,2),B=I[0],A=I[1],P=r.a.useState(null),R=Object(p.a)(P,2),W=R[0],M=R[1],F=r.a.useState(null),q=Object(p.a)(F,2),L=q[0],Y=q[1],K=r.a.useState(null),Z=Object(p.a)(K,2),Q=Z[0],X=Z[1],$=r.a.useState(null),ee=Object(p.a)($,2),te=ee[0],ae=ee[1],ne=r.a.useState(null),re=Object(p.a)(ne,2),ie=re[0],se=re[1],me=r.a.useState(null),ue=Object(p.a)(me,2),de=ue[0],pe=ue[1],ge=r.a.useState([]),fe=Object(p.a)(ge,2),he=fe[0],Ee=fe[1],be=r.a.useState(null),ve=Object(p.a)(be,2),ye=ve[0],je=ve[1],xe=r.a.useState(!1),Oe=Object(p.a)(xe,2),Ce=Oe[0],Se=Oe[1],_e=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),ke=Object(p.a)(_e,2),we=ke[0],Te=ke[1],Ne=r.a.useState(!1),De=Object(p.a)(Ne,2),ze=De[0],Ie=De[1],Be=we.vertical,Ae=we.horizontal,Pe=we.open,Re=we.message,Me=we.type,Fe=r.a.useState(!1),qe=Object(p.a)(Fe,2),He=qe[0],Le=qe[1],Ge=r.a.useState(!1),Ue=Object(p.a)(Ge,2),Je=Ue[0],Ye=Ue[1];r.a.useEffect((function(){A(o.email),N(o.name),M(o.username),ae(o.designation),se(o.college_name),pe(o.college_id),Y(o.bio),X(o.gender),fetch("https://ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){j(e),e.forEach((function(e){Ee((function(t){return[].concat(Object(H.a)(t),[e.name])}))}))}))}))}),[s]);var Ke=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Updated Successfully"===Re&&fetch("https://ellipseapp.com/api/users/me",{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){c(e[0])}))})),Te(Object(u.a)(Object(u.a)({},we),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},l),a===n&&r.a.createElement("div",{className:t.root},r.a.createElement(T.a,{anchorOrigin:{vertical:Be,horizontal:Ae},open:Pe,autoHideDuration:6e3,onClose:Ke,key:Be+Ae},r.a.createElement(On,{onClose:Ke,severity:Me},Re)),r.a.createElement(y.a,{container:!0,component:"main",justify:"center",spacing:2},r.a.createElement(y.a,{item:!0,xs:12,md:12,alignContent:"center",alignItems:"center"},r.a.createElement(y.a,{container:!0,component:"main",justify:"center",spacing:2},r.a.createElement("input",{id:"contained-button-file",required:!0,type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){S(e.target.files[0]);var t=URL.createObjectURL(e.target.files[0]);je(t),Se(!0)}},style:{display:"none"}}),r.a.createElement(le.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(ce.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(oe.a,null)))},r.a.createElement(g.a,{className:t.large,sizes:"100",alt:"",src:Ce?ye:"https://ellipseapp.com"+"/api/image?id=".concat(o.profile_pic)})))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(E.a,{autoComplete:"fullName",name:"fullName",value:w||"",onChange:function(e,t){N(e.target.value)},id:"fullName",label:"Full Name",autoFocus:!0,fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(E.a,{disabled:!0,id:"email",value:B,onChange:function(e,t){A(t)},fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(E.a,{required:!0,fullWidth:!0,id:"username",label:"User Name",value:W,onChange:function(e){M(e.target.value);var t=e.target.value,a=new FormData,n={username:t};a=JSON.stringify(n),Le(!1),Ye(!1),fetch("https://ellipseapp.com/api/check_username",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){e.json().then((function(e){"user already exists"===e.message&&(Le(!0),Ye(!0))}))}))},name:"username",error:He,helperText:He&&"username already exists"})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(U.a,{fullWidth:!0,id:"college",options:he,getOptionLabel:function(e){return e},value:ie,onChange:function(e,t){se(t),v.forEach((function(e){e.name===t&&pe(e._id)}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({name:"college",fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Bio",autoComplete:"off",required:!0,id:"bio",name:"bio",label:"Bio",fullWidth:!0,value:L,onChange:function(e,t){Y(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(V.a,{fullWidth:!0,required:!0},r.a.createElement(J.a,{htmlFor:"gender"},"Gender"),r.a.createElement(G.a,{value:Q,onChange:function(e,t){X(e.target.value)},fullWidth:!0,native:!0,label:"Age",inputProps:{name:"gender",id:"gender"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Others"},"Others")))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(V.a,{fullWidth:!0,required:!0},r.a.createElement(J.a,{htmlFor:"designation"},"You are"),r.a.createElement(G.a,{value:te,onChange:function(e,t){ae(e.target.value)},fullWidth:!0,native:!0,label:"You are",inputProps:{name:"designation",id:"designation"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Faculty"},"Faculty"),r.a.createElement("option",{value:"Club/Organisation"},"Club/Organisation"),r.a.createElement("option",{value:"Institution"},"Institution"),r.a.createElement("option",{value:"Others"},"Others"))))),r.a.createElement(f.a,{className:t.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),Ie(!0);try{var t=new FormData,a={name:w,email:B,username:W,college_id:de,designation:te,gender:Q,bio:L};t=JSON.stringify(a),fetch("https://ellipseapp.com/api/users/updateprofile",{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){200===e.status?e.json().then((function(e){if(Ce){var t=new FormData;t.append("image",C),fetch("https://ellipseapp.com/api/users/uploadImage",{headers:{Authorization:"Bearer ".concat(s)},method:"POST",body:t}).then((function(e){200===e.status?(Ie(!1),Te({open:!0,vertical:"top",horizontal:"center",message:"Updated Successfully",type:"success",autoHide:1e3})):(Ie(!1),Te({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong try again",type:"error",autoHide:3e3}))}))}else Ie(!1),Te({open:!0,vertical:"top",horizontal:"center",message:"Updated Successfully",type:"success",autoHide:300})})):(Ie(!1),Te({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong try again",type:"error",autoHide:3e3}))}))}catch(n){Ie(!1),Te({open:!0,vertical:"top",horizontal:"center",message:n.message,type:"error",autoHide:3e3})}},disabled:ze||Je},ze?r.a.createElement(D.a,{color:"primary",size:24}):"Update Profile")))};function Sn(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var _n=Object(S.a)((function(e){return{avatar:{backgroundColor:e.palette.primary.main},button:{marginTop:e.spacing(4)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)}}}));var kn=function(e){var t=_n(),a=(e.children,e.value),n=(e.url,e.index),l=Object(Ve.a)(e,["children","value","url","index"]),i=r.a.useContext(We).currentUser,o=localStorage.getItem("token"),c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error"}),s=Object(p.a)(c,2),g=s[0],b=s[1],v=r.a.useState(!1),j=Object(p.a)(v,2),x=j[0],O=j[1],C=g.vertical,S=g.horizontal,_=g.open,k=g.message,w=g.type,N=r.a.useState(null),z=Object(p.a)(N,2),I=z[0],B=z[1],A=r.a.useState(null),P=Object(p.a)(A,2),R=P[0],W=P[1],M=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(null),W(null),b(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},l),a===n&&r.a.createElement(Z.a,{component:"main",maxWidth:"xs"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:C,horizontal:S},open:_,autoHideDuration:2e3,onClose:M,key:C+S},r.a.createElement(Sn,{onClose:M,severity:w},k)),r.a.createElement("div",{className:t.paper},r.a.createElement("form",{className:t.form,onSubmit:function(e){O(!0),e.preventDefault();try{var t=new FormData,a={email:i.email,cPassword:I,nPassword:R};t=JSON.stringify(a),fetch("https://ellipseapp.com/api/users/updatepassword",{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){200===e.status?e.json().then((function(e){O(!1),b({open:!0,vertical:"top",horizontal:"center",message:e.message,type:"success"})})):401===e.status&&e.json().then((function(e){O(!1),b({open:!0,vertical:"top",horizontal:"center",message:e.error,type:"error"})}))}))}catch(n){O(!1),b({open:!0,vertical:"top",horizontal:"center",message:n.message,type:"error"})}}},r.a.createElement(y.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{required:!0,fullWidth:!0,name:"cPassword",label:"Current Password",type:"password",id:"cPassword",value:I,onChange:function(e){B(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{required:!0,fullWidth:!0,name:"nPassword",label:"New Password",type:"password",id:"nPassword",value:R,onChange:function(e){W(e.target.value)}}))),r.a.createElement(f.a,{className:t.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:x},x?r.a.createElement(D.a,{color:"primary",size:24}):"Update Password")))))},wn=Object(S.a)((function(e){return{avatar:{backgroundColor:e.palette.primary.main},button:{marginTop:e.spacing(4)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)}}}));var Tn=Object(c.g)((function(e){var t=wn(),a=(e.children,e.value),n=(e.url,e.index),l=Object(Ve.a)(e,["children","value","url","index"]),i=localStorage.getItem("token"),o=r.a.useState(!1),c=Object(p.a)(o,2),s=c[0],m=c[1];return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},l),a===n&&r.a.createElement(Z.a,{component:"main",maxWidth:"xs"},r.a.createElement(h.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(f.a,{onClick:function(t){m(!0),t.preventDefault();try{fetch("https://ellipseapp.com/api/users/logoutall",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"},method:"POST"}).then((function(t){200===t.status&&t.json().then((function(t){"success"===t.message&&(m(!1),localStorage.removeItem("token"),localStorage.removeItem("tabIndex"),e.history.replace("/"))}))}))}catch(a){m(!1)}},className:t.button,type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:s},s?r.a.createElement(D.a,{color:"primary",size:24}):"Logout of All Devices"))))}));function Nn(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Dn=Object(S.a)((function(e){return{icons:{alignContent:"right",marginRight:e.spacing(2)},root:{flexGrow:1},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"}}}));var zn=function(e){var t=r.a.useState(0),a=Object(p.a)(t,2),n=a[0],l=a[1],i=Dn(),o=Object(W.a)();function c(){e.handleClose()}return r.a.createElement(B.a,{open:e.open,onClose:c,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",fullWidth:!0,maxWidth:"md",style:{minHeight:"400px"},PaperProps:{style:{backgroundColor:o.palette.secondary.main,boxShadow:"none"}},classes:{paper:i.dialog}},r.a.createElement(R.a,{id:"scroll-dialog-title"},r.a.createElement(v.a,{display:"flex",flexDirection:"column",justifyContent:"center"},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(ce.a,{"aria-label":"close",className:i.closeButton,onClick:c},r.a.createElement(He.a,{fontSize:"large"})))),r.a.createElement("div",{className:i.root},r.a.createElement(ye.a,{style:{alignItems:"center"},position:"static",color:"secondary"},r.a.createElement(he.a,{value:n,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example"},r.a.createElement(Ee.a,Object.assign({label:"Update info"},Nn(0))),r.a.createElement(Ee.a,Object.assign({label:"Change Password"},Nn(1))),r.a.createElement(Ee.a,Object.assign({label:"More Settings"},Nn(1))))))),r.a.createElement(P.a,{dividers:!0},r.a.createElement(Cn,{value:n,index:0}),r.a.createElement(kn,{value:n,index:1}),r.a.createElement(Tn,{value:n,index:2})),r.a.createElement(A.a,{alignItems:"center"}))},In=Object(S.a)((function(e){var t,a;return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3)},accordion:{backgroundColor:e.palette.primary.light},rpaper:(t={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(C.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(t,"top",e.spacing(10)),t),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(a={borderRadius:e.spacing(50)},Object(C.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(a,"backgroundColor",e.palette.primary.main),Object(C.a)(a,"color",e.palette.primary.light),a),fab:Object(C.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(C.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"})}}));var Bn=function(e){var t=In(),a=r.a.useState(!1),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState(!1),c=Object(p.a)(o,2),s=c[0],m=c[1],u=r.a.useContext(ra).activeEvents,d=r.a.useState([]),h=Object(p.a)(d,2),E=h[0],b=h[1];function v(){i(!1),m(!1)}var j=function(){e.history.push("/post")},x=function(e){return function(){b(e),m(!0)}};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:3,lg:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8},r.a.createElement(jn,{handleEditButton:function(){i(!0)}}),r.a.createElement(zn,{open:l,handleClose:v})),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2},r.a.createElement(sa.a,{color:"primary","aria-label":"add",className:t.fab,onClick:j},r.a.createElement(ua.a,null)),r.a.createElement(pe.a,{className:t.rpaper},r.a.createElement(pe.a,{className:t.subRpaper},r.a.createElement(f.a,{onClick:j,variant:"contained",fullWidth:!0,size:"large",className:t.postButton},"Post Event"),r.a.createElement(fa.a,{className:t.sideList},r.a.createElement(O.a,{variant:"body2"},"Explore Events"),u.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(da.a,{onClick:x(e),key:t,button:!0},r.a.createElement(ga.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(pa.a,{primary:e.name})),r.a.createElement(et.a,null))}))))))),r.a.createElement("div",null,r.a.createElement(Xt,{open:s,event:E,handleClose:v,name:E.name,startTime:E.start_time,endTime:E.finish_time,regEndTime:E.registrationEndTime,type:E.eventType,tags:E.tags,mode:E.eventMode,feeType:E.feesType}))))},An=a(825),Pn=a(801),Rn=a(818),Wn=a(829),Mn=a(714),Fn=a(357),qn=a.n(Fn),Hn=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(0),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));function Ln(e){var t=localStorage.getItem("token"),a=Hn(),n=r.a.useState(!1),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(!1),s=Object(p.a)(c,2),m=s[0],u=s[1],d=r.a.useState(!1),g=Object(p.a)(d,2),h=g[0],b=g[1],v=r.a.useState([]),j=Object(p.a)(v,2),x=j[0],O=j[1];r.a.useEffect((function(){fetch("https://ellipseapp.com/api/event/get_event_types",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.forEach((function(e){O((function(t){return[].concat(Object(H.a)(t),[e.title])}))}))}))}))}),[t]);return r.a.createElement("form",{className:a.form,onSubmit:function(t){t.preventDefault(),null===e.startDate?o(!0):null===e.endDate?u(!0):null===e.regEndDate?b(!0):e.handleNext()}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement("input",{id:"poster-file",type:"file",accept:"image/*",onChange:function(t){if(t.target.files[0]){e.setPoster(t.target.files[0]);var a=URL.createObjectURL(t.target.files[0]);e.setImageUrl(a);var n=t.target.files[0].name;e.setImageName(n)}},style:{display:"none"}}),r.a.createElement(le.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"poster-file"},r.a.createElement(ce.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(oe.a,null)))},r.a.createElement("img",{height:"140",width:"150",alt:"poster",src:e.imageUrl})),r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"eventposter",name:"eventposter",label:"Event Poster",component:"span",value:e.imageName||"",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(Ca.a,{position:"start"},r.a.createElement("label",{htmlFor:"poster-file"},r.a.createElement(ce.a,{component:"span"},r.a.createElement(qn.a,null))))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"eventName",name:"eventName",label:"Name",fullWidth:!0,value:e.name||"",onChange:function(t){e.setName(t.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"shortdesc",name:"shortdesc",label:"Short Description",fullWidth:!0,value:e.desc||"",onChange:function(t){e.setDesc(t.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:6},r.a.createElement(ya.a,{utils:va.a,required:!0},r.a.createElement(Wn.a,{inputProps:{required:!0},minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Start Date",name:"startDate",value:e.startDate,onChange:function(t){o(!1),e.setStartDate(t)},error:i,helperText:i&&"Fill this field"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:6},r.a.createElement(ya.a,{utils:va.a},r.a.createElement(Wn.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"endDate",label:"End Date",name:"endDate",value:e.endDate,onChange:function(t){u(!1),e.setEndDate(t)},error:m,helperText:m&&"Fill this field"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,lg:12},r.a.createElement(ya.a,{utils:va.a},r.a.createElement(Wn.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"regEndDate",label:"Registration End Date",name:"regEndDate",value:e.regEndDate,onChange:function(t){b(!1),e.setRegEndDate(t)},error:h,helperText:h&&"Fill this field"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(V.a,{fullWidth:!0,required:!0},r.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Mode"),r.a.createElement(G.a,{fullWidth:!0,native:!0,label:"Mode",inputProps:{name:"eventMode",id:"eventMode"},value:e.eventMode||"",onChange:function(t){e.setEventMode(t.target.value)}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Online"},"Online"),r.a.createElement("option",{value:"Offline"},"Offline")))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(U.a,{fullWidth:!0,id:"combo-box-demo",options:x,getOptionLabel:function(e){return e},onChange:function(t,a){e.setEventType(a)},value:e.eventType,renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Type"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{component:"legend"},"Entry Fee"),r.a.createElement(Oa.a,{"aria-label":"address",name:"address",value:e.feeType,onChange:function(t,a){e.setFeeType(a)},style:{display:"inline"}},r.a.createElement(Y.a,{value:"Free",control:r.a.createElement(xa.a,{color:"default"}),label:"Free"}),r.a.createElement(Y.a,{value:"Paid",control:r.a.createElement(xa.a,{color:"default"}),label:"Paid"}))),"Paid"===e.feeType&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"regFees",name:"regFees",label:"Registration Fees",fullWidth:!0,value:e.regFees||"",onChange:function(t){e.setFees(t.target.value)}}))),r.a.createElement("div",{className:a.buttons},r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:a.button},"Next")))}var Gn=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(0)},submit:{margin:e.spacing(3,0,2)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));function Un(e){var t=localStorage.getItem("token"),a=Gn(),n=r.a.useState([]),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState([]),s=Object(p.a)(c,2),m=s[0],u=s[1],d=r.a.useState([]),g=Object(p.a)(d,2),h=g[0],b=g[1],v=r.a.useState([]),j=Object(p.a)(v,2),x=j[0],O=j[1];return r.a.useEffect((function(){fetch("https://ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){o(e),e.forEach((function(e){u((function(t){return[].concat(Object(H.a)(t),[e.name])}))}))}))})),fetch("https://ellipseapp.com/api/event/get_event_keywords",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.forEach((function(e){"EventTags"===e.type?b((function(t){return[].concat(Object(H.a)(t),[e.title])})):"EventRequirements"===e.type&&O((function(t){return[].concat(Object(H.a)(t),[e.title])}))}))}))}))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:a.form,onSubmit:function(t){t.preventDefault(),e.handleNext()}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",required:!0,id:"about",name:"about",label:"About",fullWidth:!0,onChange:function(t){e.setAbout(t.target.value)},value:e.about||""})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(U.a,{multiple:!0,id:"themes",options:h.map((function(e){return e})),freeSolo:!0,value:e.eventThemes||[],onChange:function(t,a){e.setThemes(a)},renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ke.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Event Tags",placeholder:"Event Tags"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(U.a,{multiple:!0,id:"tags-filled",options:x.map((function(e){return e})),freeSolo:!0,value:e.requirements||[],onChange:function(t,a){e.setRequirements(a)},renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ke.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Prerequisites",placeholder:"Requirements"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(U.a,{fullWidth:!0,id:"combo-box-demo",options:m,value:e.college||[],getOptionLabel:function(e){return e},onChange:function(t,a){e.setCollegeName(a),i.forEach((function(t){t.name===a&&e.setCollegeId(t._id)}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{component:"legend"},"Participation"),r.a.createElement(Oa.a,{"aria-label":"participation",name:"participation",value:e.participantsType,onChange:function(t,a){e.setParticipantsType(a)},style:{display:"inline"}},r.a.createElement(Y.a,{value:"open",control:r.a.createElement(xa.a,{color:"default"}),label:"Open for all"}),r.a.createElement(Y.a,{value:"onlycollege",control:r.a.createElement(xa.a,{color:"default"}),label:"Only ".concat(e.college)}))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{required:!0,component:"legend"},"Participation Type"),r.a.createElement(Oa.a,{required:!0,"aria-label":"participation_type",name:"participation_type",value:e.isTeam?"team":"individual",onChange:function(t,a){"team"===a?e.setIsTeam(!0):e.setIsTeam(!1)},style:{display:"inline"}},r.a.createElement(Y.a,{value:"individual",control:r.a.createElement(xa.a,{color:"default"}),label:"Individual"}),r.a.createElement(Y.a,{value:"team",control:r.a.createElement(xa.a,{color:"default"}),label:"Team"}))),e.isTeam&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",required:!0,type:"number",id:"maxTeam",name:"minTeam",label:"Minimum Team Members",fullWidth:!0,value:e.minTeamSize||"",onChange:function(t){e.setMinTeamSize(t.target.value)}})),e.isTeam&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",required:!0,type:"number",id:"maxTeam",name:"maxTeam",label:"Maximum Team Members",fullWidth:!0,value:e.maxTeamSize||"",onChange:function(t){e.setMaxTeamSize(t.target.value)}})),"Online"===e.eventMode&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,helperText:"Enter links of your and you can also add or edit later in event edit",rows:"5",variant:"outlined",placeholder:"Enter details about your online platform",autoComplete:"off",id:"platform",name:"platform",label:"Platform",fullWidth:!0,onChange:function(t){e.setPlatformDetails(t.target.value)},value:e.platformDetails||""})),"Offline"===e.eventMode&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{component:"legend"},"Venue"),r.a.createElement(Oa.a,{"aria-label":"address","aria-disabled":!0,name:"address",defaultValue:"college",onChange:function(t,a){e.setAddressType(a)},style:{display:"inline"}},r.a.createElement(Y.a,{value:"College",control:r.a.createElement(xa.a,{color:"default"}),label:"College/University"}),r.a.createElement(Y.a,{value:"Other",control:r.a.createElement(xa.a,{color:"default"}),label:"Others"}))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,helperText:"Enter links of your and you can also add or edit later in event edit",rows:"5",variant:"outlined",placeholder:"Room No,Building,College,State,Pincode",autoComplete:"off",onChange:function(t){e.setBuilding(t.target.value)},value:e.building,id:"building",name:"building",label:"Venue",fullWidth:!0})))),r.a.createElement("div",{className:a.buttons},r.a.createElement(f.a,{onClick:e.handleBack,className:a.button},"Back"),r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:a.button},"NEXT"))))}var Jn=a(722);function Vn(e){var t=Object(W.a)(),a=r.a.useState(null),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState(null),c=Object(p.a)(o,2),s=c[0],m=c[1],u=r.a.useState(!0),d=Object(p.a)(u,2),g=d[0],h=d[1],b=r.a.useState(["option1","option2"]),v=Object(p.a)(b,2),j=v[0],x=v[1];return r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Add Field"),r.a.createElement(P.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"name",label:"Field Name",name:"name",fullWidth:!0,value:l,required:!0,onChange:function(e){i(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(V.a,{fullWidth:!0,required:!0},r.a.createElement(J.a,{htmlFor:"type"},"Type"),r.a.createElement(G.a,{fullWidth:!0,native:!0,label:"Type",inputProps:{name:"type",id:"type"},value:s,onChange:function(e){m(e.target.value)}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"short_text"},"Short Text"),r.a.createElement("option",{value:"paragraph"},"Long Description"),r.a.createElement("option",{value:"dropdown"},"Drop Down"),r.a.createElement("option",{value:"date"},"Date & Time"),r.a.createElement("option",{value:"radiobuttons"},"Radio Button"),r.a.createElement("option",{value:"checkboxes"},"Check Box"),r.a.createElement("option",{value:"link"},"Link"),r.a.createElement("option",{value:"file"},"File Upload")))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Oa.a,{required:!0,name:"variant",defaultValue:"required",onChange:function(e,t){h("required"===t)},style:{display:"inline"}},r.a.createElement(Y.a,{value:"required",control:r.a.createElement(xa.a,{color:"default"}),label:"Required"}),r.a.createElement(Y.a,{value:"optional",control:r.a.createElement(xa.a,{color:"default"}),label:"Optional"}))),("radiobuttons"===s||"checkboxes"===s||"dropdown"===s)&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(U.a,{multiple:!0,id:"tags-filled",options:[].map((function(e){return e})),freeSolo:!0,value:j||[],onChange:function(e,t){x(t)},renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ke.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Options",placeholder:"Options",helperText:"you can choose multiple options for your checkboxes or radio buttons enter one option and press enter"}))}})))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){null!=l&&null!=s&&("radiobuttons"!==s&&"checkboxes"!==s&&"dropdown"!==s?e.handleAdd(Object(C.a)({},l,{title:l,field:s,req:g,options:[]}),l):e.handleAdd(Object(C.a)({},l,{title:l,field:s,req:g,options:j}),l),i(null),m(null),h(!0),x(["option1","option2"]),e.handleClose())},color:"primary"},"Add"))))}function Yn(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var Kn=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}));function Zn(e){var t=Kn(),a=Object(W.a)(),n=r.a.useState(null),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(null),s=Object(p.a)(c,2),m=s[0],d=s[1],g=r.a.useState(null),h=Object(p.a)(g,2),b=h[0],v=h[1],j=r.a.useState(""),x=Object(p.a)(j,2),S=x[0],_=x[1],k=r.a.useState(!1),w=Object(p.a)(k,2),N=w[0],D=w[1],z=r.a.useState([]),I=Object(p.a)(z,2),M=I[0],F=I[1],q=r.a.useState({alertopen:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),L=Object(p.a)(q,2),G=L[0],U=L[1],J=G.vertical,V=G.horizontal,Z=G.alertopen,Q=G.message,X=G.type,$=G.autoHide,ee=r.a.useState({form:!0,link:!1}),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],re=function(){D(!1)};var le=function(e){ne(Object(u.a)(Object(u.a)({},ae),{},Object(C.a)({},e.target.name,e.target.checked)))},ie=ae.form,oe=ae.link;return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:J,horizontal:V},open:Z,autoHideDuration:$,onClose:function(){U(Object(u.a)(Object(u.a)({},G),{},{alertopen:!1}))},key:J+V},r.a.createElement(Yn,{onClose:re,severity:X},Q)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog"},r.a.createElement(R.a,{id:"form-dialog-title"},"Add Rounds"),r.a.createElement(P.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",name:"name",fullWidth:!0,disabled:!0,value:"Round ".concat(e.roundsCount+1)})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"desc",label:"Description",name:"desc",fullWidth:!0,value:i,required:!0,onChange:function(e){o(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(ya.a,{utils:va.a,required:!0},r.a.createElement(Wn.a,{inputProps:{required:!0},minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Start Date",name:"startDate",value:m,onChange:function(e){d(e)}}))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(ya.a,{utils:va.a},r.a.createElement(Wn.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"endDate",label:"End Date",name:"endDate",value:b,onChange:function(e){v(e)}}))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{component:"legend"},"Action"),r.a.createElement(Jn.a,null,r.a.createElement(Y.a,{control:r.a.createElement(K.a,{checked:ie,color:"default",onChange:le,name:"form"}),label:"Create Form"}),r.a.createElement(Y.a,{control:r.a.createElement(K.a,{checked:oe,color:"default",onChange:le,name:"link"}),label:"Link"}))),oe&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"platform_link",label:"Platform Link",name:"platform_link",fullWidth:!0,value:S,required:!0,onChange:function(e){_(e.target.value)}})),ie&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(O.a,null,"Fields"),r.a.createElement(pe.a,{component:"ul",className:t.root},M.map((function(e){return r.a.createElement("li",{key:e.key},r.a.createElement(Ke.a,{label:e.title,onDelete:(a=e,function(){F((function(e){return e.filter((function(e){return e.title!==a.title}))}))}),className:t.chip}));var a})))),ie&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",color:"default",onClick:function(){D(!0)}},"Add Field")))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){null!==i&&null!==m&&null!==b?(e.handleAdd({title:"Round ".concat(e.roundsCount+1),description:i,start_date:m,end_date:b,link:S,fields:M}),e.handleClose(),o(""),d(null),v(null),_(""),F([])):U({alertopen:!0,vertical:"top",horizontal:"center",message:"please fill in all fields",type:"error",autoHide:"5000"})},color:"primary"},"Add"))),r.a.createElement(Vn,{open:N,handleAdd:function(e,t){F((function(a){return[].concat(Object(H.a)(a),[e[t]])}))},handleClose:re}))}var Qn=a(800);function Xn(e){var t=Object(W.a)(),a=function(){e.setOpen(!1)};return r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,onClose:a,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}}},r.a.createElement(R.a,{id:"title"},"Terms and Conditions"),r.a.createElement(P.a,null,r.a.createElement(Qn.a,{id:"alert-dialog-description"},r.a.createElement("ul",null,r.a.createElement("li",null,"The information you provided for the event is true and is appropriate. In case we notice any incorrect information, the event will be suspended and further action would be taken against you."),r.a.createElement("li",null,"The information of participants is only used for event purpose and not for any other purpose. Legal action will be taken if this information is used elsewhere."),r.a.createElement("li",null,"ellipseapp.com reserves the right to update and change these Terms of Service regularly without notice to you or acceptance by you. ")))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:a,color:"primary",autoFocus:!0},"Dismiss"))))}var $n=Object(S.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(0)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},formgroup:{marginTop:e.spacing(1)},root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}));function er(e){var t=$n(),a=r.a.useState(!1),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState(!1),c=Object(p.a)(o,2),s=c[0],g=c[1],h=r.a.useState(!1),b=Object(p.a)(h,2),j=b[0],x=b[1],S=r.a.useState(null),_=Object(p.a)(S,2),k=_[0],w=_[1],T=r.a.useState(null),N=Object(p.a)(T,2),D=N[0],z=N[1],I=r.a.useState(null),B=Object(p.a)(I,2),A=B[0],P=B[1],R=r.a.useState([]),W=Object(p.a)(R,2),M=W[0],F=W[1],q=r.a.useState(null),L=Object(p.a)(q,2),U=L[0],Z=L[1],Q=r.a.useState(null),X=Object(p.a)(Q,2),$=X[0],ee=X[1],te=r.a.useState([]),ae=Object(p.a)(te,2),ne=ae[0],re=ae[1];r.a.useEffect((function(){F(e.prizes)}),[e.prizes]),r.a.useEffect((function(){re(e.socialMediaLinks)}),[e.socialMediaLinks]);var le=function(){i(!1),g(!1)},ie={name:{title:"Name",field:"short_text",req:!0,options:[]},email:{title:"Email",field:"short_text",req:!0,options:[]},college:{title:"College",field:"short_text",req:!0,options:[]}},oe=r.a.useState([ie.name,ie.email]),se=Object(p.a)(oe,2),me=se[0],ue=se[1],de=r.a.useState({name:!0,email:!0,college:!1}),ge=Object(p.a)(de,2),fe=ge[0],he=ge[1];r.a.useEffect((function(){e.fields.length>2&&(e.fields.filter((function(e){return"College"===e.title})).length>0&&he(Object(u.a)(Object(u.a)({},fe),{},{college:!0})),ue(e.fields))}),[e.fields]);var Ee=function(e){he(Object(u.a)(Object(u.a)({},fe),{},Object(C.a)({},e.target.name,e.target.checked)));var t=e.target.name;e.target.checked?ue((function(e){return[].concat(Object(H.a)(e),[ie[t]])})):e.target.checked||ue((function(e){return e.filter((function(e){return e.title!==t}))}))},be=fe.name,ve=fe.email,ye=fe.college;var je=function(){var t=Object(d.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),"form"!==e.regMode){t.next=7;break}return t.next=4,e.setFields(me);case 4:e.handlePost(me),t.next=8;break;case 7:e.handlePost(null);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),xe=function(t,a){return function(){var a=e.prizes;a.splice(t),e.setPrizes(a)}},Oe=function(t,a){return function(){var a=e.socialMediaLinks;a.splice(t),e.setSocialMediaLinks(a)}},Ce=function(e){return function(t){"title"===e?w(t.target.value):"desc"===e?z(t.target.value):P(t.target.value)}},Se=function(e){return function(t){"Social Media"===e?Z(t.target.value):ee(t.target.value)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:t.form,onSubmit:je},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(Vn,{open:l,handleClose:le,handleAdd:function(e,t){ue((function(a){return[].concat(Object(H.a)(a),[e[t]])}))}}),r.a.createElement(Zn,{roundsCount:e.rounds.length,open:s,handleClose:le,handleAdd:function(t){e.setRounds((function(e){return[].concat(Object(H.a)(e),[t])}))}}),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,helperText:"Enter all rules and regulation including eligibility for participation",rows:"5",variant:"outlined",placeholder:"Enter all rules and regulation including eligibility for participation",autoComplete:"off",onChange:function(t){e.setRules(t.target.value)},value:e.rules,id:"rules",name:"rules",label:"Rules",fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,helperText:"Enter your event themes like healthcare fintech",rows:"5",variant:"outlined",placeholder:"Enter your event themes like healthcare fintech",autoComplete:"off",onChange:function(t){e.setThemes(t.target.value)},value:e.themes,id:"themes",name:"themes",label:"Themes",fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(V.a,{component:"fieldset",className:t.formControl},r.a.createElement(Mn.a,{component:"legend"},"Prizes"),r.a.createElement(v.a,{display:"flex",style:{marginTop:"10px"}},r.a.createElement(v.a,null,r.a.createElement(E.a,{onChange:Ce("title"),value:k||"",label:"Prize Title",variant:"outlined",style:{marginRight:"5px"}})),r.a.createElement(v.a,null,r.a.createElement(E.a,{onChange:Ce("prize"),value:A||"",label:"Prize",variant:"outlined"})),r.a.createElement(v.a,null,r.a.createElement(E.a,{onChange:Ce("desc"),value:D||"",label:"Prize Description",variant:"outlined"})),r.a.createElement(v.a,null,r.a.createElement(ce.a,{onClick:function(){e.setPrizes((function(e){return[].concat(Object(H.a)(e),[{title:k,prize:A,desc:D}])})),w(null),z(null),P(null)}},"Add"))))),r.a.createElement(y.a,null,r.a.createElement(pe.a,{component:"ul",className:t.root},M.map((function(e,a){return r.a.createElement("li",{key:e.key},r.a.createElement(Ke.a,{label:e.title,onDelete:xe(a),className:t.chip}))})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(V.a,{component:"fieldset",className:t.formControl},r.a.createElement(Mn.a,{component:"legend"},"Social Media Links"),r.a.createElement(v.a,{display:"flex",style:{marginTop:"10px"}},r.a.createElement(v.a,null,r.a.createElement(V.a,{fullWidth:!0},r.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Social Media"),r.a.createElement(G.a,{variant:"outlined",style:{width:"200px",marginRight:"5px"},native:!0,label:"Registration",inputProps:{name:"registrationMode",id:"registaration mode"},value:U||"",onChange:Se("Social Media")},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Instagram"},"Instagram"),r.a.createElement("option",{value:"Facebook"},"Facebook"),r.a.createElement("option",{value:"Youtube"},"Youtube"),r.a.createElement("option",{value:"Twitter"},"Twitter"),r.a.createElement("option",{value:"Github"},"Github"),r.a.createElement("option",{value:"Website"},"Website")))),r.a.createElement(v.a,null,r.a.createElement(E.a,{onChange:Se("link"),value:$||"",label:"Link",variant:"outlined"})),r.a.createElement(v.a,null,r.a.createElement(ce.a,{onClick:function(){e.setSocialMediaLinks((function(e){return[].concat(Object(H.a)(e),[{title:U,link:$}])})),Z(null),ee(null)}},"Add"))))),r.a.createElement(y.a,null,r.a.createElement(pe.a,{component:"ul",className:t.root},ne.map((function(e,a){return r.a.createElement("li",{key:e.key},r.a.createElement(Ke.a,{label:e.title,onDelete:Oe(a),className:t.chip}))})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(V.a,{fullWidth:!0,required:!0},r.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Registration"),r.a.createElement(G.a,{fullWidth:!0,native:!0,label:"Registration",inputProps:{name:"registrationMode",id:"registaration mode"},value:e.regMode||"",onChange:function(t){e.setRegMode(t.target.value)}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"form"},"Our Platform(Ellipse)"),r.a.createElement("option",{value:"link"},"Other")))),"link"===e.regMode&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"regLink",name:"regLink",label:"Registration Link",fullWidth:!0,value:e.regLink||"",onChange:function(t){e.setRegLink(t.target.value)}})),"form"===e.regMode&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(V.a,{component:"fieldset",className:t.formControl},r.a.createElement(Mn.a,{component:"legend"},"Fields for your Registration Form"),r.a.createElement(Jn.a,{className:t.formgroup},r.a.createElement(Y.a,{control:r.a.createElement(K.a,{disabled:!0,color:"primary",checked:be,onChange:Ee,name:"name"}),label:"Name"}),r.a.createElement(Y.a,{control:r.a.createElement(K.a,{disabled:!0,color:"primary",checked:ve,onChange:Ee,name:"email"}),label:"Email"}),r.a.createElement(Y.a,{control:r.a.createElement(K.a,{color:"primary",checked:ye,onChange:Ee,name:"college"}),label:"College"})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",color:"default",onClick:function(){i(!0)}},"Add More")),r.a.createElement(y.a,null,r.a.createElement(pe.a,{component:"ul",className:t.root},me.map((function(e){return r.a.createElement("li",{key:e.key},r.a.createElement(Ke.a,{label:e.title,onDelete:(a=e,function(){"College"===a.title?(he(Object(u.a)(Object(u.a)({},fe),{},{college:!1})),ue((function(e){return e.filter((function(e){return e.title!==a.title}))}))):"Name"!==a.title&&"Email"!==a.title&&(he(Object(u.a)(Object(u.a)({},fe),{},Object(C.a)({},a.title.toLowercase,!1))),ue((function(e){return e.filter((function(e){return e.title!==a.title}))})))}),className:t.chip}));var a})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(V.a,{component:"fieldset",className:t.formControl},r.a.createElement(Mn.a,{component:"legend"},"Rounds(Optional)"))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"outlined",color:"default",onClick:function(){g(!0)}},"Add Rounds")),r.a.createElement(y.a,null,r.a.createElement(pe.a,{component:"ul",className:t.root},e.rounds.map((function(a){return r.a.createElement("li",{key:a.key},r.a.createElement(Ke.a,{label:a.title,onDelete:(n=a,function(){var t=e.rounds.filter((function(e){return e.title!==n.title})),a=[];t.forEach((function(e,t){a.push({title:"Round ".concat(t+1),description:e.description,start_date:e.start_date,end_date:e.end_date,link:e.link,fields:e.fields})})),e.setRounds(a)}),className:t.chip}));var n}))))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(O.a,null,"By posting the event.I accept the",r.a.createElement(f.a,{color:"primary",onClick:function(){x(!0)}},"Terms and Conditions")))),r.a.createElement("div",{className:t.buttons},r.a.createElement(f.a,{onClick:function(){e.setFields(me),e.handleBack()},className:t.button},"Back"),r.a.createElement(f.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"Post"))),r.a.createElement(Xn,{open:j,setOpen:x}))}var tr=a(211),ar=a.n(tr),nr=Object(S.a)((function(e){return{root:{},hidden:{display:"none"}}}));var rr=function(e){var t=nr();return r.a.createElement("div",{className:!1===e.showSuccessPanel&&t.hidden},r.a.createElement(ar.a,{fontSize:"large"}),"eventSuccess"===e.type&&r.a.createElement("div",{className:t.root},r.a.createElement(O.a,{variant:"h5"},"Your Event was added successfully"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(O.a,null,"Visit your posted events in Profile page")),r.a.createElement("li",null,r.a.createElement(O.a,null,"Post announcements in dashboard, chat with users, add Moderators and see registered participants data")," "))),"registrationSuccess"===e.type&&r.a.createElement("div",{className:t.root},r.a.createElement(O.a,null,"Thanks for registering to the event"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(O.a,null,"Stay tuned with announcements and notifications")),r.a.createElement("li",null,r.a.createElement(O.a,null,"Form Teams in Participation tab")," "),r.a.createElement("li",null,r.a.createElement(O.a,null,"Send your queries in event chat")," ")),r.a.createElement(f.a,{variant:"outlined",onClick:e.handleHomeScreenButton},"Home Screen"),r.a.createElement(f.a,{variant:"outlined",style:{marginLeft:"5px"},onClick:e.handleEventScreenButton},"Event Screen")))};function lr(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function ir(){return r.a.createElement(O.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(b.a,{color:"inherit",href:"https://ellipseapp.com/"},"ellipseapp.com")," ",(new Date).getFullYear(),".")}var or=Object(S.a)((function(e){var t;return{appBar:{position:"relative"},layout:Object(C.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:(t={marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(2)},Object(C.a)(t,e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(3),marginBottom:e.spacing(1),padding:e.spacing(3)}),Object(C.a)(t,"backgroundColor",e.palette.secondary.main),t),stepper:{padding:e.spacing(3,8,2),backgroundColor:e.palette.secondary.main},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},closeButton:Object(C.a)({position:"absolute",right:e.spacing(1),top:e.spacing(7)},e.breakpoints.down("md"),{top:e.spacing(12)}),backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},hidden:{display:"none"}}}));function cr(e){var t=e.history,a=or(),n=localStorage.getItem("token"),l=r.a.useContext(We).currentUser,i=r.a.useState(0),o=Object(p.a)(i,2),c=o[0],s=o[1],g=r.a.useState(["About","Event Details","More Details"]),f=Object(p.a)(g,2),E=f[0],b=f[1],v=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),y=Object(p.a)(v,2),j=y[0],x=y[1],C=r.a.useState(!1),S=Object(p.a)(C,2),_=S[0],k=S[1],w=j.vertical,N=j.horizontal,z=j.open,I=j.message,B=j.type,A=j.autoHide,P=r.a.useState(null),R=Object(p.a)(P,2),W=R[0],M=R[1],F=r.a.useState(null),q=Object(p.a)(F,2),H=q[0],L=q[1],G=r.a.useState(null),U=Object(p.a)(G,2),J=U[0],V=U[1],Y=r.a.useState(null),K=Object(p.a)(Y,2),Z=K[0],Q=K[1],X=r.a.useState(null),$=Object(p.a)(X,2),ee=$[0],te=$[1],ae=r.a.useState(null),ne=Object(p.a)(ae,2),re=ne[0],le=ne[1],ie=r.a.useState(null),oe=Object(p.a)(ie,2),se=oe[0],me=oe[1],ue=r.a.useState(null),ge=Object(p.a)(ue,2),fe=ge[0],he=ge[1],Ee=r.a.useState("Free"),be=Object(p.a)(Ee,2),ve=be[0],ye=be[1],je=r.a.useState(null),xe=Object(p.a)(je,2),Oe=xe[0],Ce=xe[1],Se=r.a.useState(null),_e=Object(p.a)(Se,2),ke=_e[0],we=_e[1],Te=r.a.useState(null),Ne=Object(p.a)(Te,2),De=Ne[0],ze=Ne[1],Ie=r.a.useState([]),Be=Object(p.a)(Ie,2),Ae=Be[0],Pe=Be[1],Re=r.a.useState([]),Me=Object(p.a)(Re,2),Fe=Me[0],qe=Me[1],Le=r.a.useState(null),Ge=Object(p.a)(Le,2),Ue=Ge[0],Je=Ge[1],Ve=r.a.useState(null),Ye=Object(p.a)(Ve,2),Ke=Ye[0],Ze=Ye[1],Qe=r.a.useState(null),Xe=Object(p.a)(Qe,2),$e=Xe[0],et=Xe[1],tt=r.a.useState(l.college_name),at=Object(p.a)(tt,2),nt=at[0],rt=at[1],lt=r.a.useState(l.college_id),it=Object(p.a)(lt,2),ot=it[0],ct=it[1],st=r.a.useState(null),mt=Object(p.a)(st,2),ut=mt[0],dt=mt[1],pt=r.a.useState(l.name+","+l.college_name),gt=Object(p.a)(pt,2),ft=gt[0],ht=gt[1],Et=r.a.useState(null),bt=Object(p.a)(Et,2),vt=bt[0],yt=bt[1],jt=r.a.useState("open"),xt=Object(p.a)(jt,2),Ot=xt[0],Ct=xt[1],St=r.a.useState([]),_t=Object(p.a)(St,2),kt=_t[0],wt=_t[1],Tt=r.a.useState(""),Nt=Object(p.a)(Tt,2),Dt=Nt[0],zt=Nt[1],It=r.a.useState(null),Bt=Object(p.a)(It,2),At=Bt[0],Pt=Bt[1],Rt=r.a.useState(!1),Wt=Object(p.a)(Rt,2),Mt=Wt[0],Ft=Wt[1],qt=r.a.useState(1),Ht=Object(p.a)(qt,2),Lt=Ht[0],Gt=Ht[1],Ut=r.a.useState(1),Jt=Object(p.a)(Ut,2),Vt=Jt[0],Yt=Jt[1],Kt=r.a.useState([]),Zt=Object(p.a)(Kt,2),Qt=Zt[0],Xt=Zt[1],$t=r.a.useState(null),ea=Object(p.a)($t,2),ta=ea[0],aa=ea[1],na=r.a.useState([]),ra=Object(p.a)(na,2),la=ra[0],ia=ra[1],oa=r.a.useState(null),ca=Object(p.a)(oa,2),sa=ca[0],ma=ca[1],ua=r.a.useState([]),da=Object(p.a)(ua,2),pa=da[0],ga=da[1],fa=r.a.useState(!1),ha=Object(p.a)(fa,2),Ea=ha[0],ba=ha[1];var va=function(e){var t=!1;"open"===Ot&&(t=!0),k(!0);try{var a=new FormData,r={user_id:l.user_id,name:W,description:H,start_time:ee,finish_time:re,registration_end_time:se,event_mode:J,event_type:fe,tags:Ae,reg_link:ke,fee:De,about:Z,fee_type:ve,requirements:Fe,college_name:nt,college_id:ot,venue_type:$e,venue:ut,reg_fields:e,reg_mode:Oe,o_allowed:t,platform_details:Dt,isTeamed:Mt,team_size:{min_team_size:Lt,max_team_size:Vt},rounds:Qt,rules:ta,prizes:la,themes:sa,socialMediaLinks:pa};a=JSON.stringify(r),fetch("https://ellipseapp.com/api/events",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(e){200===e.status?e.json().then((function(e){var t=new FormData;t.append("image",Ue),fetch("https://ellipseapp.com"+"/api/event/uploadimage?id=".concat(e.eventId),{headers:{Authorization:"Bearer ".concat(n)},method:"POST",body:t}).then((function(e){200===e.status?e.json().then((function(e){k(!1),ba(!0),x({open:!0,vertical:"top",horizontal:"center",message:"Event added successfully.Manage your posted events from your profile page",type:"success",autoHide:"4000"})})):(k(!1),ba(!0),x({open:!0,vertical:"top",horizontal:"center",message:"Poster upload is not successfull try again in edit event in your events",type:"error",autoHide:"3000"}))}))})):e.json().then((function(e){k(!1),x({open:!0,vertical:"top",horizontal:"center",message:"Something went wrong try again",type:"errors",autoHide:"4000"})}))}))}catch(i){k(!1),x({open:!0,vertical:"top",horizontal:"center",message:i.message,type:"error",autoHide:"5000"})}};function ya(e){wt(e)}var ja=function(){s(c+1)},xa=function(){s(c-1)};var Oa=function(){var e=Object(d.a)(m.a.mark((function e(a,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Event added successfully.Manage your posted events from your profile page"===I&&t.replace("/home"),x(Object(u.a)(Object(u.a)({},j),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:w,horizontal:N},open:z,autoHideDuration:A,onClose:Oa,key:w+N},r.a.createElement(lr,{onClose:Oa,severity:B},I)),r.a.createElement(de.a,{open:_,className:a.backdrop},r.a.createElement(D.a,null)),r.a.createElement("main",{className:a.layout},r.a.createElement(ce.a,{"aria-label":"close",className:a.closeButton,onClick:function(){t.goBack()}},r.a.createElement(He.a,{fontSize:"large"})),r.a.createElement(pe.a,{className:a.paper},r.a.createElement(rr,{type:"eventSuccess",showSuccessPanel:Ea}),r.a.createElement("div",{className:Ea&&a.hidden},r.a.createElement(O.a,{component:"h1",variant:"h4",align:"center"},"Post your Event"),r.a.createElement(An.a,{activeStep:c,className:a.stepper},E.map((function(e){return r.a.createElement(Pn.a,{key:e},r.a.createElement(Rn.a,null,e))}))),r.a.createElement(r.a.Fragment,null,c===E.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{variant:"h5",gutterBottom:!0},"Thank you.")):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(Ln,{name:W,desc:H,startDate:ee,endDate:re,regEndDate:se,eventMode:J,eventType:fe,about:Z,feeType:ve,registrationMode:Oe,setName:M,setDesc:L,setStartDate:te,setEndDate:le,setRegEndDate:me,setEventMode:V,setEventType:he,setRegistrationMode:Ce,setAbout:Q,handleNext:ja,setFeeType:ye,poster:Ue,imageName:At,setImageName:Pt,setPoster:Je,imageUrl:Ke,setImageUrl:Ze,regFees:De,setFees:ze,steps:E,setSteps:b});case 1:return r.a.createElement(Un,{handleBack:xa,handleEventPost:va,eventMode:J,feeType:ve,eventThemes:Ae,eventPoster:Ue,regLink:ke,regFees:De,about:Z,requirements:Fe,college:nt,building:ut,organizer:ft,registrationMode:Oe,venueCollege:vt,participantsType:Ot,platformDetails:Dt,poster:Ue,isTeam:Mt,minTeamSize:Lt,maxTeamSize:Vt,setIsTeam:Ft,setMinTeamSize:Gt,setMaxTeamSize:Yt,imageName:At,setImageName:Pt,setPlatformDetails:zt,setThemes:Pe,setPoster:Je,setRegLink:we,setFees:ze,setRequirements:qe,setOrganizer:ht,setAddressType:et,setCollegeName:rt,setCollegeId:ct,setBuilding:dt,setVenueCollege:yt,setAbout:Q,setParticipantsType:Ct,handleNext:ja});case 2:return r.a.createElement(er,{handleBack:xa,fields:kt,setFields:ya,rounds:Qt,setRounds:Xt,rules:ta,setRules:aa,prizes:la,setPrizes:ia,themes:sa,setThemes:ma,regMode:Oe,setRegMode:Ce,setRegLink:we,regLink:ke,socialMediaLinks:pa,setSocialMediaLinks:ga,handlePost:va});default:throw new Error("Unknown step")}}(c))))),r.a.createElement(ir,null)))}var sr=a(358),mr=a.n(sr),ur=Object(S.a)((function(e){return{root:{position:"fixed",width:"75%",height:"100vh",backgroundColor:e.palette.primary.light},large:{width:e.spacing(7),height:e.spacing(7)},inline:{whiteSpace:"pre-line"},date:{display:"flex",justifyContent:"flex-end"},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},root5:{marginLeft:e.spacing(0),maxWidth:"65%"},message:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)},avatar:{backgroundColor:e.palette.primary.main},avatarLetterStyle:{fontFamily:"Gugi",fontWeight:"bold",fontSize:"1.3em",marginTop:e.spacing(.5)}}}));var dr=function(e){var t=ur(),a=e.message,n=new Date(a.date);return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{display:"flex"},r.a.createElement(v.a,{flexGrow:1,paddingTop:1},r.a.createElement(et.a,null)),r.a.createElement(O.a,{variant:"body2"},e.currentDate.toDateString()===e.messageDate.toDateString()?"Today":e.messageDate.toDateString()),r.a.createElement(v.a,{flexGrow:1,paddingTop:1},r.a.createElement(et.a,null))),r.a.createElement(v.a,{m:1,p:1,key:e.index+1,className:t.root3},r.a.createElement(v.a,{className:t.root5},r.a.createElement(g.a,{className:t.avatar,color:"primary",alt:"EllipseBot"},r.a.createElement(O.a,{className:t.avatarLetterStyle},"E"))),r.a.createElement(v.a,{className:t.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:t.message},r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"body1"},"EllipseBot  ")),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(O.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+n.toLocaleTimeString([],{timeStyle:"short"}))))),r.a.createElement(v.a,null,r.a.createElement(O.a,{component:"span",variant:"body2",color:"textSecondary",className:t.inline},r.a.createElement(Ft.a,{componentDecorator:function(e,t,a){return r.a.createElement("a",{target:"blank",style:{color:"red",fontWeight:"bold"},href:e,key:a},t)}},a.message))),r.a.createElement(f.a,{onClick:e.handleViewClick,color:"primary"},"View Team"))))},pr=Object(S.a)((function(e){return{root:{position:"fixed",width:"75%",height:"100vh",backgroundColor:e.palette.primary.light},large:{width:e.spacing(7),height:e.spacing(7)},inline:{whiteSpace:"pre-line"},date:{display:"flex",justifyContent:"flex-end"},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},root5:{marginLeft:e.spacing(0),maxWidth:"65%"},message:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)},avatar:{backgroundColor:e.palette.primary.main},avatarLetterStyle:{fontFamily:"Gugi",fontWeight:"bold",fontSize:"1.3em",marginTop:e.spacing(.5)}}}));var gr=function(e){var t=pr(),a=e.message,n=new Date(a.date);return r.a.createElement(v.a,{m:1,p:1,key:e.index+1,className:t.root3},r.a.createElement(v.a,{className:t.root5},r.a.createElement(g.a,{className:t.avatar,color:"primary",alt:"EllipseBot"},r.a.createElement(O.a,{className:t.avatarLetterStyle},"E"))),r.a.createElement(v.a,{className:t.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:t.message},r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"body1"},"EllipseBot  ")),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(O.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+n.toLocaleTimeString([],{timeStyle:"short"}))))),r.a.createElement(v.a,{whiteSpace:"normal"},r.a.createElement(O.a,{component:"span",variant:"body2",color:"textSecondary",className:t.inline},r.a.createElement(Ft.a,{componentDecorator:function(e,t,a){return r.a.createElement("a",{target:"blank",style:{color:"red",fontWeight:"bold"},href:e,key:a},t)}},a.message))),r.a.createElement(f.a,{onClick:e.handleViewClick,color:"primary"},"View Team")))},fr=Object(S.a)((function(e){return{root:{position:"fixed",width:"75%",height:"100vh",backgroundColor:e.palette.primary.light},large:{width:e.spacing(7),height:e.spacing(7)},inline:{whiteSpace:"pre-line"},date:{display:"flex",justifyContent:"flex-end"},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},root5:{marginLeft:e.spacing(0),maxWidth:"65%"},message:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)}}}));var hr=function(e){var t=fr(),a=e.message,n=new Date(a.date),l=r.a.useContext(We).currentUser;return r.a.createElement(r.a.Fragment,null,e.divider&&r.a.createElement(et.a,null),e.divider&&r.a.createElement(v.a,{m:1,p:1,key:e.index,position:"sticky",className:t.root6},r.a.createElement(O.a,{variant:"body2"},e.currentDate.toDateString()===e.messageDate.toDateString()?"Today":e.messageDate.toDateString())),r.a.createElement(v.a,{m:1,p:1,key:e.index+1,className:t.root3},r.a.createElement(v.a,{className:t.root5},r.a.createElement(g.a,{alt:a.userName,src:a.user_pic&&"https://ellipseapp.com"+"/api/image?id=".concat(a.user_pic)})),r.a.createElement(v.a,{className:t.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:t.message},r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"body1"},a.user_name+"   ")),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(O.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+n.toLocaleTimeString([],{timeStyle:"short"})))),r.a.createElement(v.a,null,l.user_id===a.user_id&&r.a.createElement(ce.a,{onClick:e.handleMessageDeleteButton(a),style:{padding:"0px",margin:"0px"}},r.a.createElement(Ht.a,{style:{color:"#aaaaaa"}})))),r.a.createElement(v.a,null,r.a.createElement(O.a,{component:"span",variant:"body2",color:"textSecondary",className:t.inline},r.a.createElement(Ft.a,{componentDecorator:function(e,t,a){return r.a.createElement("a",{target:"blank",style:{color:"red",fontWeight:"bold"},href:e,key:a},t)}},a.message))),r.a.createElement(v.a,{m:1,p:1,key:e.index+1,className:t.root3},r.a.createElement(v.a,{className:t.root5},r.a.createElement(g.a,{variant:"square",alt:e.repliedMessage[0].userName,src:e.repliedMessage[0].user_pic&&"https://ellipseapp.com"+"/api/image?id=".concat(e.repliedMessage[0].user_pic)})),r.a.createElement(v.a,{className:t.root2,whiteSpace:"normal"},r.a.createElement(v.a,{style:{display:"flex",justifyContent:"flex-start"}},r.a.createElement(v.a,{flexGrow:1,className:t.message},r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"body1"},e.repliedMessage[0].user_name+"   ")),r.a.createElement(v.a,{style:{marginLeft:"7px"}},r.a.createElement(O.a,{component:"span",variant:"body2",style:{fontSize:"0.9em"},color:"textSecondary"},"   "+n.toLocaleTimeString([],{timeStyle:"short"}))))),r.a.createElement(v.a,null,r.a.createElement(O.a,{component:"span",variant:"body2",color:"textSecondary",className:t.inline},r.a.createElement(Ft.a,{componentDecorator:function(e,t,a){return r.a.createElement("a",{target:"blank",style:{color:"red",fontWeight:"bold"},href:e,key:a},t)}},e.repliedMessage[0].message))))))))};function Er(e){var t=r.a.useState(null),a=Object(p.a)(t,2),n=a[0],l=a[1],i=function(){e.setOpen(!1)};return r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(R.a,{id:"alert-dialog-title"},"Reply Message"),r.a.createElement(P.a,null,r.a.createElement(E.a,{name:"reply",value:n,onChange:function(e){l(e.target.value)}})),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:i,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){e.handleReplyConfirmation(n)},color:"primary",autoFocus:!0},"send"))))}var br=Object(S.a)((function(e){return{bottomBar:{padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)}}}));function vr(e){var t=br(),a=r.a.useState(!0),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState(null),c=Object(p.a)(o,2),s=c[0],m=c[1];return r.a.createElement(v.a,{className:t.bottomBar,display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(E.a,{disabled:e.loading,fullWidth:!0,placeholder:"Type your message",multiline:!0,onChange:function(e){m(e.target.value),i(!1),""===e.target.value&&i(!0)},value:s||"",rowsMax:"3",onKeyUp:function(t){s.length>1&&(13!==t.keyCode||t.shiftKey||(t.preventDefault(),e.handleSend(s),i(!0),m("")))}}),r.a.createElement(ce.a,{onClick:function(t){e.handleSend(s),i(!0),m("")},disabled:l,className:t.sendIcon},r.a.createElement(It.a,null)))}var yr=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},topBar:{height:"100%"},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},message:{display:"flex",justifyContent:"flex-start"},message2:{display:"none"},message3:{display:"flex",justifyContent:"flex-end"},inline:{whiteSpace:"pre-line"},textField:Object(C.a)({textAlign:"center",position:"fixed",width:"75%",bottom:0},e.breakpoints.down("sm"),{width:"100%"}),header:Object(C.a)({position:"sticky",top:64,backgroundColor:e.palette.secondary.main,padding:e.spacing(2),zIndex:8},e.breakpoints.down("sm"),{top:104})}}));var jr=Object(c.g)((function(e){e.children;var t=e.value,a=(e.url,e.index),n=Object(Ve.a)(e,["children","value","url","index"]),l=r.a.useContext(We).currentUser,i=e.user,o=localStorage.getItem("token"),c=e.event,s=e.event,m=r.a.useState(!1),u=Object(p.a)(m,2),d=u[0],g=u[1],f=r.a.useState(!1),h=Object(p.a)(f,2),E=h[0],b=h[1],y=r.a.useState(!1),j=Object(p.a)(y,2),x=j[0],C=j[1],S=r.a.useState({}),_=Object(p.a)(S,2),k=_[0],w=_[1],T=r.a.useState({}),N=Object(p.a)(T,2),z=N[0],I=N[1],B=r.a.useState(null),A=Object(p.a)(B,2),P=A[0],R=A[1],W=r.a.useState([]),M=Object(p.a)(W,2),F=M[0],q=M[1],L=yr(),G=null,U=r.a.useContext(Pt).webSocketContext,J=r.a.useContext(Rt).eventChatMessages,V=r.a.useContext(Rt).setEventChatMessages,Y=r.a.useContext(Rt).teamChatMessages,K=r.a.useContext(Rt).setTeamChatMessages,Z=r.a.useContext(Rt),Q=Z.deletedTeamChatMessages,X=Z.setDeletedTeamChatMessages,$=r.a.useContext(Rt),ee=$.deletedEventChatMessages,te=$.setDeletedEventChatMessages;r.a.useEffect((function(){}),[]);var ae=function(){U&&("event"===e.chatType?U.send(JSON.stringify({action:"close_event_socket",event_id:c._id,msg:{user_id:l.user_id}})):U.send(JSON.stringify({action:"close_team_socket",team_id:c._id,msg:{user_id:l.user_id}})))};window.onbeforeunload=function(){ae()},r.a.useEffect((function(){return U&&("event"===e.chatType?U.send(JSON.stringify({action:"join_event_room",event_id:c._id,msg:{user_id:l.user_id}})):U.send(JSON.stringify({action:"join_team_room",team_id:c._id,msg:{user_id:l.user_id}}))),function(){ae()}}),[U,l,c,e]),r.a.useEffect((function(){"event"===e.chatType?J.forEach((function(e){var t=e.msg;e.event_id===c._id&&(q((function(e){return[].concat(Object(H.a)(e),[t])})),V(J.filter((function(t){return t!==e}))))})):Y.forEach((function(e){var t=e.msg;e.team_id===c._id&&(q((function(e){return[].concat(Object(H.a)(e),[t])})),K(Y.filter((function(t){return t!==e}))))}))}),[J,c,Y]),r.a.useEffect((function(){"event"===e.chatType?ee.forEach((function(e){var t=e.msg;e.event_id===c._id&&(q(F.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t)}))),te(J.filter((function(t){return t!==e}))))})):Q.forEach((function(e){var t=e.msg;e.team_id===c._id&&(q(F.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t)}))),X(Y.filter((function(t){return t!==e}))))}))}),[ee,Q]),r.a.useEffect((function(){return g(!0),"event"===e.chatType?fetch("https://ellipseapp.com"+"/api/chat/load_messages?id=".concat(c._id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){q(e),g(!1)}))})):fetch("https://ellipseapp.com"+"/api/chat/load_team_chat_messages?id=".concat(c._id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){q(e),g(!1)}))})),null!=P&&P.scrollIntoView({behavior:"smooth"}),function(){q([]),Object(Ye.a)()}}),[c._id,o]),r.a.useEffect((function(){null!=P&&P.scrollIntoView({behavior:"smooth"})}),[d]),r.a.useEffect((function(){return null!=P&&P.scrollIntoView({behavior:"smooth"}),function(){Object(Ye.a)()}}),[F,P]);var ne=function(e){return function(){w(e),b(!0)}},re=function(e){return function(){I(e),C(!0)}},le=function(t){return function(){e.history.push("/event/".concat(t))}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==a},n),t===a&&r.a.createElement("div",null,r.a.createElement("div",{className:L.header},r.a.createElement(v.a,{display:"flex"},r.a.createElement(v.a,null,e.mobile&&r.a.createElement(ce.a,{style:{marginTop:"0px",padding:"0px"},onClick:function(){e.setSelectedChat(null),e.openDialog(!1)}},r.a.createElement(mr.a,null))),r.a.createElement(v.a,{flexGrow:1},r.a.createElement(O.a,null,"event"===e.chatType?c.name:s.team_name)),r.a.createElement(v.a,null,r.a.createElement(ce.a,{style:{marginTop:"0px",padding:"0px"},onClick:le("event"===e.chatType?c._id:s.event_id)},r.a.createElement(cn.a,null))))),r.a.createElement("div",{className:L.progress},r.a.createElement(Wt.a,{in:d,unmountOnExit:!0},r.a.createElement(D.a,null))),r.a.createElement(v.a,{className:L.topBar},F.map((function(t,a){var n=new Date,l=new Date(t.date);if(l.toDateString()!==G){if(G=l.toDateString(),"team_status_update_message"===t.message_type)return r.a.createElement(dr,{handleViewClick:le("event"===e.chatType?c._id:s.event_id),message:t,currentDate:n,handleReplyButton:re,handleMessageDeleteButton:ne,messageDate:l,index:a});if("reply_text_message"===t.message_type){var i=F.filter((function(e){return e.id===t.replied_to}));return r.a.createElement(hr,{divider:!0,repliedMessage:i,message:t,currentDate:n,handleReplyButton:re,handleMessageDeleteButton:ne,messageDate:l,index:a})}return r.a.createElement(Gt,{adminId:"event"===e.chatType?c.user_id:"",message:t,handleReplyButton:re,handleMessageDeleteButton:ne,currentDate:n,messageDate:l,index:a})}if("team_status_update_message"===t.message_type)return r.a.createElement(gr,{handleViewClick:le("event"===e.chatType?c._id:s.event_id),message:t,currentDate:n,handleReplyButton:re,handleMessageDeleteButton:ne,messageDate:l,index:a});if("reply_text_message"===t.message_type){var o=F.filter((function(e){return e.id===t.replied_to}));return r.a.createElement(hr,{divider:!1,repliedMessage:o,message:t,currentDate:n,handleReplyButton:re,handleMessageDeleteButton:ne,messageDate:l,index:a})}return r.a.createElement(Jt,{message:t,adminId:"event"===e.chatType?c.user_id:"",currentDate:n,handleReplyButton:re,handleMessageDeleteButton:ne,messageDate:l,index:a})})),r.a.createElement("div",{style:{float:"left",clear:"both",paddingBottom:"60px"},ref:function(e){R(e)}})),r.a.createElement("div",{className:L.textField},r.a.createElement(vr,{loading:d,open:void 0,handleSend:function(t){var a=new Date;"event"===e.chatType?U.send(JSON.stringify({action:"send_event_message",event_id:c._id,msg:{id:i.user_id+Date.now(),user_id:i.user_id,user_name:i.name,user_pic:i.profile_pic,message_type:"normal_text_message",message:t,date:a.toISOString()}})):U.send(JSON.stringify({action:"send_team_message",team_id:c._id,msg:{id:i.user_id+Date.now(),user_id:i.user_id,user_name:i.name,user_pic:i.profile_pic,message_type:"normal_text_message",message:t,date:a.toISOString()}})),null!=P&&P.scrollIntoView({behavior:"smooth"})}})),r.a.createElement(Vt,{open:E,message:k,setOpen:b,handleDeleteConfirmation:function(t){return function(){"event"===e.chatType?(U.send(JSON.stringify({action:"delete_event_chat_message",event_id:c._id,msg:t})),q(F.filter((function(e){return e!==t})))):(U.send(JSON.stringify({action:"delete_team_chat_message",team_id:c._id,msg:t})),q(F.filter((function(e){return e!==t})))),b(!1)}}}),r.a.createElement(Er,{open:x,message:z,setOpen:C,handleReplyConfirmation:function(e){var t=new Date;U.send(JSON.stringify({action:"send_event_message",event_id:c._id,msg:{id:i.user_id+Date.now(),user_id:i.user_id,user_name:i.name,user_pic:i.profile_pic,message_type:"reply_text_message",message:e,replied_to:z.id,date:t.toISOString()}})),w(""),C(!1)}})))})),xr=a(270),Or=a.n(xr),Cr=Object(S.a)((function(e){return{root:Object(C.a)({position:"fixed",width:"25%",height:"93%",backgroundColor:e.palette.secondary.main},e.breakpoints.down("sm"),{width:"100%",height:"86%"}),subRoot:{position:"relative",overflow:"auto",maxHeight:"100%",width:"100%"},divider:{backgroundColor:e.palette.primary.main}}})),Sr=function(e){var t=localStorage.getItem("token"),a=Object(W.a)(),n=Cr(),l=r.a.useState([]),i=Object(p.a)(l,2),o=i[0],c=i[1],s=r.a.useState([0]),m=Object(p.a)(s,2),u=m[0],d=m[1],f=r.a.useState(0),h=Object(p.a)(f,2),E=h[0],b=h[1],y=r.a.useContext(We).currentUser,j=r.a.useContext($t).allEvents.filter((function(e){return!0===e.registered||e.user_id===y.user_id}));r.a.useEffect((function(){fetch("https://ellipseapp.com/api/user/get_all_teams",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){c(e)})):401===e.status&&localStorage.removeItem("token")}))}),[t]);var x=function(t,n){return function(){var r=u.indexOf(t),l=[];-1===r?l.push(t):l.splice(r,1),e.setChatType("event"),e.setChatId(t),e.setAdminId(n),a.breakpoints.width("md")>=window.innerWidth&&e.openDialog(!0),d(l)}},C=function(t,n){return function(){var r=u.indexOf(t),l=[];-1===r?l.push(t):l.splice(r,1),e.setChatType("team"),e.setChatId(t),e.setAdminId(n),d(l),a.breakpoints.width("md")>=window.innerWidth&&e.openDialog(!0)}},S=function(e){return function(){b(e)}};return r.a.createElement("div",null,r.a.createElement("div",{className:n.root},r.a.createElement(pe.a,{className:n.root},r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(v.a,{paddingRight:1,paddingLeft:1},r.a.createElement(ce.a,{onClick:S(0)},r.a.createElement(v.a,{style:{width:"100px"}},r.a.createElement(v.a,null,r.a.createElement(Te.a,{color:0===E?"primary":"default"})),r.a.createElement(v.a,null,r.a.createElement(et.a,{className:0===E&&n.divider}))))),r.a.createElement(v.a,{paddingRight:1,paddingLeft:1},r.a.createElement(ce.a,{onClick:S(1)},r.a.createElement(v.a,{style:{width:"100px"}},r.a.createElement(v.a,null,r.a.createElement(Qe.a,{color:1===E?"primary":"default"})),r.a.createElement(v.a,null,r.a.createElement(et.a,{className:1===E&&n.divider})))))),r.a.createElement(fa.a,{className:n.subRoot},0===E&&j.map((function(e){var t="checkbox-list-label-".concat(e._id);return r.a.createElement(r.a.Fragment,null,r.a.createElement(da.a,{key:e._id,role:void 0,dense:!0,button:!0,selected:-1!==u.indexOf(e),onClick:x(e,e.user_id)},r.a.createElement(ba.a,null,r.a.createElement(ga.a,null,r.a.createElement(g.a,{alt:"user avatar n\xb0".concat(e+1),src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)}))),r.a.createElement(pa.a,{id:t,primary:e.name}),r.a.createElement(Or.a,null)))})),0===E&&0===j.length&&r.a.createElement(O.a,null,"No Events Found, Register or host event to join one"),1===E&&o.map((function(e){var t="checkbox-list-label-".concat(e._id);return r.a.createElement(r.a.Fragment,null,r.a.createElement(da.a,{key:e._id,role:void 0,dense:!0,button:!0,selected:-1!==u.indexOf(e),onClick:C(e,e.user_id)},r.a.createElement(ba.a,null,r.a.createElement(ga.a,null,r.a.createElement(g.a,{alt:e.team_name,src:"abc.jpg"}))),r.a.createElement(pa.a,{id:t,primary:e.team_name}),r.a.createElement(Or.a,null)))})),1===E&&0===o.length&&r.a.createElement(O.a,null,"No Teams found")))))},_r=Object(S.a)((function(e){return{mobile:{backgroundColor:e.palette.primary.light}}}));var kr=function(e){e.history;var t=r.a.useContext(We).currentUser,a=_r(),n=r.a.useState(null),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(null),s=Object(p.a)(c,2),m=s[0],u=s[1],d=r.a.useState([0]),g=Object(p.a)(d,2),f=g[0],h=g[1],E=r.a.useState(""),b=Object(p.a)(E,2),v=b[0],j=b[1],x=r.a.useState(!1),O=Object(p.a)(x,2),C=O[0],S=O[1];return r.a.createElement("div",null,r.a.createElement("div",null,!C&&r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:3,lg:3},r.a.createElement(Sr,{mobile:!1,chatType:v,openDialog:S,setChatType:j,checked:f,setChecked:h,setAdminId:u,setChatId:o})),r.a.createElement(y.a,{item:!0,xs:9,sm:12,md:9,lg:9},null!=i&&r.a.createElement(jr,{chatType:v,user:t,adminId:m,event:i}))),C&&r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(pe.a,{className:a.mobile},null!=i&&r.a.createElement(jr,{setSelectedChat:o,mobile:!0,openDialog:S,chatType:v,user:t,adminId:m,event:i}))))))};function wr(e){var t=Object(W.a)(),a=function(){e.setOpen(!1)};return r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,onClose:a,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}}},r.a.createElement(R.a,{id:"title"},"Terms and Conditions"),r.a.createElement(P.a,null,r.a.createElement(Qn.a,{id:"alert-dialog-description"},r.a.createElement("ul",null,r.a.createElement("li",null,"Provided registration data and your profile will be shared with event admin")))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:a,color:"primary",autoFocus:!0},"Dismiss"))))}function Tr(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var Nr=Object(c.g)((function(e){var t=L(),a=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:6e3}),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(!0),s=Object(p.a)(c,2),m=s[0],d=s[1],g=r.a.useState(!1),b=Object(p.a)(g,2),j=b[0],x=b[1],S=r.a.useState(null),_=Object(p.a)(S,2),k=_[0],w=_[1],N=r.a.useState([]),z=Object(p.a)(N,2),I=z[0],B=z[1],A=r.a.useState(!1),P=Object(p.a)(A,2),R=P[0],W=P[1],M=r.a.useState([]),F=Object(p.a)(M,2),q=F[0],G=F[1],J=r.a.useState([]),Q=Object(p.a)(J,2),X=Q[0],$=Q[1],ee=r.a.useState([]),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],re=r.a.useState([]),le=Object(p.a)(re,2),ie=le[0],oe=le[1],se=r.a.useState([]),me=Object(p.a)(se,2),ue=me[0],pe=me[1],ge=r.a.useState([]),fe=Object(p.a)(ge,2),he=fe[0],Ee=fe[1],be=r.a.useState([]),ve=Object(p.a)(be,2),ye=ve[0],je=ve[1],xe=r.a.useState([]),Oe=Object(p.a)(xe,2),Ce=Oe[0],Se=Oe[1],_e=i.vertical,ke=i.horizontal,we=i.open,Te=i.message,Ne=i.type,De=i.autoHide,ze=e.match.params.eventId,Ie=r.a.useState(!0),Be=Object(p.a)(Ie,2),Ae=Be[0],Pe=Be[1],Re=r.a.useState({}),Me=Object(p.a)(Re,2),Fe=Me[0],qe=Me[1],Le=r.a.useState([]),Ge=Object(p.a)(Le,2),Ue=Ge[0],Je=Ge[1],Ve=["VIT University,Vellore","GITAM University","SRM University"],Ye=r.a.useState(!1),Ze=Object(p.a)(Ye,2),Qe=Ze[0],Xe=Ze[1],$e=r.a.useState(!1),et=Object(p.a)($e,2),tt=et[0],at=et[1],nt=r.a.useContext(We).currentUser,rt=r.a.useContext($t).setAllEvents,lt=r.a.useContext(ra).setActiveEvents;function it(){"Registration successful.Stay tunned with notifications and announcements"===Te&&fetch("https://ellipseapp.com/api/events",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){e.sort((function(e,t){return new Date(e.start_time)-new Date(t.start_time)})),rt(e),lt(e.filter((function(e){return new Date<new Date(e.finish_time)&&"pending"!==e.status})))})):401===e.status&&localStorage.removeItem("token")})),o(Object(u.a)(Object(u.a)({},i),{},{open:!1}))}function ot(e){w(Object(u.a)(Object(u.a)({},k),{},Object(C.a)({},e.target.name,e.target.value)))}r.a.useEffect((function(){"Student"===nt.designation||"Faculty"===nt.designation||(d(!1),x(nt.designation+" cannot register")),"pending"===Fe.status&&(d(!1),x("Event is not accepted yet check back later")),nt.user_id===Fe.user_id&&(d(!1),x("An event organizer cannot register")),new Date>new Date(Fe.registration_end_time)&&(d(!1),x("Registration is closed for this event")),void 0!==Fe.o_allowed&&(Fe.o_allowed||Fe.college_name===nt.college_name||(d(!1),x("Only "+Fe.college_name+" can participate")))}),[Fe,nt]),r.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event?id=".concat(ze),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){qe(e.event);var t=e.event.reg_fields;null!=t&&(t.forEach((function(e){"Name"===e.title?w((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(C.a)({},e.title,nt.name))})):"Email"===e.title?w((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(C.a)({},e.title,nt.email))})):"College"===e.title?w((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(C.a)({},e.title,nt.college_name))})):w((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(C.a)({},e.title,null))})),e.field})),G(t.filter((function(e){return"short_text"===e.field}))),Ee(t.filter((function(e){return"paragraph"===e.field}))),ne(t.filter((function(e){return"checkboxes"===e.field}))),oe(t.filter((function(e){return"radiobuttons"===e.field}))),pe(t.filter((function(e){return"date"===e.field}))),$(t.filter((function(e){return"dropdown"===e.field}))),je(t.filter((function(e){return"link"===e.field}))),Se(t.filter((function(e){return"file"===e.field})))),Pe(!1)}))}))}),[a,ze,nt]);var ct=function(e){w(Object(u.a)(Object(u.a)({},k),{},Object(C.a)({},e.target.name,e.target.value)))};function st(e,t){w(Object(u.a)(Object(u.a)({},k),{},Object(C.a)({},e.target.name,t)))}function mt(e){e.target.files[0]&&B(Object(u.a)(Object(u.a)({},I),{},Object(C.a)({},e.target.name,e.target.files[0])))}return r.a.createElement(Z.a,{component:"main",maxWidth:"sm"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:_e,horizontal:ke},open:we,autoHideDuration:De,onClose:it,key:_e+ke},r.a.createElement(Tr,{onClose:it,severity:Ne},Te)),r.a.createElement(de.a,{className:t.backdrop,open:Ae},r.a.createElement(D.a,{color:"inherit"})),r.a.createElement(ce.a,{"aria-label":"close",className:t.closeButton,onClick:function(){e.history.goBack()}},r.a.createElement(He.a,{fontSize:"large"})),r.a.createElement("div",{className:tt?t.paper:t.hidden},r.a.createElement(rr,{type:"registrationSuccess",showSuccessPanel:tt,handleHomeScreenButton:function(){e.history.push("/home")},handleEventScreenButton:function(){e.history.push("/event/".concat(Fe._id))}})),null!=Fe&&r.a.createElement("div",{className:tt?t.hidden:t.paper},r.a.createElement(O.a,{component:"h1",variant:"h5"},"Registration for "+Fe.name),r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault();var t=[],n=Object.keys(k),r=Object.keys(I),l=0;n.forEach((function(e){var t=Fe.reg_fields.filter((function(t){return t.title===e}));null===k[e]&&(e.includes(r)||t[0].req&&(l+=1,o({open:!0,vertical:"top",horizontal:"center",message:"Please fill in all required fields",type:"error",autoHide:4e3})))})),r&&r.forEach((function(e){var t=Fe.reg_fields.filter((function(t){return t.title===e}));null===I[e]&&t[0].req&&(l+=1,o({open:!0,vertical:"top",horizontal:"center",message:"Please fill in all required fields",type:"error",autoHide:4e3}))}));var i=k;if(0===l)try{if(r.length>0)r.forEach((function(e,n){var l=new FormData;l.append("uploaded_file",I[e]),fetch("https://ellipseapp.com"+"/api/event/register/upload_file?id=".concat(ze),{headers:{Authorization:"Bearer ".concat(a)},method:"POST",body:l}).then((function(n){200===n.status&&n.json().then((function(n){if(w(Object(u.a)(Object(u.a)({},k),{},Object(C.a)({},e,n.file_name))),i[e]=n.file_name,t.push(Object(C.a)({},e,n.file_name)),t.length===r.length){var l=new FormData,c={data:i};l=JSON.stringify(c),fetch("https://ellipseapp.com"+"/api/event/register?id=".concat(ze),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:l}).then((function(e){200===e.status?e.json().then((function(e){W(!1),at(!0),o({open:!0,vertical:"top",horizontal:"center",message:"Registration successful.Stay tunned with notifications and announcements",type:"success",autoHide:4e3})})):201===e.status&&e.json().then((function(e){W(!1),at(!0),o({open:!0,vertical:"top",horizontal:"center",message:"Already Registered",type:"error",autoHide:4e3})}))}))}}))}))}));else{var c=new FormData,s={data:i};c=JSON.stringify(s),fetch("https://ellipseapp.com"+"/api/event/register?id=".concat(ze),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:c}).then((function(e){200===e.status?e.json().then((function(e){W(!1),at(!0),o({open:!0,vertical:"top",horizontal:"center",message:"Registration successful.Stay tunned with notifications and announcements",type:"success",autoHide:4e3})})):201===e.status&&e.json().then((function(e){W(!1),at(!0),o({open:!0,vertical:"top",horizontal:"center",message:"Already Registered",type:"error",autoHide:4e3})}))}))}}catch(m){W(!1),o({open:!0,vertical:"top",horizontal:"center",message:m.message,type:"error",autoHide:6e3})}}},r.a.createElement(y.a,{container:!0,spacing:2},q.map((function(e,t){return"College"===e.title?r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(U.a,{fullWidth:!0,id:e.title,options:Ve,getOptionLabel:function(e){return e},onChange:ot,value:k[e.title],disabled:!0,renderInput:function(t){return r.a.createElement(E.a,Object.assign({name:e.title,fullWidth:!0,required:!0},t,{label:e.title}))}}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required"))):"Email"===e.title?r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",name:e.title,disabled:!0,required:!0,fullWidth:!0,id:e.title,onChange:ot,value:k[e.title],label:e.title}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required"))):r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",name:e.title,required:e.req,fullWidth:!0,id:e.title,onChange:ot,value:k[e.title],label:e.title}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")))})),ae.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(V.a,{component:"fieldset",className:t.formControl},r.a.createElement(Mn.a,{component:"legend"},e.title),r.a.createElement(Jn.a,{class:t.formgroup},e.options.map((function(t){return r.a.createElement(Y.a,{control:r.a.createElement(K.a,{color:"primary",onChange:(a=e.title,function(e){if(e.target.checked){Je((function(t){return[].concat(Object(H.a)(t),[Object(C.a)({},a,e.target.name)])}));var t=[];Ue.forEach((function(e,n){e[a]&&t.push(e[a])})),t.push(e.target.name),w(Object(u.a)(Object(u.a)({},k),{},Object(C.a)({},a,t)))}}),name:t}),label:t});var a})))),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")))})),X.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(U.a,{id:e.title,options:e.options.map((function(e){return e})),onChange:(a=e.title,function(e,t){w(Object(u.a)(Object(u.a)({},k),{},Object(C.a)({},a,t)))}),renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ke.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(t){return r.a.createElement(E.a,Object.assign({required:e.req},t,{name:e.name,label:e.title,placeholder:e.name}))}}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")));var a})),ie.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{required:e.req,component:"legend"},e.title),r.a.createElement(Oa.a,{required:e.req,"aria-label":"address",name:e.title,defaultValue:e.options[0],value:k[e.title],onChange:st,style:{display:"inline"}},e.options.map((function(t){return r.a.createElement(Y.a,{required:e.req,value:t,control:r.a.createElement(xa.a,{color:"default"}),label:t})}))),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")))})),ue.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(ya.a,{utils:va.a},r.a.createElement(Wn.a,{fullWidth:!0,required:e.req,variant:"inline",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:e.title,label:e.title,name:e.title,value:k[e.title],onChange:(a=e.title,function(e){w(Object(u.a)(Object(u.a)({},k),{},Object(C.a)({},a,e)))}),KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")));var a})),he.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:e.title,autoComplete:"off",required:e.req,id:e.title,name:e.title,label:e.title,fullWidth:!0,onChange:ct}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")))})),ye.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",name:e.title,required:e.req,fullWidth:!0,id:e.title,onChange:ot,value:k[e.title],label:e.title}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")))})),Ce.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(O.a,null,e.title),r.a.createElement("input",{id:"contained-button-file",name:e.title,required:e.req,type:"file",onChange:mt}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")))})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(O.a,null,"By registering for the event.I accept the ",r.a.createElement(f.a,{onClick:function(){Xe(!0)},color:"primary"},"Terms and Conditions")))),m&&!Ae&&r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:R,className:t.submit},R?r.a.createElement(D.a,{color:"primary",size:24}):"Register"),!m&&r.a.createElement(O.a,null,j))),r.a.createElement(wr,{open:Qe,setOpen:Xe}))})),Dr=Object(S.a)((function(e){var t,a;return{icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)},accordion:{backgroundColor:e.palette.primary.light},rpaper:(t={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.primary.light,margin:e.spacing(1),position:"sticky",height:"86vh"},Object(C.a)(t,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(t,"top",e.spacing(10)),t),subRpaper:{backgroundColor:e.palette.primary.light,position:"relative",overflow:"auto",maxHeight:"89vh"},postButton:(a={borderRadius:e.spacing(50)},Object(C.a)(a,e.breakpoints.down("md"),{display:"none"}),Object(C.a)(a,"backgroundColor",e.palette.primary.main),Object(C.a)(a,"color",e.palette.primary.light),a),fab:Object(C.a)({position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10},e.breakpoints.up("lg"),{display:"none"}),sideList:Object(C.a)({marginTop:e.spacing(3),marginLeft:e.spacing(0),width:"100%",maxWidth:360,backgroundColor:e.palette.secondary.main,position:"relative",overflow:"auto",maxHeight:300,minHeight:300,borderRadius:e.spacing(2)},e.breakpoints.down("md"),{display:"none"}),content:{marginTop:e.spacing(3)}}}));var zr=function(e){localStorage.setItem("tabIndex",2);var t=Dr(),a=r.a.useState(!1),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState([]),c=Object(p.a)(o,2),s=c[0],m=c[1],u=r.a.useContext($t).allEvents,d=r.a.useContext(ra).activeEvents,h=u.filter((function(e){return!0===e.registered})),E=r.a.useState(0),b=Object(p.a)(E,2),v=b[0],j=b[1],x=u.filter((function(e){return new Date>new Date(e.finish_time)})),C=function(e){return function(){m(e)}},S=function(){e.history.push("/post")},_=function(e){return function(){m(e),i(!0)}};return r.a.createElement("div",null,r.a.createElement("div",{className:t.root},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(pe.a,{className:t.root2},r.a.createElement(he.a,{value:v,onChange:function(e,t){j(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(Ee.a,{label:"Registered Events"}),r.a.createElement(Ee.a,{label:"Past Events"}))),r.a.createElement("div",{className:t.content},0===v&&r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===h.length&&r.a.createElement(O.a,{align:"center"},"No Registered Events"),h.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,key:t},r.a.createElement(Wa,{event:e,handleViewClick:C(e),name:e.name}))}))),1===v&&r.a.createElement(y.a,{container:!0,component:"main",alignItems:"center",spacing:1},0===x.length&&r.a.createElement(O.a,{align:"center"},"No Past Events at this time"),x.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,alignItems:"center",key:t},r.a.createElement(Wa,{event:e,handleViewClick:C(e),name:e.name}))}))))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:4,lg:2},r.a.createElement(sa.a,{color:"primary","aria-label":"add",className:t.fab,onClick:S},r.a.createElement(ua.a,null)),r.a.createElement(pe.a,{className:t.rpaper},r.a.createElement(pe.a,{className:t.subRpaper},r.a.createElement(f.a,{onClick:S,variant:"contained",fullWidth:!0,size:"large",className:t.postButton},"Post Event"),r.a.createElement(fa.a,{className:t.sideList},r.a.createElement(O.a,{variant:"body2"},"Explore Events"),d.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(da.a,{onClick:_(e),key:t,button:!0},r.a.createElement(ga.a,null,r.a.createElement(g.a,{variant:"square",alt:e.name,src:"https://ellipseapp.com"+"/api/image?id=".concat(e.poster_url)})),r.a.createElement(pa.a,{primary:e.name})),r.a.createElement(et.a,null))}))))))),r.a.createElement("div",null,r.a.createElement(Xt,{open:l,event:s,handleClose:function(){i(!1)},name:s.name,startTime:s.start_time,endTime:s.finish_time,regEndTime:s.registrationEndTime,type:s.eventType,tags:s.tags,mode:s.eventMode,feeType:s.feesType}))))},Ir=Object(S.a)((function(e){return{progress:{display:"flex",flexDirection:"column",alignItems:"center"}}})),Br=function(e){var t=Ir();return r.a.createElement("div",{className:t.progress},r.a.createElement(Wt.a,{in:e.loading,unmountOnExit:!0},r.a.createElement(D.a,null)))},Ar=Object(S.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1,color:e.palette.primary.dark},body:{margin:e.spacing(3)},appbar:{backgroundColor:e.palette.secondary.main}}}));function Pr(e){var t=localStorage.getItem("token"),a=Ar(),n=e.match.params.eventId,l=r.a.useState({}),i=Object(p.a)(l,2),o=i[0],c=i[1],s=r.a.useState(!1),m=Object(p.a)(s,2),u=m[0],d=m[1],g=r.a.useState(!0),h=Object(p.a)(g,2),E=h[0],b=h[1],v=r.a.useState(!0),y=Object(p.a)(v,2),j=y[0],x=y[1];t&&e.history.replace("/event/".concat(n));var C=function(){d(!1)};return r.a.useEffect((function(){b(!0),fetch("https://ellipseapp.com"+"/api/unregistered/event?id=".concat(n),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){c(e.event),x(!0),b(!1)})):(x(!1),b(!1))}))}),[n]),r.a.createElement("div",{className:a.root},r.a.createElement(ye.a,{position:"sticky",className:a.appbar},r.a.createElement(je.a,null,r.a.createElement(O.a,{variant:"h5",className:a.title},"Ellipse"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){localStorage.setItem("eventid",n),e.history.push("/signin")}},"Login"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){localStorage.setItem("eventid",n),e.history.push("/signup")}},"Signup"))),r.a.createElement(Br,{loading:E}),!E&&j&&r.a.createElement("div",{className:a.body},r.a.createElement(O.a,{align:"center",variant:"h4",style:{paddingBottom:"20px",paddingTop:"10px"}},o.name),r.a.createElement(bt,{notRegistered:!0,event:o}),r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){localStorage.setItem("eventid",n),e.history.push("/signin")}},"Register")),!E&&!j&&r.a.createElement("div",{className:a.body},r.a.createElement(O.a,null,"Not Found")),r.a.createElement(B.a,{open:u,maxWidth:"md",onClose:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(P.a,null,r.a.createElement(Qn.a,{id:"alert-dialog-description"},"Login to Register for the Event/Contest")),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:C,color:"primary",autoFocus:!0},"Dismiss"))))}var Rr=a(359),Wr=a(360),Mr=a(374),Fr=a(373);var qr=a(212),Hr=a.n(qr),Lr=Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:e.palette.primary.dark},body:{margin:e.spacing(3)},appbar:{backgroundColor:e.palette.secondary.main},root2:{display:"flex","& > *":{margin:e.spacing(1),width:e.spacing(50),height:e.spacing(50)}},root3:{display:"flex",justifyContent:"center"},root4:{backgroundColor:e.palette.secondary.main}}}));function Gr(e){var t=Lr(),a=e.match.params.id,n=r.a.useState({}),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(!0),s=Object(p.a)(c,2),m=s[0],u=s[1],d=r.a.useState(null),g=Object(p.a)(d,2),h=g[0],E=g[1];return r.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event/verify_certificate?id=".concat(a),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){u(!0),o(e);var t=new Date(e.date);E(t.toDateString())})):u(!1)}))}),[a]),r.a.createElement("div",{className:t.root},r.a.createElement(ye.a,{position:"sticky",className:t.appbar},r.a.createElement(je.a,null,r.a.createElement(O.a,{variant:"h5",className:t.title},"Ellipse"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){e.history.push("/")}},"Login"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){e.history.push("/signup")}},"Signup"))),m&&r.a.createElement(v.a,{m:1,p:1,className:t.root3},r.a.createElement(v.a,{m:1,p:3,className:t.root4},r.a.createElement(ar.a,{fontSize:"large"}),r.a.createElement(O.a,{variant:"h4"},i.participantname),r.a.createElement(O.a,null,i.participant_college),r.a.createElement(O.a,{style:{marginTop:"20px"}},"Event Name: ",i.event_name),r.a.createElement(O.a,null,"Organizer: ",i.organizer),r.a.createElement(O.a,null,"Held on ",h),r.a.createElement(O.a,{style:{marginTop:"20px"}},"participation by ",i.participantname," has been confirmed"))),!m&&r.a.createElement(v.a,{m:1,p:1,className:t.root3},r.a.createElement(v.a,{m:1,p:3,className:t.root4},r.a.createElement(Hr.a,{fontSize:"large"}),r.a.createElement(O.a,{variant:"h4"},"Certificate NOT FOUND"))))}var Ur=a(826),Jr=a(271),Vr=a.n(Jr),Yr=a(272),Kr=a.n(Yr),Zr=a(361),Qr=a.n(Zr),Xr=a(362),$r=a.p+"static/media/un5.2f31c04b.svg",el=a.p+"static/media/un6.11989350.svg",tl=a.p+"static/media/un7.07dd0552.svg",al=Object(Xr.autoPlay)(Qr.a),nl=[{label:"Find and register for all your College events from one App",imgPath:$r},{label:"Post events and manage them with ease",imgPath:el},{label:"Feature Rich dashboard for Event Administrators",imgPath:tl},{label:"Create announcements, Live chat with participants and generate event certificates",imgPath:el}],rl=Object(S.a)((function(e){var t;return{root:{maxWidth:"100%",flexGrow:1,padding:e.spacing(0),margin:e.spacing(0),backgroundColor:e.palette.primary.dark,borderRadius:e.spacing(0)},header:(t={display:"flex",alignItems:"center",minHeight:300},Object(C.a)(t,e.breakpoints.down("md"),{minHeight:200}),Object(C.a)(t,"paddingLeft",e.spacing(0)),Object(C.a)(t,"backgroundColor",e.palette.primary.dark),t),img:Object(C.a)({padding:e.spacing(0),maxHeight:550,display:"block",maxWidth:"100%",overflow:"hidden",width:"100%"},e.breakpoints.down("md"),{padding:e.spacing(0)}),paperLeft:Object(C.a)({margin:e.spacing(0),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},e.breakpoints.down("sm"),{}),carouselCaption:Object(C.a)({fontSize:"2.5em"},e.breakpoints.down("sm"),{fontSize:"2.3em"})}}));var ll=function(e){var t=rl(),a=Object(W.a)(),n=r.a.useState(0),l=Object(p.a)(n,2),i=l[0],o=l[1],c=nl.length;return r.a.createElement("div",{className:t.root},r.a.createElement(y.a,{container:!0,component:"main",justify:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(al,{interval:"5000",axis:"rtl"===a.direction?"x-reverse":"x",index:i,onChangeIndex:function(e){o(e)},enableMouseEvents:!0},nl.map((function(e,a){return r.a.createElement("div",{key:e.label},Math.abs(i-a)<=2?r.a.createElement("img",{className:t.img,src:e.imgPath,alt:e.label}):null)})))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(pe.a,{elevation:0,className:t.header},r.a.createElement(O.a,{className:t.carouselCaption,color:"secondary",align:"center"},nl[i].label)),r.a.createElement(v.a,{className:t.paperLeft},r.a.createElement(f.a,{onClick:e.handleSignin,variant:"contained",color:"secondary"},"Get started"),r.a.createElement("a",{rel:"noopener noreferrer",href:"https://play.google.com/store/apps/details?id=com.ellipse.ellipseapp",target:"_blank"},r.a.createElement("img",{className:t.hidden,src:k,alt:"playstore"}),r.a.createElement("br",null))))),r.a.createElement(Ur.a,{steps:c,position:"static",variant:"dots",activeStep:i,nextButton:r.a.createElement(f.a,{size:"small",onClick:function(){o((function(e){return e+1}))},disabled:i===c-1},"Next","rtl"===a.direction?r.a.createElement(Vr.a,null):r.a.createElement(Kr.a,null)),backButton:r.a.createElement(f.a,{size:"small",onClick:function(){o((function(e){return e-1}))},disabled:0===i},"rtl"===a.direction?r.a.createElement(Kr.a,null):r.a.createElement(Vr.a,null),"Back")}))},il=a(718),ol=a(715),cl=a(771),sl=a(378),ml=Object(S.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},morePopup:{zIndex:"5"}}}));var ul=function(e){var t=ml(),a=e.event,n=new Date(a.start_time),l=new Date(a.finish_time),i=new Date(a.registration_end_time),o=r.a.useState(!1),c=Object(p.a)(o,2),s=c[0],m=c[1],u=r.a.useRef(null),d=r.a.useState(!1),g=Object(p.a)(d,2),h=g[0],E=g[1],b=r.a.useState(!1),v=Object(p.a)(b,2),y=v[0],j=v[1],x=function(e){u.current&&u.current.contains(e.target)||m(!1)};function C(e){"Tab"===e.key&&(e.preventDefault(),m(!1))}var S=r.a.useRef(s);function _(){j(!0)}return r.a.useEffect((function(){!0===S.current&&!1===s&&u.current.focus(),S.current=s}),[s]),r.a.createElement(Ia.a,{className:t.root},r.a.createElement(Fa.a,{avatar:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{style:{display:h?"block":"none"},onLoad:function(){return E(!0)},alt:"Event Poster",height:"160",width:"150",src:"https://ellipseapp.com"+"/api/image?id=".concat(a.poster_url)}),!h&&r.a.createElement("div",{style:{height:"160px",width:"150px"}},r.a.createElement(Ga.a,{color:"disabled",style:{height:"160px",width:"150px"}}))),action:r.a.createElement("div",null,r.a.createElement(ce.a,{ref:u,"aria-controls":s?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){m((function(e){return!e}))}},r.a.createElement(Ha.a,null)),r.a.createElement(il.a,{className:t.morePopup,open:s,anchorEl:u.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,a=e.placement;return r.a.createElement(sl.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.a.createElement(pe.a,null,r.a.createElement(cl.a,{onClickAway:x},r.a.createElement(ol.a,{autoFocusItem:s,id:"menu-list-grow",onKeyDown:C},r.a.createElement(xe.a,{onClick:_},"Share")))))}))),title:r.a.createElement(O.a,{variant:"h5",color:"textPrimary",component:"p"},a.name),subheader:r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{style:{textOverflow:"ellipsis",overflow:"hidden",height:"50px"},variant:"body1",color:"textSecondary",component:"p"},a.description),r.a.createElement(Ke.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:a.event_mode}),r.a.createElement(Ke.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:a.fee_type}),r.a.createElement(Ke.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:a.event_type}),r.a.createElement(Ke.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Reg ends on "+i.toDateString()}),r.a.createElement(Ke.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Starts on "+n.toDateString()}),r.a.createElement(Ke.a,{style:{marginRight:"4px",marginTop:"4px"},variant:"outlined",color:"inherit",size:"small",label:"Ends on "+l.toDateString()}))}),r.a.createElement(Je,{event:a,open:y,handleClose:function(){j(!1)}}),r.a.createElement(Ba.a,{disableSpacing:!0},r.a.createElement("div",{className:t.buttonDiv},r.a.createElement(f.a,{size:"small",color:"primary",variant:"outlined",className:t.button,onClick:e.onClick},"See More"),r.a.createElement(f.a,{disabled:!!a.registered,size:"small",color:"primary",variant:"contained",className:t.button,onClick:e.onClick},"Register"))))},dl=Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},body:{margin:e.spacing(0)},appbar:{backgroundColor:e.palette.secondary.main},img:Object(C.a)({padding:e.spacing(10),minHeight:200,display:"block",maxWidth:"100%",overflow:"hidden",width:"100%"},e.breakpoints.down("sm"),{padding:e.spacing(3)}),footer:{backgroundColor:e.palette.secondary.main,marginTop:e.spacing(3)},header:{display:"flex",alignItems:"center",minHeight:200,backgroundColor:e.palette.secondary.main,margin:e.spacing(10),borderRadius:e.spacing(2),boxShadow:"3"},button:{margin:e.spacing(1),borderRadius:e.spacing(3)},title:{fontFamily:"Gugi",color:e.palette.primary.dark,fontWeight:"bold",flexGrow:1}}}));var pl=Object(c.g)((function(e){var t=localStorage.getItem("token"),a=dl(),n=r.a.useState([]),l=Object(p.a)(n,2),i=l[0],o=l[1];if(r.a.useEffect((function(){fetch("https://ellipseapp.com/api/get_events",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){e.sort((function(e,t){return new Date(e.start_time)-new Date(t.start_time)})),o(e.filter((function(e){return new Date<new Date(e.finish_time)&&"pending"!==e.status})))}))}))}),[]),t)return r.a.createElement(c.a,{to:"/home"});var s=function(){e.history.push("/signin")};return r.a.createElement("div",{className:a.root},r.a.createElement(ye.a,{position:"sticky",className:a.appbar},r.a.createElement(je.a,null,r.a.createElement(O.a,{className:a.title,variant:"h5"},"Ellipse"),r.a.createElement(f.a,{className:a.button,variant:"contained",size:"large",color:"primary",onClick:s},"Login"),r.a.createElement(f.a,{className:a.button,variant:"outlined",size:"large",color:"primary",onClick:function(){e.history.push("/signup")}},"Signup"))),r.a.createElement("div",{className:a.body},r.a.createElement(ll,{handleSignin:s})),r.a.createElement(y.a,{style:{minHeight:"100px"},container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:!1,md:3,lg:2,style:{padding:"10px"}}),r.a.createElement(y.a,{item:!0,xs:12,sm:12,md:9,lg:8},i.map((function(e,t){return r.a.createElement(ul,{onClick:s,event:e})})))),r.a.createElement(v.a,{className:a.footer,height:"200px",display:"flex",flexDirection:"column",justifyContent:"center"},r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(O.a,null,"Contact us at ",r.a.createElement(b.a,{href:"mailto:support@ellipseapp.com",variant:"body2"},"support@ellipseapp.com"))),r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(w,null)),r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(b.a,{href:"/Privacy_Policy.pdf",variant:"body2"},"Privacy Policy")),r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement("a",{rel:"noopener noreferrer",href:"https://play.google.com/store/apps/details?id=com.ellipse.ellipseapp",target:"_blank"},r.a.createElement("img",{className:a.hidden,src:k,alt:"playstore"}),r.a.createElement("br",null)))))})),gl=a(828),fl=a(365),hl=a.n(fl),El=a(366),bl=a.n(El),vl=a(367),yl=a.n(vl),jl=a(370),xl=a.n(jl),Ol=a(274),Cl=a.n(Ol),Sl=a(368),_l=a.n(Sl),kl=a(371),wl=a.n(kl),Tl=a(369),Nl=a.n(Tl),Dl=a(217),zl=a.n(Dl),Il=Object(S.a)((function(e){return{root:{display:"flex",alignItems:"flex-start",alignContent:"flex-start",width:"100%"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main},timiline:{},root3:{backgroundColor:e.palette.background.paper,padding:e.spacing(2)},root5:{display:"flex",justifyContent:"flex-end"}}}));function Bl(e){var t=localStorage.getItem("token"),a=Il(),n=(e.children,e.value),l=(e.url,e.index),i=Object(Ve.a)(e,["children","value","url","index"]),o=e.event,c=r.a.useState([]),s=Object(p.a)(c,2),m=s[0],u=s[1];r.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event/get_announcements?id=".concat(o._id),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){u(e)}))}))}),[t,o._id]);var d=function(e){return function(){fetch("https://ellipseapp.com"+"/api/event/delete_announcement?id=".concat(e._id,"&event_id=").concat(o._id),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST"}).then((function(e){e.json().then((function(e){u(e)}))}))}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l},i),n===l&&r.a.createElement("div",null,m.map((function(e,t){var n=new Date(e.time);return r.a.createElement(v.a,{m:1,p:1,key:t,className:a.root3},r.a.createElement(v.a,{className:a.root2,whiteSpace:"normal"},r.a.createElement(O.a,{className:a.title},e.title),r.a.createElement(O.a,{className:a.pos},e.description)),r.a.createElement(v.a,{className:a.root5},r.a.createElement(O.a,{variant:"body2"},n.toDateString()," "+n.toLocaleTimeString())),r.a.createElement(v.a,{className:a.root5},r.a.createElement(f.a,{onClick:d(e)},"Delete")))}))))}var Al=a(803),Pl=a(807),Rl=a(806),Wl=a(802),Ml=a(804),Fl=a(827),ql=a(805),Hl=a(119),Ll=a.n(Hl);function Gl(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function Ul(e){var t=Object(W.a)(),a=localStorage.getItem("token"),n=r.a.useState(null),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(null),s=Object(p.a)(c,2),g=s[0],h=s[1],b=r.a.useState("All"),v=Object(p.a)(b,2),j=v[0],x=v[1],O=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),C=Object(p.a)(O,2),S=C[0],_=C[1],k=r.a.useState(!1),w=Object(p.a)(k,2),N=w[0],z=w[1],I=S.vertical,M=S.horizontal,F=S.open,q=S.message,H=S.type,L=S.autoHide;var G=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(Object(u.a)(Object(u.a)({},S),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:I,horizontal:M},open:F,autoHideDuration:L,onClose:G,key:I+M},r.a.createElement(Gl,{onClose:G,severity:H},q)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Add Announcement"),r.a.createElement(P.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",name:"title",fullWidth:!0,value:i,required:!0,onChange:function(e){o(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"description",label:"Description",name:"description",fullWidth:!0,value:g,required:!0,onChange:function(e){h(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{component:"legend"},"Announcement visibility"),r.a.createElement(Oa.a,{"aria-label":"address",name:"address",value:j,onChange:function(e,t){x(t)},style:{display:"inline"}},r.a.createElement(Y.a,{value:"All",control:r.a.createElement(xa.a,{color:"default"}),label:"All"}),r.a.createElement(Y.a,{value:"Registered Users",control:r.a.createElement(xa.a,{color:"default"}),label:"Registered Users"}))))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){var t=!0;"All"!==j&&(t=!1);try{var n=new FormData,r={event_id:e.id,title:i,description:g,visible_all:t};n=JSON.stringify(r),fetch("https://ellipseapp.com/api/event/add_announcement",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:n}).then((function(e){e.json().then((function(e){z(!1),_({open:!0,vertical:"top",horizontal:"center",message:"Added successfully",type:"success",autoHide:2e3})}))}))}catch(l){z(!1),_({open:!0,vertical:"top",horizontal:"center",message:l.message,type:"error",autoHide:6e3})}e.handleClose()},disabled:N,color:"primary"},N?r.a.createElement(D.a,{color:"primary",size:24}):"Add"))))}function Jl(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function Vl(e){var t=Object(W.a)(),a=localStorage.getItem("token"),n=r.a.useState(null),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(null),s=Object(p.a)(c,2),g=s[0],h=s[1],b=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),v=Object(p.a)(b,2),j=v[0],x=v[1],O=r.a.useState(!1),C=Object(p.a)(O,2),S=C[0],_=C[1],k=j.vertical,w=j.horizontal,N=j.open,z=j.message,I=j.type,M=j.autoHide;var F=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(Object(u.a)(Object(u.a)({},j),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:k,horizontal:w},open:N,autoHideDuration:M,onClose:F,key:k+w},r.a.createElement(Jl,{onClose:F,severity:I},z)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Content for your Email"),r.a.createElement(P.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",name:"title",fullWidth:!0,value:i,required:!0,onChange:function(e){o(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter everything about your event in detail",autoComplete:"off",required:!0,id:"content",name:"content",label:"Content",fullWidth:!0,onChange:function(e){h(e.target.value)},value:g||""})))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){try{var t=new FormData,n={event_id:e.id,title:i,content:g,emails:e.emails};t=JSON.stringify(n),fetch("https://ellipseapp.com/api/event/sendemail",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(e){e.json().then((function(e){_(!1),x({open:!0,vertical:"top",horizontal:"center",message:"Added successfully",type:"success",autoHide:2e3})}))}))}catch(r){_(!1),x({open:!0,vertical:"top",horizontal:"center",message:r.message,type:"error",autoHide:6e3})}e.handleClose()},disabled:S,color:"primary"},S?r.a.createElement(D.a,{color:"primary",size:24}):"Send"))))}var Yl=a(363),Kl=Object(S.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},table:{width:"100%"},paper:{width:"100%",padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.palette.secondary.main},buttonsPaper:{backgroundColor:e.palette.primary.light,padding:e.spacing(3),height:140},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140},button:{margin:e.spacing(1),borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"}}}));function Zl(e){var t=Kl(),a=r.a.useState(0),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState(10),c=Object(p.a)(o,2),s=c[0],m=c[1],u=r.a.useState(!1),d=Object(p.a)(u,2),g=d[0],h=d[1],E=localStorage.getItem("token"),b=r.a.useState([]),v=Object(p.a)(b,2),j=v[0],x=v[1],C=r.a.useState([]),S=Object(p.a)(C,2),_=S[0],k=S[1],w=r.a.useState([]),T=Object(p.a)(w,2),N=T[0],z=T[1],I=r.a.useState(!1),B=Object(p.a)(I,2),A=B[0],P=B[1],R=r.a.useState(!1),W=Object(p.a)(R,2),M=W[0],F=W[1],q=r.a.useState([]),L=Object(p.a)(q,2),G=L[0],U=L[1],J=e.event;r.a.useEffect((function(){"form"===J.reg_mode&&J.reg_fields.forEach((function(e){"file"===e.field&&U([].concat(Object(H.a)(G),[e.title]))}))}),[J]);r.a.useEffect((function(){h(!0),x([]),k([]),fetch("https://ellipseapp.com"+"/api/event/registeredEvents?id=".concat(J._id),{headers:{Authorization:"Bearer ".concat(E),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){if(e.length>0){var t=e[0].data;Object.keys(t).forEach((function(e){x((function(t){return[].concat(Object(H.a)(t),[{id:e,key:e,label:e,minWidth:170}])}))})),e.forEach((function(e){k((function(t){return[].concat(Object(H.a)(t),[e.data])}))})),h(!1)}else h(!1)}))}))}),[E,J]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.progress},r.a.createElement(Wt.a,{in:g,unmountOnExit:!0},r.a.createElement(D.a,null))),r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(Vl,{open:M,emails:N,handleClose:function(){F(!1)}}),r.a.createElement(Ul,{open:A,id:J._id,handleClose:function(){P(!1)}}),r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:9},r.a.createElement(pe.a,{className:t.buttonsPaper},r.a.createElement(f.a,{variant:"contained",onClick:function(){P(!0)},className:t.button},"Add Announcement"))),r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(pe.a,{className:t.fixedHeightPaper},r.a.createElement(O.a,null,"Total Registrations"),r.a.createElement(O.a,{component:"p",variant:"h4"},_.length))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(pe.a,{className:t.paper},r.a.createElement(Wl.a,{className:t.container},r.a.createElement(f.a,{variant:"contained",className:t.button},r.a.createElement(Yl.CSVLink,{filename:J.name+".csv",headers:j,data:_,style:{color:"#000000"}},"Download as csv")),r.a.createElement(Al.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(Ml.a,null,r.a.createElement(ql.a,null),r.a.createElement(ql.a,null,r.a.createElement(Rl.a,{padding:"checkbox"},r.a.createElement(K.a,{color:"default",checked:_.length>0&&N.length===_.length,onChange:function(e){if(e.target.checked){var t=_.map((function(e){return e.Email}));z(t)}else z([])},indeterminate:N.length>0&&N.length<_.length,inputProps:{"aria-label":"select all fields"}})),j.map((function(e){return r.a.createElement(Rl.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(Pl.a,null,_.slice(l*s,l*s+s).map((function(e){var t,a=(t=e.Email,-1!==N.indexOf(t));return r.a.createElement(ql.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.Email,onClick:function(t){return function(e,t){var a=N.indexOf(t),n=[];-1===a?n=n.concat(N,t):0===a?n=n.concat(N.slice(1)):a===N.length-1?n=n.concat(N.slice(0,-1)):a>0&&(n=n.concat(N.slice(0,a),N.slice(a+1))),z(n)}(0,e.Email)},selected:a},r.a.createElement(Rl.a,{padding:"checkbox"},r.a.createElement(K.a,{checked:a,color:"default",inputProps:{"aria-label":"select all fields"}})),j.map((function(t){if(G.includes(t.id))return r.a.createElement(Rl.a,{key:t.id,align:t.align},r.a.createElement(ce.a,{download:!0,target:"_blank",href:"https://ellipseapp.com"+"/api/event/registration/get_file?id=".concat(e[t.id]),size:"small",color:"primary"},r.a.createElement(Ll.a,null)));var a="Email"===t.id?e[t.id].substr(0,3)+"*****@"+e[t.id].split("@")[1]:e[t.id];return r.a.createElement(Rl.a,{key:t.id,align:t.align},t.format&&"number"===typeof a?t.format(a):a)})))}))))),r.a.createElement(Fl.a,{rowsPerPageOptions:[10,25,100],component:"div",count:_.length,rowsPerPage:s,page:l,onChangePage:function(e,t){i(t)},onChangeRowsPerPage:function(e){m(+e.target.value),i(0)}})))))}var Ql=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},topBar:{},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},message:{display:"flex",justifyContent:"flex-start"},message2:{display:"none"},message3:{display:"flex",justifyContent:"flex-end"},inline:{whiteSpace:"pre-line"}}}));function Xl(e){e.children;var t=e.value,a=(e.url,e.index),n=Object(Ve.a)(e,["children","value","url","index"]),l=r.a.useContext(We).currentUser,i=localStorage.getItem("token"),o=e.event,c=e.open,s=r.a.useState(!1),m=Object(p.a)(s,2),u=m[0],d=m[1],g=r.a.useState(null),f=Object(p.a)(g,2),h=f[0],E=f[1],b=r.a.useState([]),y=Object(p.a)(b,2),j=y[0],x=y[1],C=Ql(),S=null,_=r.a.useContext(Pt).webSocketContext,k=r.a.useContext(Rt).eventChatMessages,w=r.a.useContext(Rt).setEventChatMessages,T=r.a.useContext(Rt),N=T.deletedEventChatMessages,z=T.setDeletedEventChatMessages,I=r.a.useState(!1),B=Object(p.a)(I,2),A=B[0],P=B[1],R=r.a.useState({}),W=Object(p.a)(R,2),M=W[0],F=W[1];r.a.useEffect((function(){return _&&_.send(JSON.stringify({action:"join_event_room",event_id:o._id,msg:{user_id:l.user_id}})),function(){_&&_.send(JSON.stringify({action:"close_event_socket",event_id:o._id,msg:{user_id:l.user_id}}))}}),[_,l,o]),r.a.useEffect((function(){k.forEach((function(e){var t=e.msg;e.event_id===o._id&&(x((function(e){return[].concat(Object(H.a)(e),[t])})),w(k.filter((function(t){return t!==e}))))}))}),[k,o]),r.a.useEffect((function(){return d(!0),fetch("https://ellipseapp.com"+"/api/chat/load_messages?id=".concat(o._id),{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){x(e),d(!1)}))})),null!=h&&h.scrollIntoView({behavior:"smooth"}),function(){x([]),Object(Ye.a)()}}),[o._id,i]),r.a.useEffect((function(){null!=h&&h.scrollIntoView({behavior:"smooth"})}),[u]),r.a.useEffect((function(){return null!=h&&h.scrollIntoView({behavior:"smooth"}),function(){Object(Ye.a)()}}),[j,h]);r.a.useEffect((function(){N.forEach((function(e){var t=e.msg;e.event_id===o._id&&(x(j.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t)}))),z(k.filter((function(t){return t!==e}))))}))}),[N]);var q=function(e){return function(){F(e),P(!0)}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==a},n),t===a&&r.a.createElement("div",null,r.a.createElement("div",{className:C.progress},r.a.createElement(Wt.a,{in:u,unmountOnExit:!0},r.a.createElement(D.a,null))),r.a.createElement(v.a,{className:C.topBar},j.map((function(e,t){var a=new Date,n=new Date(e.date);return n.toDateString()!==S?(S=n.toDateString(),r.a.createElement(Gt,{adminId:o.user_id,handleMessageDeleteButton:q,message:e,currentDate:a,messageDate:n,index:t})):r.a.createElement(Jt,{adminId:o.user_id,handleMessageDeleteButton:q,message:e,currentDate:a,messageDate:n,index:t})})),r.a.createElement("div",{style:{float:"left",clear:"both",paddingBottom:"80px"},ref:function(e){E(e)}})),r.a.createElement("div",{className:C.textField},o.chat_blocked_users.includes(l.user_id)?r.a.createElement(O.a,null,"You cannot send messages in this channel"):r.a.createElement(At,{loading:u,open:c,handleSend:function(e){var t=new Date;_&&(o.chat_blocked_users.includes(l.user_id)||_.send(JSON.stringify({action:"send_event_message",event_id:o._id,msg:{id:l.user_id+Date.now(),user_id:l.user_id,user_name:l.name,user_pic:l.profile_pic,message_type:"normal_text_message",message:e,date:t.toISOString()}}))),null!=h&&h.scrollIntoView({behavior:"smooth"})}})),r.a.createElement(Vt,{open:A,message:M,setOpen:P,handleDeleteConfirmation:function(e){return function(){_.send(JSON.stringify({action:"delete_event_chat_message",event_id:o._id,msg:e})),x(j.filter((function(t){return t!==e}))),P(!1)}}})))}function $l(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var ei=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}));function ti(e){var t=ei(),a=Object(W.a)(),n=r.a.useState(null),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(null),s=Object(p.a)(c,2),m=s[0],d=s[1],g=r.a.useState(null),h=Object(p.a)(g,2),b=h[0],v=h[1],j=r.a.useState(null),x=Object(p.a)(j,2),S=x[0],_=x[1],k=r.a.useState(""),w=Object(p.a)(k,2),N=w[0],D=w[1],z=r.a.useState(!1),I=Object(p.a)(z,2),M=I[0],F=I[1],q=r.a.useState([]),L=Object(p.a)(q,2),G=L[0],U=L[1],J=r.a.useState({alertopen:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),V=Object(p.a)(J,2),Z=V[0],Q=V[1],X=Z.vertical,$=Z.horizontal,ee=Z.alertopen,te=Z.message,ae=Z.type,ne=Z.autoHide,re=r.a.useState({form:!0,link:!1}),le=Object(p.a)(re,2),ie=le[0],oe=le[1],ce=function(){F(!1)};r.a.useEffect((function(){var t=e.roundData;o(t.title),d(t.description),v(t.start_date),_(t.end_date),D(t.link),t.fields&&U(t.fields),void 0!==t.link&&""!==t.link&&null!==t.link&&oe(Object(u.a)(Object(u.a)({},ie),{},{link:!0}))}),[e.roundData]);var se=function(e){oe(Object(u.a)(Object(u.a)({},ie),{},Object(C.a)({},e.target.name,e.target.checked)))},me=ie.form,ue=ie.link;return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:X,horizontal:$},open:ee,autoHideDuration:ne,onClose:function(){Q(Object(u.a)(Object(u.a)({},Z),{},{alertopen:!1}))},key:X+$},r.a.createElement($l,{onClose:ce,severity:ae},te)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:a.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Add Rounds"),r.a.createElement(P.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",name:"name",fullWidth:!0,disabled:!0,value:i})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"desc",label:"Description",name:"desc",fullWidth:!0,value:m,required:!0,onChange:function(e){d(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(ya.a,{utils:va.a,required:!0},r.a.createElement(Wn.a,{inputProps:{required:!0},minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Start Date",name:"startDate",value:b,onChange:function(e){v(e)}}))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(ya.a,{utils:va.a},r.a.createElement(Wn.a,{minDate:Date.now(),fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"endDate",label:"End Date",name:"endDate",value:S,onChange:function(e){_(e)}}))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{component:"legend"},"Action"),r.a.createElement(Jn.a,null,r.a.createElement(Y.a,{control:r.a.createElement(K.a,{checked:me,color:"default",onChange:se,name:"form"}),label:"Create Form"}),r.a.createElement(Y.a,{control:r.a.createElement(K.a,{checked:ue,color:"default",onChange:se,name:"link"}),label:"Link"}))),ue&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoFocus:!0,margin:"dense",id:"platform_link",label:"Platform Link",name:"platform_link",fullWidth:!0,value:N,required:!0,onChange:function(e){D(e.target.value)}})),me&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(O.a,null,"Fields"),r.a.createElement(pe.a,{component:"ul",className:t.root},G.map((function(e){return r.a.createElement("li",{key:e.key},r.a.createElement(Ke.a,{label:e.title,className:t.chip}))})))))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){if(null!==m&&null!==b&&null!==S){var t=[];e.rounds.forEach((function(a,n){a.title===i?t.push({title:i,description:m,start_date:b,end_date:S,link:N,fields:G}):t.push(a),n===e.rounds.length-1&&e.setRounds(t)})),e.handleClose()}else Q({alertopen:!0,vertical:"top",horizontal:"center",message:"please fill in all fields",type:"error",autoHide:"5000"})},color:"primary"},"Save Changes"))),r.a.createElement(Vn,{open:M,handleAdd:function(e,t){U((function(a){return[].concat(Object(H.a)(a),[e[t]])}))},handleClose:ce}))}function ai(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var ni=Object(S.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center",borderRadius:30},avatar:{backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0,backgroundColor:e.palette.primary.light}}})),ri=Object(c.g)((function(e){var t=e.event,a=ni(),n=r.a.useState(!1),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error"}),s=Object(p.a)(c,2),g=s[0],b=s[1],j=r.a.useState(null),x=Object(p.a)(j,2),C=x[0],S=x[1],_=r.a.useState(null),k=Object(p.a)(_,2),w=k[0],N=k[1],z=r.a.useState(null),I=Object(p.a)(z,2),B=I[0],A=I[1],P=r.a.useState(null),R=Object(p.a)(P,2),W=R[0],M=R[1],F=r.a.useState(null),q=Object(p.a)(F,2),L=q[0],K=q[1],Q=r.a.useState(null),X=Object(p.a)(Q,2),$=X[0],ee=X[1],te=r.a.useState(null),ae=Object(p.a)(te,2),ne=ae[0],re=ae[1],ie=r.a.useState([]),se=Object(p.a)(ie,2),me=se[0],ue=se[1],de=r.a.useState(null),ge=Object(p.a)(de,2),fe=ge[0],he=ge[1],Ee=r.a.useState(null),be=Object(p.a)(Ee,2),ve=be[0],ye=be[1],je=r.a.useState(null),xe=Object(p.a)(je,2),Oe=xe[0],Ce=xe[1],Se=r.a.useState([]),_e=Object(p.a)(Se,2),ke=_e[0],we=_e[1],Te=r.a.useState(""),Ne=Object(p.a)(Te,2),De=Ne[0],ze=Ne[1],Ie=r.a.useState("Free"),Be=Object(p.a)(Ie,2),Ae=Be[0],Pe=Be[1],Re=r.a.useState(null),We=Object(p.a)(Re,2),Me=We[0],Fe=We[1],qe=r.a.useState(null),He=Object(p.a)(qe,2),Le=He[0],Ge=He[1],Ue=r.a.useState(null),Je=Object(p.a)(Ue,2),Ve=Je[0],Ye=Je[1],Ze=r.a.useState("open"),Qe=Object(p.a)(Ze,2),Xe=Qe[0],$e=Qe[1],et=r.a.useState(null),tt=Object(p.a)(et,2),at=tt[0],nt=tt[1],rt=r.a.useState(null),lt=Object(p.a)(rt,2),it=lt[0],ot=lt[1],ct=r.a.useState(!1),st=Object(p.a)(ct,2),mt=st[0],ut=st[1],dt=r.a.useState(null),pt=Object(p.a)(dt,2),gt=pt[0],ft=pt[1],ht=r.a.useState(null),Et=Object(p.a)(ht,2),bt=Et[0],vt=Et[1],yt=g.vertical,jt=g.horizontal,xt=g.open,Ot=g.message,Ct=g.type,St=r.a.useState([]),_t=Object(p.a)(St,2),kt=_t[0],wt=_t[1],Tt=localStorage.getItem("token"),Nt=r.a.useState([]),Dt=Object(p.a)(Nt,2),zt=Dt[0],It=Dt[1],Bt=r.a.useState([]),At=Object(p.a)(Bt,2),Pt=At[0],Rt=At[1],Wt=r.a.useState([]),Mt=Object(p.a)(Wt,2),Ft=Mt[0],qt=Mt[1],Ht=r.a.useState(""),Lt=Object(p.a)(Ht,2),Gt=Lt[0],Ut=Lt[1],Jt=r.a.useState(!1),Vt=Object(p.a)(Jt,2),Yt=Vt[0],Kt=Vt[1],Zt=r.a.useState({}),Qt=Object(p.a)(Zt,2),Xt=Qt[0],$t=Qt[1],ea=r.a.useState([]),ta=Object(p.a)(ea,2),aa=ta[0],na=ta[1],ra=r.a.useState(null),la=Object(p.a)(ra,2),ia=la[0],oa=la[1],ca=r.a.useState(null),sa=Object(p.a)(ca,2),ma=sa[0],ua=sa[1],da=r.a.useState([]),pa=Object(p.a)(da,2),ga=pa[0],fa=pa[1],ha=r.a.useState(null),Ea=Object(p.a)(ha,2),ba=Ea[0],ja=Ea[1],Ca=r.a.useState(null),Sa=Object(p.a)(Ca,2),_a=Sa[0],ka=Sa[1],wa=r.a.useState(null),Ta=Object(p.a)(wa,2),Na=Ta[0],Da=Ta[1],za=r.a.useState([]),Ia=Object(p.a)(za,2),Ba=Ia[0],Aa=Ia[1],Pa=r.a.useState(!1),Ra=Object(p.a)(Pa,2),Wa=Ra[0],Ma=Ra[1],Fa=r.a.useState({}),qa=Object(p.a)(Fa,2),Ha=qa[0],La=qa[1],Ga=r.a.useState(null),Ua=Object(p.a)(Ga,2),Ja=Ua[0],Va=Ua[1],Ya=r.a.useState(null),Ka=Object(p.a)(Ya,2),Za=Ka[0],Qa=Ka[1];r.a.useEffect((function(){fetch("https://ellipseapp.com/api/colleges",{headers:{Authorization:"Bearer ".concat(Tt),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){wt(e)}))}))}),[Tt]);r.a.useEffect((function(){ue(t.tags),re(t.event_type),S(t.name),N(t.description),A(t.start_time),M(t.finish_time),K(t.registration_end_time),ee(t.event_mode),he(t.reg_link),Ce(t.about),ye(t.fees),we(t.requirements),Pe(t.fee_type),Fe(t.college_name),Ge(t.reg_mode),Ye(t.organizer),ft(t.venue),vt(t.venue_college),Ut(t.platform_details),ze(t.venue_type),Kt(t.isTeamed),$t(t.team_size),na(t.rounds),oa(t.rules),fa(t.prizes),ua(t.themes),Aa(t.socialMediaLinks),!0===t.o_allowed?$e("open"):$e("onlycollege"),fetch("https://ellipseapp.com/api/event/get_event_keywords",{headers:{Authorization:"Bearer ".concat(Tt),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.forEach((function(e){"EventTags"===e.type?It((function(t){return[].concat(Object(H.a)(t),[e.title])})):"EventRequirements"===e.type?Rt((function(t){return[].concat(Object(H.a)(t),[e.title])})):qt((function(t){return[].concat(Object(H.a)(t),[e.title])}))}))}))}))}),[Tt,t]);var Xa=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Saved changes successfully"===Ot&&window.location.reload(!1),b(Object(u.a)(Object(u.a)({},g),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function $a(){return($a=Object(d.a)(m.a.mark((function e(a){var n,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),o(!0),n=!1,"open"===Xe&&(n=!0);try{new FormData,l={eventId:t._id,name:C,description:w,start_time:B,finish_time:W,registration_end_time:L,event_mode:$,event_type:ne,tags:me,reg_link:fe,fee:ve,about:Oe,fee_type:Ae,college:Me,organizer:Ve,requirements:ke,o_allowed:n,reg_mode:Le,venue_type:De,venue:gt,venue_college:bt,platform_details:Gt,rounds:aa,rules:ia,prizes:ga,themes:ma,socialMediaLinks:Ba},r=JSON.stringify(l),fetch("https://ellipseapp.com/api/updateevent",{headers:{Authorization:"Bearer ".concat(Tt),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:r}).then((function(e){200===e.status?e.json().then((function(e){if(t=e.event,mt){var a=new FormData;a.append("image",at),fetch("https://ellipseapp.com"+"/api/event/uploadimage?id=".concat(t._id),{headers:{Authorization:"Bearer ".concat(Tt)},method:"POST",body:a}).then((function(e){200===e.status&&(o(!1),b({open:!0,vertical:"top",horizontal:"center",message:"successful",type:"success",autoHide:300}))}))}else o(!1),b({open:!0,vertical:"top",horizontal:"center",message:"Saved changes successfully",type:"success"})})):e.json().then((function(e){o(!1),b({open:!0,vertical:"top",horizontal:"center",message:e,type:"error"})}))}))}catch(i){o(!1),b({open:!0,vertical:"top",horizontal:"center",message:i.message,type:"error"})}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var en=function(e){return function(){La(e),Ma(!0)}},tn=function(e,t){return function(){var t=ga;t.splice(e),fa(t)}},an=function(e){return function(t){"title"===e?ja(t.target.value):"desc"===e?Da(t.target.value):ka(t.target.value)}},nn=function(e,t){return function(){var t=Ba;t.splice(e),Aa(t)}},rn=function(e){return function(t){"Social Media"===e?Va(t.target.value):Qa(t.target.value)}};return r.a.createElement(Z.a,{component:"main",maxWidth:"lg"},r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:yt,horizontal:jt},open:xt,autoHideDuration:6e3,onClose:Xa,key:yt+jt},r.a.createElement(ai,{onClose:Xa,severity:Ct},Ot)),r.a.createElement("div",{className:a.paper},r.a.createElement("form",{className:a.form,novalidate:!0,onSubmit:function(e){return $a.apply(this,arguments)}},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement("input",{id:"contained-button-file",type:"file",accept:"image/*",onChange:function(e){if(e.target.files[0]){nt(e.target.files[0]);var t=URL.createObjectURL(e.target.files[0]);ot(t),ut(!0)}},style:{display:"none"}}),r.a.createElement(le.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(ce.a,{style:{backgroundColor:"black"},color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(oe.a,null)))},r.a.createElement("img",{height:"160",width:"150",alt:"poster",src:mt?it:"https://ellipseapp.com"+"/api/image?id=".concat(t.poster_url)}))),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",id:"eventName",name:"eventName",label:"Event name",value:C||"",onChange:function(e){S(e.target.value)},fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",id:"shortdesc",name:"shortdesc",label:"Short Description",fullWidth:!0,value:w||"",onChange:function(e){N(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:4},r.a.createElement(ya.a,{utils:va.a},r.a.createElement(Wn.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"startDate",label:"Event Start Date",name:"startDate",value:B,onChange:function(e){A(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6,lg:4},r.a.createElement(ya.a,{utils:va.a},r.a.createElement(Wn.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"endDate",label:"Event End Date",name:"endDate",value:W,onChange:function(e){M(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:12,lg:4},r.a.createElement(ya.a,{utils:va.a},r.a.createElement(Wn.a,{fullWidth:!0,required:!0,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:"regEndDate",label:"Registration End Date",name:"regEndDate",value:L,onChange:function(e){K(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(V.a,{fullWidth:!0},r.a.createElement(J.a,{htmlFor:"event mode"},"Event Mode"),r.a.createElement(G.a,{fullWidth:!0,native:!0,label:"Event Mode",value:$||"",onChange:function(e){ee(e.target.value)},inputProps:{name:"eventMode",id:"event mode"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Online"},"Online"),r.a.createElement("option",{value:"Offline"},"Offline")))),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(U.a,{fullWidth:!0,id:"event type",options:Ft,getOptionLabel:function(e){return e},value:ne||"",onChange:function(e,t){re(t)},renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"Event Type"}))}})),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(U.a,{multiple:!0,id:"event themes",options:zt.map((function(e){return e})),freeSolo:!0,value:me||[],onChange:function(e,t){ue(t)},renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ke.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Event Themes",placeholder:"Event Themes"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{component:"legend"},"Entry Fee"),r.a.createElement(Oa.a,{"aria-label":"address",name:"address",value:Ae||"",onChange:function(e,t){Pe(t)},style:{display:"inline"}},r.a.createElement(Y.a,{value:"Free",control:r.a.createElement(xa.a,{color:"default"}),label:"Free"}),r.a.createElement(Y.a,{value:"Paid",control:r.a.createElement(xa.a,{color:"default"}),label:"Paid"}))),"form"!==Le&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",id:"regLink",name:"regLink",label:"Registration Link",fullWidth:!0,value:fe||"",onChange:function(e){he(e.target.value)}})),"Paid"===Ae&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",id:"regFees",name:"regFees",value:ve||"",label:"Registration Fees",onChange:function(e){ye(e.target.value)},fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(U.a,{fullWidth:!0,disabled:!0,id:"collegename",options:kt,getOptionLabel:function(e){return e},value:Me||"",onChange:function(e,t){Fe(t)},renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,required:!0},e,{label:"College"}))}})),r.a.createElement(y.a,{item:!0,xs:12,sm:6},r.a.createElement(V.a,{fullWidth:!0},r.a.createElement(J.a,{htmlFor:"outlined-age-native-simple"},"Registration"),r.a.createElement(G.a,{fullWidth:!0,native:!0,disabled:!0,label:"Registration",inputProps:{name:"registrationMode",id:"registration mode"},value:Le||""},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"form"},"Our Platform(Ellipse)"),r.a.createElement("option",{value:"link"},"Other")))),r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(U.a,{multiple:!0,id:"requirements",options:Pt.map((function(e){return e})),freeSolo:!0,value:ke,onChange:function(e,t){we(t)},renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ke.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{label:"Prerequisites",placeholder:"Requirements"}))}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{component:"legend"},"Participation"),r.a.createElement(Oa.a,{name:"participanttype",value:Xe,onChange:function(e,t){$e(t)},style:{display:"inline"}},r.a.createElement(Y.a,{value:"open",control:r.a.createElement(xa.a,{color:"default"}),label:"Open for all"}),r.a.createElement(Y.a,{value:"onlycollege",control:r.a.createElement(xa.a,{color:"default"}),label:"Only ".concat(Me)}))),"Offline"===$&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{component:"legend"},"Address"),r.a.createElement(Oa.a,{"aria-label":"address",name:"address",value:De,onChange:function(e,t){ze(t)},style:{display:"inline"}},r.a.createElement(Y.a,{value:"College/University",control:r.a.createElement(xa.a,{color:"default"}),label:"College/University"}),r.a.createElement(Y.a,{value:"Other",control:r.a.createElement(xa.a,{color:"default"}),label:"Others"}))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{required:!0,component:"legend"},"Participation Type"),r.a.createElement(Oa.a,{required:!0,"aria-label":"address",name:"teamed",value:Yt?"team":"individual",style:{display:"inline"}},r.a.createElement(Y.a,{disabled:!0,value:"individual",control:r.a.createElement(xa.a,{color:"default"}),label:"Individual"}),r.a.createElement(Y.a,{disabled:!0,value:"team",control:r.a.createElement(xa.a,{color:"default"}),label:"Team"}))),Yt&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{disabled:!0,autoComplete:"off",required:!0,type:"number",id:"maxTeam",name:"minTeam",label:"Minimum Team Members",fullWidth:!0,value:Xt.min_team_size||""})),Yt&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{disabled:!0,autoComplete:"off",required:!0,type:"number",id:"maxTeam",name:"maxTeam",label:"Maximum Team Members",fullWidth:!0,value:Xt.max_team_size||""})),"Offline"===$&&r.a.createElement(y.a,{item:!0,xs:12,lg:6},r.a.createElement(E.a,{autoComplete:"off",multiline:!0,helperText:"Enter venue details (Ex: VIT, Vellore)",rows:"5",variant:"outlined",value:gt||"",onChange:function(e){ft(e.target.value)},id:"building",name:"building",label:"Room No & Building",fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:"Enter short description of your event",autoComplete:"off",value:Oe||"",id:"about",name:"about",label:"About",fullWidth:!0})),"Online"===$&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,helperText:"Enter link for the platform, you can also add it later",rows:"5",variant:"outlined",placeholder:"Enter details about your online platform",autoComplete:"off",id:"platform",name:"platform",label:"Platform",fullWidth:!0,onChange:function(e){Ut(e.target.value)},value:Gt||""})),"form"===Le&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(O.a,null,"Registration Fields"),r.a.createElement(pe.a,{component:"ul",className:a.root},t.reg_fields.map((function(e){return r.a.createElement("li",{key:e.key},r.a.createElement(Ke.a,{label:e.title,className:a.chip}))})))),"form"===Le&&r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(O.a,null,"Rounds"),r.a.createElement(pe.a,{component:"ul",className:a.root},aa.map((function(e){return r.a.createElement("li",{key:e.key},r.a.createElement(Ke.a,{label:e.title,className:a.chip}),r.a.createElement(ce.a,{onClick:en(e)},r.a.createElement(oe.a,null)))})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,helperText:"Enter all rules and regulation including eligibility for participation",rows:"5",variant:"outlined",placeholder:"Enter all rules and regulation including eligibility for participation",autoComplete:"off",onChange:function(e){oa(e.target.value)},value:ia,id:"rules",name:"rules",label:"Rules",fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,helperText:"Enter your event themes like healthcare, fintech",rows:"5",variant:"outlined",placeholder:"Enter your event themes like healthcare, fintech",autoComplete:"off",onChange:function(e){ua(e.target.value)},value:ma,id:"themes",name:"themes",label:"Themes",fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(V.a,{component:"fieldset",className:a.root},r.a.createElement(Mn.a,{component:"legend"},"Prizes"),r.a.createElement(v.a,{display:"flex",style:{marginTop:"10px"}},r.a.createElement(v.a,null,r.a.createElement(E.a,{onChange:an("title"),value:ba||"",label:"Prize Title",variant:"outlined",style:{marginRight:"5px"}})),r.a.createElement(v.a,null,r.a.createElement(E.a,{onChange:an("prize"),value:_a||"",label:"Prize",variant:"outlined"})),r.a.createElement(v.a,null,r.a.createElement(E.a,{onChange:an("desc"),value:Na||"",label:"Prize Description",variant:"outlined"})),r.a.createElement(v.a,null,r.a.createElement(ce.a,{onClick:function(){fa((function(e){return[].concat(Object(H.a)(e),[{title:ba,prize:_a,desc:Na}])})),ja(null),Da(null)}},"Add"))))),r.a.createElement(y.a,null,r.a.createElement(pe.a,{component:"ul",className:a.root},ga.map((function(e,t){return r.a.createElement("li",{key:e.key},r.a.createElement(Ke.a,{label:e.title,onDelete:tn(t),className:a.chip}))})))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(V.a,{component:"fieldset",className:a.formControl},r.a.createElement(Mn.a,{component:"legend"},"Social Media Links"),r.a.createElement(v.a,{display:"flex",style:{marginTop:"10px"}},r.a.createElement(v.a,null,r.a.createElement(V.a,{fullWidth:!0},r.a.createElement(J.a,{htmlFor:"socialmedia field"},"Social Media"),r.a.createElement(G.a,{variant:"outlined",style:{width:"200px",marginRight:"5px"},native:!0,label:"Social Media",inputProps:{name:"socialMediaField",id:"socialMediaField"},value:Ja||"",onChange:rn("Social Media")},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"Instagram"},"Instagram"),r.a.createElement("option",{value:"Facebook"},"Facebook"),r.a.createElement("option",{value:"Youtube"},"Youtube"),r.a.createElement("option",{value:"Twitter"},"Twitter"),r.a.createElement("option",{value:"Github"},"Github"),r.a.createElement("option",{value:"Website"},"Website")))),r.a.createElement(v.a,null,r.a.createElement(E.a,{onChange:rn("link"),value:Za||"",label:"Link",variant:"outlined"})),r.a.createElement(v.a,null,r.a.createElement(ce.a,{onClick:function(){Aa((function(e){return[].concat(Object(H.a)(e),[{title:Ja,link:Za}])})),Va(null),Qa(null)}},"Add"))))),r.a.createElement(y.a,null,r.a.createElement(pe.a,{component:"ul",className:a.root},Ba.map((function(e,t){return r.a.createElement("li",{key:e.key},r.a.createElement(Ke.a,{label:e.title,onDelete:nn(t),className:a.chip}))}))))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:i,className:a.submit},i?r.a.createElement(D.a,{color:"primary",size:24}):"Save Changes"))),r.a.createElement(ti,{open:Wa,handleClose:function(){Ma(!1)},rounds:aa,setRounds:na,roundData:Ha}))}));function li(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var ii=Object(S.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.palette.secondary.main},buttonsPaper:{backgroundColor:e.palette.primary.light,padding:e.spacing(3),height:140},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140},button:{margin:e.spacing(1),borderRadius:e.spacing(5)}}}));function oi(e){var t=ii(),a=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState(!1),c=Object(p.a)(o,2),s=c[0],g=c[1],h=l.vertical,E=l.horizontal,b=l.open,v=l.message,j=l.type,x=l.autoHide,O=r.a.useState(0),C=Object(p.a)(O,2),S=C[0],_=C[1],k=r.a.useState(10),w=Object(p.a)(k,2),N=w[0],z=w[1],I=localStorage.getItem("token"),B=r.a.useState([]),A=Object(p.a)(B,2),P=A[0],R=A[1],W=r.a.useState([]),M=Object(p.a)(W,2),F=M[0],q=M[1],L=r.a.useState([]),G=Object(p.a)(L,2),U=G[0],J=G[1],V=e.event,Y=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(),i(Object(u.a)(Object(u.a)({},l),{},{open:!1}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();r.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event/registeredEvents?id=".concat(V._id),{headers:{Authorization:"Bearer ".concat(I),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){if(e.length>0){var t=e[0].data;Object.keys(t).forEach((function(e){R((function(t){return[].concat(Object(H.a)(t),[{id:e,label:e,minWidth:170}])}))})),e.forEach((function(e){"not_generated"===e.certificate_status&&q((function(t){return[].concat(Object(H.a)(t),[e.data])}))}))}}))}))}),[I,V._id]);var Z=function(){q([]),fetch("https://ellipseapp.com"+"/api/event/registeredEvents?id=".concat(V._id),{headers:{Authorization:"Bearer ".concat(I),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){e.length>0&&e.forEach((function(e){"not_generated"===e.certificate_status&&q((function(t){return[].concat(Object(H.a)(t),[e.data])}))}))}))}))};return r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(T.a,{anchorOrigin:{vertical:h,horizontal:E},open:b,autoHideDuration:x,onClose:Y,key:h+E},r.a.createElement(li,{onClose:Y,severity:j},v)),r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:9},r.a.createElement(pe.a,{className:t.buttonsPaper},r.a.createElement(f.a,{variant:"contained",onClick:function(){g(!0);try{var e=new FormData,t={eventId:V._id,participants:U};e=JSON.stringify(t),fetch("https://ellipseapp.com/api/event/generate_certificates",{headers:{Authorization:"Bearer ".concat(I),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){e.json().then((function(e){g(!1),i({open:!0,vertical:"top",horizontal:"center",message:"Generated successfully",type:"success",autoHide:4e3})}))}))}catch(a){g(!1),i({open:!0,vertical:"top",horizontal:"center",message:a.message,type:"error",autoHide:6e3})}},className:t.button},s?r.a.createElement(D.a,{color:"primary",size:24}):"Generate Certificates"))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(pe.a,{className:t.paper},r.a.createElement(Wl.a,{className:t.container},r.a.createElement(Al.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(Ml.a,null,r.a.createElement(ql.a,null,r.a.createElement(Rl.a,{padding:"checkbox"},r.a.createElement(K.a,{color:"default",checked:F.length>0&&U.length===F.length,onChange:function(e){if(e.target.checked){var t=F.map((function(e){return e.Email}));J(t)}else J([])},indeterminate:U.length>0&&U.length<F.length,inputProps:{"aria-label":"select all fields"}})),P.map((function(e){return r.a.createElement(Rl.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(Pl.a,null,F.slice(S*N,S*N+N).map((function(e){var t,a=(t=e.Email,-1!==U.indexOf(t));return r.a.createElement(ql.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.Email,onClick:function(t){return function(e,t){var a=U.indexOf(t),n=[];-1===a?n=n.concat(U,t):0===a?n=n.concat(U.slice(1)):a===U.length-1?n=n.concat(U.slice(0,-1)):a>0&&(n=n.concat(U.slice(0,a),U.slice(a+1))),J(n)}(0,e.Email)},selected:a},r.a.createElement(Rl.a,{padding:"checkbox"},r.a.createElement(K.a,{checked:a,color:"default",inputProps:{"aria-label":"select all fields"}})),P.map((function(t){var a="Email"===t.id?e[t.id].substr(0,3)+"*****@"+e[t.id].split("@")[1]:e[t.id];return r.a.createElement(Rl.a,{key:t.id,align:t.align},t.format&&"number"===typeof a?t.format(a):a)})))}))))),r.a.createElement(Fl.a,{rowsPerPageOptions:[10,25,100],component:"div",count:F.length,rowsPerPage:N,page:S,onChangePage:function(e,t){_(t)},onChangeRowsPerPage:function(e){z(+e.target.value),_(0)}}))))}var ci=Object(S.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",backgroundColor:e.palette.secondary.main},buttonsPaper:{backgroundColor:e.palette.primary.light,padding:e.spacing(3),height:140},fixedHeightPaper:{backgroundColor:e.palette.secondary.main,padding:e.spacing(3),height:140},button:{margin:e.spacing(1),borderRadius:e.spacing(5)}}}));function si(e){var t=ci(),a=r.a.useState(0),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState(10),c=Object(p.a)(o,2),s=c[0],m=c[1],u=localStorage.getItem("token"),d=r.a.useState([]),g=Object(p.a)(d,2),f=g[0],h=g[1],E=r.a.useState([]),b=Object(p.a)(E,2),v=b[0],j=b[1],x=r.a.useState([]),O=Object(p.a)(x,2),C=O[0],S=O[1],_=e.event;r.a.useEffect((function(){fetch("https://ellipseapp.com"+"/api/event/registeredEvents?id=".concat(_._id),{headers:{Authorization:"Bearer ".concat(u),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){if(e.length>0){var t=e[0].data;Object.keys(t).forEach((function(e){h((function(t){return[].concat(Object(H.a)(t),[{id:e,label:e,minWidth:170}])}))})),e.forEach((function(e){"not_generated"!==e.certificate_status&&j((function(t){return[].concat(Object(H.a)(t),[e.data])}))}))}}))}))}),[u,_._id]);return r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12,md:4,lg:9}),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(pe.a,{className:t.paper},r.a.createElement(Wl.a,{className:t.container},r.a.createElement(Al.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(Ml.a,null,r.a.createElement(ql.a,null,r.a.createElement(Rl.a,{padding:"checkbox"},r.a.createElement(K.a,{color:"default",checked:v.length>0&&C.length===v.length,onChange:function(e){if(e.target.checked){var t=v.map((function(e){return e.Email}));S(t)}else S([])},indeterminate:C.length>0&&C.length<v.length,inputProps:{"aria-label":"select all fields"}})),f.map((function(e){return r.a.createElement(Rl.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(Pl.a,null,v.slice(l*s,l*s+s).map((function(e){var t,a=(t=e.Email,-1!==C.indexOf(t));return r.a.createElement(ql.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.Email,onClick:function(t){return function(e,t){var a=C.indexOf(t),n=[];-1===a?n=n.concat(C,t):0===a?n=n.concat(C.slice(1)):a===C.length-1?n=n.concat(C.slice(0,-1)):a>0&&(n=n.concat(C.slice(0,a),C.slice(a+1))),S(n)}(0,e.Email)},selected:a},r.a.createElement(Rl.a,{padding:"checkbox"},r.a.createElement(K.a,{checked:a,color:"default",inputProps:{"aria-label":"select all fields"}})),f.map((function(t){var a="Email"===t.id?e[t.id].substr(0,3)+"*****@"+e[t.id].split("@")[1]:e[t.id];return r.a.createElement(Rl.a,{key:t.id,align:t.align},t.format&&"number"===typeof a?t.format(a):a)})))}))))),r.a.createElement(Fl.a,{rowsPerPageOptions:[10,25,100],component:"div",count:v.length,rowsPerPage:s,page:l,onChangePage:function(e,t){i(t)},onChangeRowsPerPage:function(e){m(+e.target.value),i(0)}}))))}var mi=a.p+"static/media/certificate_sample.6f46be5a.png";function ui(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var di=Object(S.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(3),borderRadius:30}}}));function pi(e){var t=di(),a=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState(!1),c=Object(p.a)(o,2),s=c[0],g=c[1],h=l.vertical,b=l.horizontal,v=l.open,j=l.message,x=l.type,C=l.autoHide,S=localStorage.getItem("token"),_=r.a.useState(null),k=Object(p.a)(_,2),w=k[0],N=k[1],z=e.event,I=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(u.a)(Object(u.a)({},l),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.useEffect((function(){N(z.certificate.title)}),[z]),r.a.createElement("div",{className:t.paper},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(T.a,{anchorOrigin:{vertical:h,horizontal:b},open:v,autoHideDuration:C,onClose:I,key:h+b},r.a.createElement(ui,{onClose:I,severity:x},j)),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",required:!0,id:"title",name:"title",label:"Certificate Title",value:w||"",onChange:function(e){return N(e.target.value)},fullWidth:!0,inputProps:{maxLength:32},helperText:"You can change the title of certificate as shown below in sample by default it is event name"})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:s,onClick:function(){g(!0);try{if(""===w||null===w)g(!1),i({open:!0,vertical:"top",horizontal:"center",message:"please fill the details",type:"error",autoHide:6e3});else{var e=new FormData,t={eventId:z._id,title:w};e=JSON.stringify(t),fetch("https://ellipseapp.com/api/event/update_certificate_title",{headers:{Authorization:"Bearer ".concat(S),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){e.json().then((function(e){g(!1),i({open:!0,vertical:"top",horizontal:"center",message:"Generated successfully",type:"success",autoHide:4e3})}))}))}}catch(a){g(!1),i({open:!0,vertical:"top",horizontal:"center",message:a.message,type:"error",autoHide:6e3})}},className:t.submit},s?r.a.createElement(D.a,{color:"primary",size:24}):"Update"))),r.a.createElement(O.a,{style:{marginTop:"10px"},variant:"h4"},"Sample Certificate"),r.a.createElement("img",{width:"100%",alt:"certificate sample",src:mi}))}var gi=Object(S.a)((function(e){return{root:{},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},root2:{marginTop:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,marginBottom:e.spacing(2),padding:e.spacing(1)}}}));var fi=function(e){var t=gi(),a=e.event,n=r.a.useState(0),l=Object(p.a)(n,2),i=l[0],o=l[1];return r.a.createElement("div",null,r.a.createElement("div",{className:t.root},r.a.createElement(pe.a,{className:t.root2},r.a.createElement(he.a,{value:i,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(Ee.a,{label:"Dashboard"}),r.a.createElement(Ee.a,{label:"Pending"}),r.a.createElement(Ee.a,{label:"Generated"}))),0===i&&r.a.createElement(pi,{event:a}),1===i&&r.a.createElement(oi,{event:a}),2===i&&r.a.createElement(si,{event:a})))};function hi(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var Ei=function(e){var t=L(),a=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:6e3}),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(!1),s=Object(p.a)(c,2),m=s[0],d=s[1],g=r.a.useState(!0),b=Object(p.a)(g,2),j=b[0],x=b[1],S=r.a.useState(!1),_=Object(p.a)(S,2),k=_[0],w=_[1],N=r.a.useState(null),z=Object(p.a)(N,2),I=z[0],B=z[1],A=r.a.useState([]),P=Object(p.a)(A,2),R=P[0],W=P[1],M=r.a.useState(!1),F=Object(p.a)(M,2),q=F[0],H=F[1],G=r.a.useState([]),J=Object(p.a)(G,2),Z=J[0],Q=J[1],X=r.a.useState([]),$=Object(p.a)(X,2),ee=$[0],te=$[1],ae=r.a.useState([]),ne=Object(p.a)(ae,2),re=ne[0],le=ne[1],ie=r.a.useState([]),oe=Object(p.a)(ie,2),se=oe[0],me=oe[1],ue=r.a.useState([]),pe=Object(p.a)(ue,2),ge=pe[0],fe=pe[1],he=r.a.useState([]),Ee=Object(p.a)(he,2),be=Ee[0],ve=Ee[1],ye=r.a.useState([]),je=Object(p.a)(ye,2),xe=je[0],Oe=je[1],Ce=r.a.useState([]),Se=Object(p.a)(Ce,2),_e=Se[0],ke=Se[1],we=i.vertical,Te=i.horizontal,Ne=i.open,De=i.message,ze=i.type,Ie=i.autoHide,Be=r.a.useState(!0),Ae=Object(p.a)(Be,2),Pe=Ae[0],Re=Ae[1],Me=e.event,Fe=["VIT University,Vellore","GITAM University, Bengaluru","SRM University"],qe=r.a.useContext(We).currentUser,He=e.round,Le=new Date,Ge=new Date(He.start_date),Ue=new Date(He.end_date);function Je(){"Successful.Stay tunned with notifications and announcements"===De&&e.fetchAll(),o(Object(u.a)(Object(u.a)({},i),{},{open:!1}))}function Ve(e){B(Object(u.a)(Object(u.a)({},I),{},Object(C.a)({},e.target.name,e.target.value)))}r.a.useEffect((function(){Ge>=Le?(x(!1),d("Round Not yet started")):Ue<=Le&&(x(!1),d("Round Ended"))}),[Me,qe]),r.a.useEffect((function(){if(!e.individual&&e.team){if(e.team.members.length<Me.team_size.min_team_size&&(x(!1),d("Form team with minimum of ".concat(Me.team_size.min_team_size," members to make submission"))),e.team.submissions[e.index].is_submitted){x(!1),d("submission Already made"),w(!0);var t=e.team.submissions[e.index].submission_form;Object.keys(t).forEach((function(e,a){B((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(C.a)({},e,t[e]))}))}))}}else if(e.registration&&e.registration.submissions[e.index].is_submitted){x(!1),d("submission Already made"),w(!0);var a=e.registration.submissions[e.index].submission_form;Object.keys(a).forEach((function(e,t){B((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(C.a)({},e,a[e]))}))}))}}),[e]),r.a.useEffect((function(){var t=e.fields;null!=t&&(t.forEach((function(e){"Name"===e.title?B((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(C.a)({},e.title,qe.name))})):"Email"===e.title?B((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(C.a)({},e.title,qe.email))})):"College"===e.title?B((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(C.a)({},e.title,qe.college_name))})):B((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(C.a)({},e.title,null))})),e.field})),Q(t.filter((function(e){return"short_text"===e.field}))),ve(t.filter((function(e){return"paragraph"===e.field}))),le(t.filter((function(e){return"checkboxes"===e.field}))),me(t.filter((function(e){return"radiobuttons"===e.field}))),fe(t.filter((function(e){return"date"===e.field}))),te(t.filter((function(e){return"dropdown"===e.field}))),Oe(t.filter((function(e){return"link"===e.field}))),ke(t.filter((function(e){return"file"===e.field})))),Re(!1)}),[a,qe,e.fields]);var Ye=function(e){B(Object(u.a)(Object(u.a)({},I),{},Object(C.a)({},e.target.name,e.target.value)))};function Ze(e,t){B(Object(u.a)(Object(u.a)({},I),{},Object(C.a)({},e.target.name,t)))}function Qe(t){t.preventDefault(),H(!0);var n=[],r=Object.keys(I),l=Object.keys(R),i=0;r.forEach((function(t,a){var n=e.fields.filter((function(e){return e.title===t}));null!==I[t]&&""!==I[t]||l.includes(t)||n[0].req&&(i+=1,H(!1),o({open:!0,vertical:"top",horizontal:"center",message:"Please fill in all required fields",type:"error",autoHide:4e3}))})),l&&l.forEach((function(t){var a=e.fields.filter((function(e){return e.title===t}));null===R[t]&&a[0].req&&(i+=1,H(!1),o({open:!0,vertical:"top",horizontal:"center",message:"Please fill in all fields",type:"error",autoHide:4e3}))}));var c=I;if(0===i)try{if(l.length>0)l.forEach((function(t,r){var i=new FormData;i.append("uploaded_file",R[t]),fetch("https://ellipseapp.com"+"/api/event/register/upload_file?id=".concat(Me._id),{headers:{Authorization:"Bearer ".concat(a)},method:"POST",body:i}).then((function(r){200===r.status&&r.json().then((function(r){if(B(Object(u.a)(Object(u.a)({},I),{},Object(C.a)({},t,r.file_name))),c[t]=r.file_name,n.push(Object(C.a)({},t,r.file_name)),n.length===l.length){var i=new FormData,s=e.individual?{event_id:Me._id,reg_id:e.registration._id,submission:c,is_teamed:!1,event_round:He.title}:{event_id:Me._id,submission:c,team_id:e.team_id,is_teamed:!0,event_round:He.title};i=JSON.stringify(s),fetch("https://ellipseapp.com/api/event/team/add_submission",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:i}).then((function(e){200===e.status&&e.json().then((function(e){H(!1),o({open:!0,vertical:"top",horizontal:"center",message:"Successful.Stay tunned with notifications and announcements",type:"success",autoHide:4e3})}))}))}}))}))}));else{var s=new FormData,m=e.individual?{event_id:Me._id,reg_id:e.registration._id,submission:c,is_teamed:!1,event_round:He.title}:{event_id:Me._id,submission:c,team_id:e.team_id,is_teamed:!0,event_round:He.title};s=JSON.stringify(m),fetch("https://ellipseapp.com/api/event/team/add_submission",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:s}).then((function(e){200===e.status?e.json().then((function(e){H(!1),o({open:!0,vertical:"top",horizontal:"center",message:"Successful.Stay tunned with notifications and announcements",type:"success",autoHide:4e3})})):(H(!1),o({open:!0,vertical:"top",horizontal:"center",message:"something went wrong try again",type:"error",autoHide:5e3}))}))}}catch(d){H(!1),o({open:!0,vertical:"top",horizontal:"center",message:d.message,type:"error",autoHide:6e3})}}function Xe(e){e.target.files[0]&&W(Object(u.a)(Object(u.a)({},R),{},Object(C.a)({},e.target.name,e.target.files[0])))}return r.a.createElement("div",null,r.a.createElement(h.a,null),r.a.createElement(T.a,{anchorOrigin:{vertical:we,horizontal:Te},open:Ne,autoHideDuration:Ie,onClose:Je,key:we+Te},r.a.createElement(hi,{onClose:Je,severity:ze},De)),r.a.createElement(de.a,{className:t.backdrop,open:Pe},r.a.createElement(D.a,{color:"inherit"})),r.a.createElement("form",{style:{margin:"20px"}},r.a.createElement(y.a,{container:!0,component:"main",spacing:2},Z.map((function(e,t){return"College"===e.title?r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(U.a,{fullWidth:!0,id:e.title,options:Fe,getOptionLabel:function(e){return e},onChange:Ve,value:I[e.title],disabled:!0,renderInput:function(t){return r.a.createElement(E.a,Object.assign({name:e.title,fullWidth:!0,required:!0},t,{label:e.title}))}}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required"))):"Email"===e.title?r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",name:e.title,disabled:!0,fullWidth:!0,id:e.title,onChange:Ve,value:I[e.title],label:e.title,autoFocus:!0}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required"))):r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",name:e.title,margin:"dense",required:e.req,fullWidth:!0,id:e.title,onChange:Ve,value:I[e.title]||"",label:e.title,autoFocus:!0}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")))})),be.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{multiline:!0,rows:"5",variant:"outlined",placeholder:e.title,autoComplete:"off",required:e.req,id:e.title,name:e.title,label:e.title,fullWidth:!0,onChange:Ye,value:I[e.title]||""}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")))})),re.map((function(e,a){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(V.a,{component:"fieldset",className:t.formControl},r.a.createElement(Mn.a,{required:e.req,component:"legend"},e.title),r.a.createElement(Jn.a,{class:t.formgroup},e.options.map((function(t){return r.a.createElement(Y.a,{control:r.a.createElement(K.a,{color:"primary",checked:null!==I[e.title]&&I[e.title].includes(t),onChange:(a=e.title,function(e){if(e.target.checked){var t=[];I[a]?(t=I[a]).push(e.target.name):t.push(e.target.name),B(Object(u.a)(Object(u.a)({},I),{},Object(C.a)({},a,t)))}else{var n=I[a],r=n.indexOf(e.target.name);n.splice(r,1),B(Object(u.a)(Object(u.a)({},I),{},Object(C.a)({},a,n)))}}),name:t}),label:t});var a})))),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")))})),ee.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(U.a,{id:e.title,options:e.options.map((function(e){return e})),value:I[e.title],onChange:(a=e.title,function(e,t){B(Object(u.a)(Object(u.a)({},I),{},Object(C.a)({},a,t)))}),renderTags:function(e,t){return e.map((function(e,a){return r.a.createElement(Ke.a,Object.assign({variant:"outlined",label:e},t({index:a})))}))},renderInput:function(t){return r.a.createElement(E.a,Object.assign({required:e.req},t,{name:e.name,label:e.title,placeholder:e.name}))}}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")));var a})),se.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Mn.a,{required:e.req,component:"legend"},e.title),r.a.createElement(Oa.a,{required:e.req,"aria-label":"address",name:e.title,defaultValue:e.options[0],value:I[e.title],onChange:Ze,style:{display:"inline"}},e.options.map((function(t){return r.a.createElement(Y.a,{required:e.req,value:t,control:r.a.createElement(xa.a,{color:"default"}),label:t})}))),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")))})),ge.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(ya.a,{utils:va.a},r.a.createElement(Wn.a,{fullWidth:!0,required:e.req,variant:"dialog",format:"dd MMM yyyy hh:mm a zzz",margin:"normal",id:e.title,label:e.title,name:e.title,value:I[e.title],onChange:(a=e.title,function(e){B(Object(u.a)(Object(u.a)({},I),{},Object(C.a)({},a,e)))}),KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")));var a})),xe.map((function(e,t){return r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{autoComplete:"off",name:e.title,required:e.req,fullWidth:!0,id:e.title,onChange:Ve,value:I[e.title]||"",label:e.title,autoFocus:!0}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")))})),_e.map((function(e,t){return k?r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(O.a,null,e.title),r.a.createElement(ce.a,{download:!0,target:"_blank",href:"https://ellipseapp.com"+"/api/event/registration/get_file?id=".concat(I[e.title]),size:"small",color:"primary"},r.a.createElement(Ll.a,null)),r.a.createElement("input",{id:t,name:e.title,required:e.req,type:"file",onChange:Xe,style:{marginTop:"10px"}}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required"))):r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(O.a,null,e.title),r.a.createElement("input",{id:t,name:e.title,required:e.req,type:"file",onChange:Xe,style:{marginTop:"10px"}}),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},e.req&&"*required")))}))),j&&r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:q,className:t.submit,onClick:Qe},q?r.a.createElement(D.a,{color:"primary",size:24}):"Submit"),!j&&r.a.createElement(O.a,{style:{margin:"20px 0px 10px 0px"}},m),k&&r.a.createElement(f.a,{onClick:Qe,fullWidth:!0,variant:"contained",color:"primary",disabled:q,className:t.submit},q?r.a.createElement(D.a,{color:"primary",size:24}):"Edit")))},bi=a(820),vi=a(808),yi=a(809),ji=a(273),xi=a.n(ji),Oi=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},adminDetails:{display:"flex",justifyContent:"flex-start"},root0:{display:"flex",justifyContent:"flex-start"},avatar:{backgroundColor:e.palette.primary.main,width:e.spacing(7),height:e.spacing(7),marginRight:e.spacing(1)},grid:{borderRadius:e.spacing(3),margin:e.spacing(1),padding:e.spacing(2),backgroundColor:e.palette.secondary.main,maxWidth:"99%",marginTop:e.spacing(2)},root3:{display:"flex",justifyContent:"flex-start",minWidth:e.spacing(30)},root6:{display:"flex",justifyContent:"center"},topBar:{maxHeight:"300px"},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},root2:{textDecorationColor:e.palette.secondary.light,maxWidth:"65%",minWidth:"20%",overflow:"auto",marginLeft:e.spacing(1)},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},message:{display:"flex",justifyContent:"flex-start"},accordion:{backgroundColor:e.palette.secondary.main}}}));var Ci=function(e){var t=Oi(),a=(e.children,e.value),n=(e.url,e.index),l=Object(Ve.a)(e,["children","value","url","index"]),i=localStorage.getItem("token"),o=e.event,c=r.a.useState(null),s=Object(p.a)(c,2),m=s[0],u=s[1],d=r.a.useState(null),f=Object(p.a)(d,2),h=f[0],E=f[1],b=r.a.useState(!1),j=Object(p.a)(b,2),x=j[0],C=j[1];r.a.useEffect((function(){e.individual?_():(u(e.registration),S())}),[e.individual]);var S=function(){C(!0);try{null!==e.registration.team_id&&fetch("https://ellipseapp.com"+"/api/event/get_team_details?id=".concat(e.registration.team_id),{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){E(e[0]),C(!1)}))}))}catch(t){console.log(t)}},_=function(){C(!0);try{fetch("https://ellipseapp.com"+"/api/event/get_user_registration?id=".concat(o._id),{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){u(e[0]),C(!1)}))}))}catch(e){console.log(e)}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},l),a===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.progress},r.a.createElement(Wt.a,{in:x,unmountOnExit:!0},r.a.createElement(D.a,null))),!e.individual&&r.a.createElement("div",{className:t.grid},null!==h&&r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(O.a,null,"Team"),r.a.createElement(v.a,{className:t.root0},r.a.createElement(v.a,{className:t.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:t.avatar,alt:h.team_name,src:"abc.jpg"})),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"h5"},h.team_name)),r.a.createElement(v.a,null,r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},h.description)))))))),e.individual&&r.a.createElement(y.a,{container:!0,component:"main"},null!==m&&r.a.createElement(y.a,{item:!0,xs:12},o.rounds.map((function(a,n){var l=new Date,i=new Date(a.start_date),c=new Date(a.end_date);return r.a.createElement(bi.a,{className:t.accordion},r.a.createElement(vi.a,{expandIcon:r.a.createElement(xi.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(O.a,{className:t.heading},a.title),r.a.createElement(O.a,{color:"textSecondary",style:{marginLeft:"3px"}},l<i?"Starts on "+i.toDateString()+" "+i.toLocaleTimeString():"Ends on "+c.toDateString()+" "+c.toLocaleTimeString())),r.a.createElement(yi.a,null,""!==a.link&&r.a.createElement(O.a,{component:"span",variant:"body1",color:"textSecondary",className:t.inline},r.a.createElement(Ft.a,{componentDecorator:function(e,t,a){return r.a.createElement("a",{target:"blank",style:{color:"#00bdaa",fontWeight:"bold"},href:e,key:a},t)}},a.link))),a.fields.length>0&&r.a.createElement(Ei,{fetchAll:_,registration:m,individual:e.individual,team_id:m.team_id,index:n,team:h,event:o,round:a,fields:a.fields}))})))),!e.individual&&r.a.createElement(y.a,{container:!0,component:"main"},null!==h&&r.a.createElement(y.a,{item:!0,xs:12},o.rounds.map((function(e,a){var n=new Date,l=new Date(e.start_date),i=new Date(e.end_date);return r.a.createElement(bi.a,{className:t.accordion},r.a.createElement(vi.a,{expandIcon:r.a.createElement(xi.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(O.a,{className:t.heading},e.title),r.a.createElement(O.a,{color:"textSecondary",style:{marginLeft:"3px"}},n<l?"Starts on "+l.toDateString()+" "+l.toLocaleTimeString():"Ends on "+i.toDateString()+" "+i.toLocaleTimeString())),r.a.createElement(yi.a,null,""!==e.link&&r.a.createElement(O.a,{component:"span",variant:"body1",color:"textSecondary",className:t.inline},r.a.createElement(Ft.a,{componentDecorator:function(e,t,a){return r.a.createElement("a",{target:"blank",style:{color:"#00bdaa",fontWeight:"bold",margin:"20px"},href:e,key:a},t)}},e.link))),e.fields.length>0&&r.a.createElement(Ei,{fetchAll:S,team_id:m.team_id,index:a,team:h,event:o,round:e,fields:e.fields}))}))))))},Si=a(810),_i=a(215),ki=a.n(_i);var wi=function(e){var t=localStorage.getItem("token"),a=r.a.useContext(We).currentUser,n=e.event,l=r.a.useState({}),i=Object(p.a)(l,2),o=i[0],c=i[1],s=r.a.useContext(Pt).webSocketContext;r.a.useEffect((function(){m()}),[e]);var m=function(){try{fetch("https://ellipseapp.com"+"/api/event/get_team_member_details?id=".concat(e.user_id),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){c(e)}))}))}catch(a){console.log(a)}};return r.a.createElement(da.a,null,r.a.createElement(ga.a,null,r.a.createElement(g.a,null,r.a.createElement(g.a,{alt:o.name,src:o.user_pic?"https://ellipseapp.com"+"/api/image?id=".concat(o.user_pic):"abc.jpg"}))),r.a.createElement(pa.a,{primary:e.id===e.user_id?o.name+" (Team Leader)":o.name,secondary:o.college}),e.admin&&!(a.user_id===e.user_id)&&r.a.createElement(Si.a,null,r.a.createElement(ce.a,{onClick:function(){var r=new Date,l=new FormData;l=JSON.stringify({event_id:n._id,team_id:e.id._id,user_id:e.user_id}),fetch("https://ellipseapp.com/api/event/remove_user_from_team",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:l}).then((function(t){t.json().then((function(t){e.fetchAll(),s&&(s.send(JSON.stringify({action:"team_status_update_message",team_id:e.id._id,msg:{id:e.user_id+Date.now(),user_id:a.user_id,user_name:a.name,user_pic:a.user_pic,message_type:"team_status_update_message",message:o.name+" was removed from the team",date:r.toISOString()}})),s.send(JSON.stringify({action:"team_status_update_status",team_id:e.id._id,users:e.id.members,msg:{id:a.user_id+Date.now(),user_id:a.user_id,user_name:a.name,user_pic:a.profile_pic,message_type:"team_status_update_message",message:a.name+" has left the team",date:r.toISOString()}})))}))}))},edge:"end","aria-label":"delete"},r.a.createElement(ki.a,null)," ",r.a.createElement(O.a,null,"Remove"))))},Ti=a(364),Ni=a.n(Ti);function Di(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var zi=function(e){var t=localStorage.getItem("token"),a=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:6e3}),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useContext(We).currentUser,c=e.event,s=r.a.useState({}),m=Object(p.a)(s,2),d=m[0],f=m[1],h=r.a.useContext(Pt).webSocketContext,E=l.vertical,b=l.horizontal,v=l.open,y=l.message,j=l.type,x=l.autoHide;function C(){i(Object(u.a)(Object(u.a)({},l),{},{open:!1}))}return r.a.useEffect((function(){try{fetch("https://ellipseapp.com"+"/api/event/get_team_member_details?id=".concat(e.user_id),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){f(e)}))}))}catch(a){console.log(a)}}),[e,t]),r.a.createElement(da.a,null,r.a.createElement(T.a,{anchorOrigin:{vertical:E,horizontal:b},open:v,autoHideDuration:x,onClose:C,key:E+b},r.a.createElement(Di,{onClose:C,severity:j},y)),r.a.createElement(ga.a,null,r.a.createElement(g.a,{alt:d.name,src:d.user_pic?"https://ellipseapp.com"+"/api/image?id=".concat(d.user_pic):"abc.lpg"})),r.a.createElement(pa.a,{primary:d.name,secondary:d.college}),r.a.createElement(Si.a,null,r.a.createElement(ce.a,{onClick:function(){var a=new Date,n=new FormData;n=JSON.stringify({event_id:c._id,team_id:e.id._id,user_id:e.user_id}),fetch("https://ellipseapp.com/api/event/accept_user_teamup_request",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:n}).then((function(t){200===t.status?t.json().then((function(t){e.fetchAll(),h&&(h.send(JSON.stringify({action:"team_status_update_message",team_id:e.id._id,msg:{id:e.user_id+Date.now(),user_id:o.user_id,user_name:d.name,user_pic:d.user_pic,message_type:"team_status_update_message",message:d.name+" has joined the team",date:a.toISOString()}})),h.send(JSON.stringify({action:"team_status_update_status",team_id:e.id._id,users:e.id.members.concat([t.updated_user_id]),msg:{id:o.user_id+Date.now(),user_id:o.user_id,user_name:o.name,user_pic:o.profile_pic,message_type:"team_status_update_message",message:o.name+" has left the team",date:a.toISOString()}})))})):201===t.status&&t.json().then((function(e){i({open:!0,vertical:"top",horizontal:"center",message:e.message,type:"error",autoHide:4e3})}))}))},edge:"end","aria-label":"delete"},r.a.createElement(Ni.a,null),r.a.createElement(O.a,null,"Accept"))))};function Ii(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function Bi(e){var t=Object(W.a)(),a=localStorage.getItem("token"),n=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState(!1),s=Object(p.a)(c,2),g=s[0],h=s[1],b=i.vertical,v=i.horizontal,j=i.open,x=i.message,O=i.type,C=i.autoHide,S=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(u.a)(Object(u.a)({},i),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=r.a.useState(null),k=Object(p.a)(_,2),w=k[0],N=k[1],z=r.a.useState(null),I=Object(p.a)(z,2),M=I[0],F=I[1];return r.a.useEffect((function(){N(e.title),F(e.desc)}),[e]),r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:b,horizontal:v},open:j,autoHideDuration:C,onClose:S,key:b+v},r.a.createElement(Ii,{onClose:S,severity:O},x)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"FeedBack"),r.a.createElement(P.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"title",label:"Name",name:"title",fullWidth:!0,disabled:!0,value:w||"",required:!0,onChange:function(e){N(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(E.a,{margin:"dense",id:"desc",label:"Issue Description",name:"desc",fullWidth:!0,value:M||"",required:!0,onChange:function(e){F(e.target.value)}})))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:e.handleClose,color:"primary"},"Cancel"),r.a.createElement(f.a,{onClick:function(){h(!0);try{var t=new FormData;t=JSON.stringify({team_id:e.team_id,desc:M}),fetch("https://ellipseapp.com/api/event/edit_team",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(t){t.json().then((function(t){h(!1),e.handleClose(),o({open:!0,vertical:"top",horizontal:"center",message:"Successfull",type:"success",autoHide:3e3})}))}))}catch(n){h(!1),o({open:!0,vertical:"top",horizontal:"center",message:n.message,type:"error",autoHide:3e3})}},color:"primary"},g?r.a.createElement(D.a,{color:"primary",size:24}):"Save"))))}var Ai=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},adminDetails:{display:"flex",justifyContent:"flex-start"},root0:{display:"flex",justifyContent:"flex-start"},avatar:{backgroundColor:e.palette.primary.main,width:e.spacing(7),height:e.spacing(7),marginRight:e.spacing(1)},grid:{borderRadius:e.spacing(3),margin:e.spacing(1),padding:e.spacing(2),backgroundColor:e.palette.secondary.main,marginTop:e.spacing(2)},root3:{display:"flex",justifyContent:"flex-start",minWidth:e.spacing(30)},root6:{display:"flex",justifyContent:"center"},topBar:{maxHeight:"300px"},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},root2:{textDecorationColor:e.palette.secondary.light,maxWidth:"65%",minWidth:"20%",overflow:"auto",marginLeft:e.spacing(1)},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},message:{display:"flex",justifyContent:"flex-start"}}}));var Pi=function(e){var t=Ai(),a=r.a.useContext(We).currentUser,n=(e.children,e.value),l=(e.url,e.index),i=Object(Ve.a)(e,["children","value","url","index"]),o=localStorage.getItem("token"),c=e.event,s=e.registration,m=r.a.useState({}),u=Object(p.a)(m,2),d=u[0],h=u[1],E=r.a.useState(!1),b=Object(p.a)(E,2),j=b[0],x=b[1],C=r.a.useState(!1),S=Object(p.a)(C,2),_=S[0],k=S[1],w=r.a.useContext(Pt).webSocketContext;r.a.useEffect((function(){T()}),[e.registration]);var T=function(){try{null!==s.team_id&&fetch("https://ellipseapp.com"+"/api/event/get_team_details?id=".concat(s.team_id),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){h(e[0]),e[0].user_id===a.user_id&&x(!0)}))}))}catch(e){console.log(e)}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==l},i),n===l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.grid},r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{className:t.root0},r.a.createElement(v.a,{className:t.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:t.avatar,alt:d.team_name,src:"abc.jpg"})),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"h5"},d.team_name)),r.a.createElement(v.a,null,r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},d.description)))))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},!j&&r.a.createElement(f.a,{onClick:function(){var t=new Date,n=new FormData;n=JSON.stringify({team_id:d._id,event_id:c._id}),fetch("https://ellipseapp.com/api/event/leave_team",{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:n}).then((function(n){200===n.status&&n.json().then((function(n){e.getData(),w&&(w.send(JSON.stringify({action:"team_status_update_message",team_id:s.team_id,msg:{id:a.user_id+Date.now(),user_id:a.user_id,user_name:a.name,user_pic:a.profile_pic,message_type:"team_status_update_message",message:a.name+" has left the team",date:t.toISOString()}})),w.send(JSON.stringify({action:"team_status_update_status",team_id:s.team_id,users:d.members,msg:{id:a.user_id+Date.now(),user_id:a.user_id,user_name:a.name,user_pic:a.profile_pic,message_type:"team_status_update_message",message:a.name+" has left the team",date:t.toISOString()}})))}))}))}},"Leave"),j&&r.a.createElement(f.a,{onClick:function(){k(!0)}},"Edit"),j&&r.a.createElement(f.a,{onClick:function(){var t=new FormData;t=JSON.stringify({team_id:d._id}),fetch("https://ellipseapp.com/api/event/delete_team",{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(t){t.json().then((function(t){e.getData()}))}))}},"Delete")))),r.a.createElement(y.a,{container:!0,component:"main"},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(O.a,{color:"textSecondary",style:{marginTop:"7px"}},"Team Members"),void 0!==d.members&&r.a.createElement(fa.a,{dense:!0},d.members.map((function(t){return r.a.createElement(wi,{fetchAll:T,admin:j,event:e.event,id:d,user_id:t})})))),r.a.createElement(y.a,{item:!0,xs:12,md:6},j&&r.a.createElement(O.a,{color:"textSecondary",style:{marginTop:"7px"}},"Team up Requests"),j&&r.a.createElement(fa.a,{dense:!0},d.received_requests.map((function(t){return r.a.createElement(zi,{fetchAll:T,event:e.event,id:d,user_id:t})}))))),r.a.createElement(Bi,{open:_,handleClose:function(){k(!1),T()},team_id:d._id,title:d.team_name,desc:d.description}))))},Ri=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(1),alignContent:"center"},button:{margin:e.spacing(1),borderRadius:e.spacing(2),maxWidth:"260px"}}}));var Wi=function(e){var t=Ri(),a=(e.children,e.value),n=(e.url,e.index),l=Object(Ve.a)(e,["children","value","url","index"]),i=localStorage.getItem("token"),o=e.event;return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},l),a===n&&r.a.createElement("div",{className:t.root},r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=t.target.elements,n=a.name,r=a.desc,l=new FormData;l=JSON.stringify({team_name:n.value,desc:r.value,event_id:o._id}),fetch("https://ellipseapp.com/api/event/create_team",{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:l}).then((function(t){t.json().then((function(t){e.getData()}))}))}},r.a.createElement(E.a,{variant:"outlined",label:"Team Name",required:!0,name:"name",fullWidth:!0,margin:"dense"}),r.a.createElement(E.a,{variant:"outlined",label:"Description",required:!0,name:"desc",fullWidth:!0,margin:"dense"}),r.a.createElement(v.a,{display:"flex",justifyContent:"center"},r.a.createElement(f.a,{type:"submit",fullWidth:!0,color:"primary",className:t.button,variant:"contained"},"Create Team")))))};function Mi(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var Fi=Object(S.a)((function(e){return{root:{marginBottom:e.spacing(2),padding:e.spacing(0)},button:{margin:e.spacing(1),borderRadius:e.spacing(2),maxWidth:"260px"},adminDetails:{display:"flex",justifyContent:"flex-start"},root0:{display:"flex",justifyContent:"flex-start"},root1:{display:"flex",justifyContent:"flex-start",borderRadius:e.spacing(3),margin:e.spacing(1),padding:e.spacing(1),backgroundColor:"rgb(0, 189, 170,0.2)"},avatar:{backgroundColor:e.palette.primary.main,width:e.spacing(7),height:e.spacing(7),marginRight:e.spacing(1)},avatar2:{backgroundColor:e.palette.primary.main,width:e.spacing(6),height:e.spacing(6),marginRight:e.spacing(1)},grid:{borderRadius:e.spacing(3),margin:e.spacing(1),padding:e.spacing(2),backgroundColor:"rgb(0, 189, 170,0.2)",maxWidth:"99%"},progress:{display:"flex",flexDirection:"column",alignItems:"center"},search:{backgroundColor:Object(ge.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ge.c)(e.palette.common.white,.25)},maxWidth:"300px",padding:e.spacing(.5)}}}));var qi=function(e){var t=Fi(),a=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:6e3}),n=Object(p.a)(a,2),l=n[0],i=n[1],o=(e.children,e.value),c=(e.url,e.index),s=Object(Ve.a)(e,["children","value","url","index"]),m=localStorage.getItem("token"),d=e.event,h=r.a.useState([]),b=Object(p.a)(h,2),j=b[0],x=b[1],C=r.a.useState(null),S=Object(p.a)(C,2),_=S[0],k=S[1],w=r.a.useState([]),N=Object(p.a)(w,2),z=N[0],I=N[1],B=r.a.useState(!1),A=Object(p.a)(B,2),P=A[0],R=A[1],W=r.a.useState(null),M=Object(p.a)(W,2),F=M[0],q=M[1],H=r.a.useState(!1),L=Object(p.a)(H,2),G=L[0],J=L[1],V=r.a.useContext(We).currentUser,Y=r.a.useContext(Pt).webSocketContext,K=l.vertical,Z=l.horizontal,Q=l.open,X=l.message,$=l.type,ee=l.autoHide;function te(){"Successful.Stay tunned with notifications and announcements"===X&&e.fetchAll(),i(Object(u.a)(Object(u.a)({},l),{},{open:!1}))}r.a.useEffect((function(){ae()}),[]);var ae=function(){J(!0);try{fetch("https://ellipseapp.com"+"/api/event/get_all_teams?id=".concat(d._id),{headers:{Authorization:"Bearer ".concat(m),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){x(e),J(!1)}))}))}catch(e){console.log(e)}try{fetch("https://ellipseapp.com"+"/api/event/get_user_registration?id=".concat(d._id),{headers:{Authorization:"Bearer ".concat(m),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){I(e[0].sent_requests)}))}))}catch(e){console.log(e)}},ne=function(e,t){return function(){var a=new Date,n=new FormData;n=JSON.stringify({event_id:d._id,team_id:e}),fetch("https://ellipseapp.com/api/event/user_teamup_request",{headers:{Authorization:"Bearer ".concat(m),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:n}).then((function(n){200===n.status&&n.json().then((function(n){k(null),Y&&(Y.send(JSON.stringify({action:"team_status_update_message",team_id:e,msg:{id:V.user_id+Date.now(),user_id:V.user_id,user_name:V.name,user_pic:V.profile_pic,message_type:"team_status_update_message",message:V.name+" has requested to join the team",date:a.toISOString()}})),Y.send(JSON.stringify({action:"team_status_update_status",team_id:e,users:t.members,msg:{id:V.user_id+Date.now(),user_id:V.user_id,user_name:V.name,user_pic:V.profile_pic,message_type:"team_status_update_message",message:V.name+" has requested to join the team",date:a.toISOString()}})),ae())}))}))}},re=function(e){return function(){P?F!=={}?F===e?(R(!1),q({})):q(e):(R(!1),q({})):(R(!0),q(e))}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:o!==c},s),o===c&&r.a.createElement("div",{className:t.root},r.a.createElement(T.a,{anchorOrigin:{vertical:K,horizontal:Z},open:Q,autoHideDuration:ee,onClose:te,key:K+Z},r.a.createElement(Mi,{onClose:te,severity:$},X)),r.a.createElement("div",{className:t.progress},r.a.createElement(Wt.a,{in:G,unmountOnExit:!0},r.a.createElement(D.a,null))),0!==z.length&&r.a.createElement(O.a,{variant:"body2",color:"textSecondary"},"Sent Requests"),z.map((function(a){var n,l,i=j.find((function(e){return e._id===a}));return i?r.a.createElement(y.a,{container:!0,component:"main",className:t.grid},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{className:t.root0},r.a.createElement(v.a,{className:t.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:t.avatar,alt:i.team_name},i.team_name[0])),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"h5"},i.team_name)),r.a.createElement(v.a,null,r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},i.description),P&&i===F&&r.a.createElement("div",null,i.members.map((function(t,a){return r.a.createElement(wi,{admin:!1,event:e.event,id:i,user_id:t})})))))))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(f.a,{disabled:G,onClick:re(i)},P&&i===F?"Hide Members":"View Members"),r.a.createElement(f.a,{disabled:G,onClick:(n=i._id,l=i,function(){var e=new FormData;e=JSON.stringify({event_id:d._id,team_id:n}),fetch("https://ellipseapp.com/api/event/user_teamwithdraw_request",{headers:{Authorization:"Bearer ".concat(m),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:e}).then((function(e){200===e.status&&e.json().then((function(e){var t=new Date;Y&&(Y.send(JSON.stringify({action:"team_status_update_message",team_id:n,msg:{id:V.user_id+Date.now(),user_id:V.user_id,user_name:V.name,user_pic:V.profile_pic,message_type:"team_status_update_message",message:V.name+" has withdrawn the team join request",date:t.toISOString()}})),Y.send(JSON.stringify({action:"team_status_update_status",team_id:n,users:l.members,msg:{id:V.user_id+Date.now(),user_id:V.user_id,user_name:V.name,user_pic:V.profile_pic,message_type:"team_status_update_message",message:V.name+" has withdrawen the team join request",date:t.toISOString()}})),ae())}))}))})},"Withdraw")))):null})),r.a.createElement(O.a,{variant:"body2",color:"textSecondary"},"All Teams"),r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(U.a,{id:"search",placeholder:"Search..",options:j,fullWidth:!0,variant:"filled",className:t.search,getOptionLabel:function(e){return e.team_name},onChange:function(e,t){k(t)},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{placeholder:"Search..",className:t.inputInput}))}})),!G&&0===j.length&&r.a.createElement(O.a,null,"No Teams Found Create one"),null===_?r.a.createElement("div",null,j.map((function(a){return z.includes(a._id)?null:r.a.createElement(y.a,{container:!0,component:"main",className:t.grid},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{className:t.root0},r.a.createElement(v.a,{className:t.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:t.avatar,alt:a.team_name},a.team_name[0])),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"h5"},a.team_name)),r.a.createElement(v.a,null,r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},a.description),P&&a===F&&r.a.createElement("div",null,a.members.map((function(t,n){return r.a.createElement(wi,{admin:!1,event:e.event,id:a,user_id:t})})))))))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(f.a,{disabled:G,onClick:re(a)},P&&a===F?"Hide Members":"View Members"),r.a.createElement(f.a,{disabled:G,onClick:ne(a._id,a)},"Request"))))}))):r.a.createElement("div",null,!z.includes(_._id)&&r.a.createElement(y.a,{container:!0,component:"main",className:t.grid},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{className:t.root0},r.a.createElement(v.a,{className:t.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:t.avatar,alt:_.team_name},_.team_name[0])),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"h5"},_.team_name)),r.a.createElement(v.a,null,r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},_.description),P&&_===F&&r.a.createElement("div",null,_.members.map((function(t,a){return r.a.createElement(wi,{admin:!1,event:e.event,id:_,user_id:t})})))))))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(f.a,{disabled:G,onClick:re(_)},P&&_===F?"Hide Members":"View Members"),r.a.createElement(f.a,{disabled:G,onClick:ne(_._id,_)},"Request")))))))},Hi=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start"},root2:{textDecorationColor:e.palette.secondary.light,width:"95%",overflow:"auto",marginLeft:e.spacing(1)},root3:{display:"flex",justifyContent:"flex-start","&:hover":{background:"rgb(0, 189, 170,0.3)"}},root6:{display:"flex",justifyContent:"center"},topBar:{},root4:{marginRight:e.spacing(0)},root5:{marginLeft:e.spacing(0),maxWidth:"65%",overflow:"auto"},bottomBar:{position:"absolute",right:e.spacing(4),bottom:e.spacing(4),left:"200px",padding:e.spacing(0,3),backgroundColor:e.palette.background.paper,borderRadius:e.spacing(5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"},message:{display:"flex",justifyContent:"flex-start"},message2:{display:"none"},message3:{display:"flex",justifyContent:"flex-end"},inline:{whiteSpace:"pre-line"},avatar:{backgroundColor:e.palette.primary.main}}}));function Li(e){e.children;var t=e.value,a=(e.url,e.index),n=Object(Ve.a)(e,["children","value","url","index"]),l=r.a.useContext(We).currentUser,i=localStorage.getItem("token"),o=e.event,c=e.open,s=r.a.useState(!1),m=Object(p.a)(s,2),u=m[0],d=m[1],g=e.registration,f=r.a.useState(null),h=Object(p.a)(f,2),E=h[0],b=h[1],y=r.a.useState([]),j=Object(p.a)(y,2),x=j[0],O=j[1],C=Hi(),S=null,_=r.a.useContext(Pt).webSocketContext,k=r.a.useContext(Rt).teamChatMessages,w=r.a.useContext(Rt).setTeamChatMessages,T=r.a.useContext(Rt),N=T.deletedTeamChatMessages,z=T.setDeletedTeamChatMessages,I=r.a.useState(!1),B=Object(p.a)(I,2),A=B[0],P=B[1],R=r.a.useState({}),W=Object(p.a)(R,2),M=W[0],F=W[1],q=function(){_&&_.send(JSON.stringify({action:"close_team_socket",team_id:g.team_id,msg:{user_id:l.user_id}}))};window.onbeforeunload=function(){q()},r.a.useEffect((function(){return _&&_.send(JSON.stringify({action:"join_team_room",team_id:g.team_id,msg:{user_id:l.user_id}})),function(){q()}}),[l,g,_]),r.a.useEffect((function(){k.forEach((function(e){var t=e.msg;e.team_id===g.team_id&&(O((function(e){return[].concat(Object(H.a)(e),[t])})),w(k.filter((function(t){return t!==e}))))}))}),[k,g]),r.a.useEffect((function(){N.forEach((function(e){var t=e.msg;e.team_id===g.team_id&&(O(x.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t)}))),z(N.filter((function(t){return t!==e}))))}))}),[N]),r.a.useEffect((function(){return d(!0),fetch("https://ellipseapp.com"+"/api/chat/load_team_chat_messages?id=".concat(g.team_id),{headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){O(e),d(!1)}))})),null!=E&&E.scrollIntoView({behavior:"smooth"}),function(){O([]),Object(Ye.a)()}}),[o._id,i]),r.a.useEffect((function(){null!=E&&E.scrollIntoView({behavior:"smooth"})}),[u]),r.a.useEffect((function(){return null!=E&&E.scrollIntoView({behavior:"smooth"}),function(){Object(Ye.a)()}}),[x,E]);var L=function(e){return function(){F(e),P(!0)}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==a},n),t===a&&r.a.createElement("div",null,r.a.createElement("div",{className:C.progress},r.a.createElement(Wt.a,{in:u,unmountOnExit:!0},r.a.createElement(D.a,null))),r.a.createElement(v.a,{className:C.topBar},x.map((function(e,t){var a=new Date,n=new Date(e.date);return n.toDateString()!==S?(S=n.toDateString(),"team_status_update_message"===e.message_type?r.a.createElement(dr,{handleMessageDeleteButton:L,message:e,currentDate:a,messageDate:n,index:t}):r.a.createElement(Gt,{handleMessageDeleteButton:L,message:e,currentDate:a,messageDate:n,index:t})):"team_status_update_message"===e.message_type?r.a.createElement(gr,{handleMessageDeleteButton:L,message:e,currentDate:a,messageDate:n,index:t}):r.a.createElement(Jt,{handleMessageDeleteButton:L,message:e,currentDate:a,messageDate:n,index:t})})),r.a.createElement("div",{style:{float:"left",clear:"both",paddingBottom:"70px"},ref:function(e){b(e)}})),r.a.createElement("div",null,r.a.createElement(At,{loading:u,open:c,handleSend:function(e){var t=new Date;_&&_.send(JSON.stringify({action:"send_team_message",team_id:g.team_id,msg:{id:l.user_id+Date.now(),user_id:l.user_id,user_name:l.name,user_pic:l.profile_pic,message_type:"normal_text_message",message:e,date:t.toISOString()}})),null!=E&&E.scrollIntoView({behavior:"smooth"})}})),r.a.createElement(Vt,{open:A,message:M,setOpen:P,handleDeleteConfirmation:function(e){return function(){_.send(JSON.stringify({action:"delete_team_chat_message",team_id:g.team_id,msg:e})),O(x.filter((function(t){return t!==e}))),P(!1)}}})))}var Gi=Object(S.a)((function(e){return{root:{alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(0),alignContent:"center"},media:{},avatar:{backgroundColor:e.palette.primary.main},buttonDiv:{marginLeft:"auto"},button:{margin:e.spacing(.5)},large:{width:e.spacing(17),height:e.spacing(17)},tab:{flexGrow:1,background:e.palette.secondary.main,alignItems:"center"},paper:{padding:"6px 16px"},secondaryTail:{backgroundColor:e.palette.secondary.main},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.secondary.main},progress:{display:"flex",flexDirection:"column",alignItems:"center"}}}));var Ui=function(e){var t=Gi(),a=(e.children,e.value),n=(e.url,e.index),l=Object(Ve.a)(e,["children","value","url","index"]),i=r.a.useContext(We).currentUser,o=r.a.useState(!1),c=Object(p.a)(o,2),s=c[0],m=c[1],u=localStorage.getItem("token"),d=e.event,g=r.a.useState(!1),f=Object(p.a)(g,2),h=f[0],E=f[1],b=r.a.useState({}),v=Object(p.a)(b,2),y=v[0],j=v[1],x=e.subIndexValue,C=r.a.useContext(Pt).webSocketContext,S=r.a.useContext(Rt).teamUpdateStatus;r.a.useEffect((function(){k()}),[S]),r.a.useEffect((function(){k()}),[d,u]);var _=function(){y!=={}&&C.send(JSON.stringify({action:"close_team_update_status_socket",team_id:y.team_id,msg:{user_id:i.user_id}}))};window.onbeforeunload=function(){_()},r.a.useEffect((function(){return C&&y!=={}&&C.send(JSON.stringify({action:"join_team_update_status",team_id:y.team_id,msg:{user_id:i.user_id}})),function(){_()}}),[y,i,C]);var k=function(){m(!0);try{fetch("https://ellipseapp.com"+"/api/event/get_user_registration?id=".concat(d._id),{headers:{Authorization:"Bearer ".concat(u),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){j(e[0]),E(e[0].teamed_up),m(!1)}))}))}catch(e){console.log(e)}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n},l),a===n&&r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.progress},r.a.createElement(Wt.a,{in:s,unmountOnExit:!0},r.a.createElement(D.a,null))),h&&!s&&r.a.createElement(Ci,{getData:k,individual:!1,value:x,registration:y,index:0,event:e.event}),h&&!s&&r.a.createElement(Pi,{getData:k,value:x,registration:y,index:1,event:e.event}),h&&!s&&2===x&&r.a.createElement(Li,{open:e.open,value:x,registration:y,index:2,event:e.event}),!h&&0===x&&r.a.createElement(O.a,null,"Join team or create a team"),!h&&2===x&&r.a.createElement(O.a,null,"Join team or create a team"),!h&&r.a.createElement(Wi,{value:x,index:1,event:e.event,getData:k}),!h&&!s&&r.a.createElement(qi,{value:x,index:1,event:e.event}),h&&4===x&&r.a.createElement(O.a,null,"Team created or joined, delete to join other teams")))};function Ji(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var Vi=Object(S.a)((function(e){return{root:{marginBottom:e.spacing(2),padding:e.spacing(0)},button:{margin:e.spacing(1),borderRadius:e.spacing(2),maxWidth:"260px"},adminDetails:{display:"flex",justifyContent:"flex-start"},root0:{display:"flex",justifyContent:"flex-start"},root1:{display:"flex",justifyContent:"flex-start",borderRadius:e.spacing(3),margin:e.spacing(1),padding:e.spacing(1),backgroundColor:"rgb(0, 189, 170,0.2)"},avatar:{backgroundColor:e.palette.primary.main,width:e.spacing(7),height:e.spacing(7),marginRight:e.spacing(1)},avatar2:{backgroundColor:e.palette.primary.main,width:e.spacing(6),height:e.spacing(6),marginRight:e.spacing(1)},grid:{borderRadius:e.spacing(3),margin:e.spacing(1),padding:e.spacing(2),backgroundColor:e.palette.secondary.main,maxWidth:"99%"},progress:{display:"flex",flexDirection:"column",alignItems:"center"}}}));var Yi=function(e){var t=Vi(),a=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:6e3}),n=Object(p.a)(a,2),l=n[0],i=n[1],o=(e.children,e.value),c=(e.url,e.index),s=Object(Ve.a)(e,["children","value","url","index"]),m=localStorage.getItem("token"),d=e.event,h=r.a.useState([]),E=Object(p.a)(h,2),b=E[0],j=E[1],x=r.a.useState(!1),C=Object(p.a)(x,2),S=C[0],_=C[1],k=r.a.useState(null),w=Object(p.a)(k,2),N=w[0],z=w[1],I=r.a.useState(!1),B=Object(p.a)(I,2),A=B[0],P=B[1],R=l.vertical,W=l.horizontal,M=l.open,F=l.message,q=l.type,H=l.autoHide;function L(){"Successful.Stay tunned with notifications and announcements"===F&&e.fetchAll(),i(Object(u.a)(Object(u.a)({},l),{},{open:!1}))}r.a.useEffect((function(){G()}),[]);var G=function(){P(!0);try{fetch("https://ellipseapp.com"+"/api/event/get_all_teams?id=".concat(d._id),{headers:{Authorization:"Bearer ".concat(m),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){j(e),P(!1)}))}))}catch(e){console.log(e)}},U=function(e){return function(){S?N!=={}?N===e?(_(!1),z({})):z(e):(_(!1),z({})):(_(!0),z(e))}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:o!==c},s),o===c&&r.a.createElement("div",{className:t.root},r.a.createElement(T.a,{anchorOrigin:{vertical:R,horizontal:W},open:M,autoHideDuration:H,onClose:L,key:R+W},r.a.createElement(Ji,{onClose:L,severity:q},F)),r.a.createElement("div",{className:t.progress},r.a.createElement(Wt.a,{in:A,unmountOnExit:!0},r.a.createElement(D.a,null))),r.a.createElement(O.a,{variant:"body2",color:"textSecondary"},"All Teams"),!A&&0===b.length&&r.a.createElement(O.a,null,"No Teams Found"),r.a.createElement("div",null,b.map((function(a){return r.a.createElement(y.a,{container:!0,component:"main",className:t.grid},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{className:t.root0},r.a.createElement(v.a,{className:t.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:t.avatar,alt:a.team_name},a.team_name[0])),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"h5"},a.team_name)),r.a.createElement(v.a,null,r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},a.description),S&&a===N&&r.a.createElement("div",null,a.members.map((function(t,n){return r.a.createElement(wi,{admin:!1,event:e.event,id:a,user_id:t})})))))))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(f.a,{disabled:A,onClick:U(a)},S&&a===N?"Hide Members":"View Members"))))})))))},Ki=Object(S.a)((function(e){return{progress:{display:"flex",flexDirection:"column",alignItems:"center"}}}));function Zi(e){var t=Ki();return r.a.createElement("div",{className:t.progress},r.a.createElement(Wt.a,{in:e.loading,unmountOnExit:!0},r.a.createElement(D.a,null)))}var Qi=Object(S.a)((function(e){return{icons:Object(C.a)({position:"absolute",right:e.spacing(1),top:e.spacing(1)},e.breakpoints.down("sm"),{display:"none"}),root:{},bottomTags:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1)},dialog:{minHeight:"90vh",maxHeight:"90vh"},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.secondary.main,padding:e.spacing(1)},bottomBar:{display:"flex",width:"90%",backgroundColor:e.palette.secondary.main},field:{width:"100%"},action:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},dialogContent:Object(C.a)({},e.breakpoints.down("md"),{padding:e.spacing(1)}),mobileHead:Object(C.a)({},e.breakpoints.up("md"),{display:"none"}),desktopHead:Object(C.a)({},e.breakpoints.up("md"),{display:"none"})}}));function Xi(e){var t=r.a.useState(!1),a=Object(p.a)(t,2),n=a[0],l=a[1],i=Qi(),o=Object(W.a)(),c=r.a.useState(null),s=Object(p.a)(c,2),m=s[0],u=s[1],d=r.a.useState([]),g=Object(p.a)(d,2),h=g[0],E=g[1],b=e.event,v=r.a.useState([]),y=Object(p.a)(v,2),j=y[0],x=y[1],C=function(){e.setOpen(!1),u(null),E([])};return r.a.useEffect((function(){b.rounds.forEach((function(t){t.title===e.submission.title&&x(t.fields)})),null!==e.submission&&null!==e.submission.submission_form&&(E(Object.keys(e.submission.submission_form)),u(e.submission.submission_form),l(!1))}),[e,b]),r.a.createElement("div",null,r.a.createElement(B.a,{open:e.open,onClose:C,scroll:"paper","aria-labelledby":"submission",fullWidth:!0,maxWidth:"md",PaperProps:{style:{backgroundColor:o.palette.secondary.main,boxShadow:"none"}},classes:{paper:i.dialog}},r.a.createElement(R.a,{id:"scroll-dialog-title"},e.name,r.a.createElement("div",{className:i.icons},r.a.createElement(ce.a,{"aria-label":"share"},r.a.createElement(Fe.a,null)),r.a.createElement(ce.a,{"aria-label":"close",className:i.closeButton,onClick:C},r.a.createElement(He.a,{fontSize:"large"})))),r.a.createElement(P.a,{dividers:!0},r.a.createElement(Zi,{loading:n}),null!==m&&0!==h.length&&r.a.createElement(Qn.a,{id:"description",tabIndex:-1},h.map((function(e,t){return"file"===j[t].field?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,e),r.a.createElement(ce.a,{download:!0,target:"_blank",href:"https://ellipseapp.com"+"/api/event/registration/get_file?id=".concat(m[e]),size:"small",color:"primary"},r.a.createElement(Ll.a,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,e),r.a.createElement(O.a,{variant:"h4",color:"primary"},r.a.createElement(Ft.a,{componentDecorator:function(e,t,a){return r.a.createElement("a",{target:"blank",style:{color:"red",fontWeight:"bold"},href:e,key:a},t)}},m[e])))})))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:C,color:"primary"},"Dismiss"))))}function $i(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}function eo(e){var t=Object(W.a)(),a=r.a.useState(null),n=Object(p.a)(a,2),l=n[0],i=n[1],o=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:300}),c=Object(p.a)(o,2),s=c[0],g=c[1],h=s.vertical,b=s.horizontal,v=s.open,j=s.message,x=s.type,O=s.autoHide;r.a.useEffect((function(){e.reg&&i(e.reg.share_link)}),[e]);var C=function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(Object(u.a)(Object(u.a)({},s),{},{open:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:g({open:!0,vertical:"top",horizontal:"center",message:"Copied to clipboard",type:"success",autoHide:3e3}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),g({open:!0,vertical:"top",horizontal:"center",message:e.t0.message,type:"error",autoHide:4e3});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){e.setOpen(!1)};return r.a.createElement("div",null,r.a.createElement(T.a,{anchorOrigin:{vertical:h,horizontal:b},open:v,autoHideDuration:O,onClose:C,key:h+b},r.a.createElement($i,{onClose:C,severity:x},j)),r.a.createElement(B.a,{open:e.open,fullWidth:!0,PaperProps:{style:{backgroundColor:t.palette.secondary.main,boxShadow:"none"}},onClose:_,"aria-labelledby":"form-dialog-title"},r.a.createElement(P.a,null,r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:11},r.a.createElement(E.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"title",label:"Share Link",name:"title",fullWidth:!0,value:l,required:!0,onChange:function(e){i(e.target.value)}})),r.a.createElement(y.a,{item:!0,xs:1},r.a.createElement(ce.a,{onClick:function(){return S(l)}},r.a.createElement(Ge.a,null))))),r.a.createElement(A.a,null,r.a.createElement(f.a,{onClick:_,color:"primary"},"Dismiss"))))}var to=Object(S.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},adminDetails:{display:"flex",justifyContent:"flex-start"},root0:{display:"flex",justifyContent:"flex-start"},root1:{display:"flex",justifyContent:"flex-start",borderRadius:e.spacing(3),margin:e.spacing(1),padding:e.spacing(1),backgroundColor:"rgb(0, 189, 170,0.2)"},avatar:{backgroundColor:e.palette.primary.main,width:e.spacing(7),height:e.spacing(7),marginRight:e.spacing(1)},grid:{borderRadius:e.spacing(3),margin:e.spacing(1),padding:e.spacing(2),backgroundColor:e.palette.secondary.main,maxWidth:"99%"},roundButton:{borderRadius:e.spacing(3),margin:e.spacing(1)},progress:{display:"flex",flexDirection:"column",alignItems:"center"}}}));var ao=function(e){var t=to(),a=e.event,n=localStorage.getItem("token"),l=r.a.useState([]),i=Object(p.a)(l,2),o=i[0],c=i[1],s=r.a.useState([]),m=Object(p.a)(s,2),u=m[0],d=m[1],h=r.a.useState(!1),E=Object(p.a)(h,2),b=E[0],j=E[1],x=r.a.useState(null),C=Object(p.a)(x,2),S=C[0],_=C[1],k=r.a.useState(!1),w=Object(p.a)(k,2),T=w[0],N=w[1],z=r.a.useState(!1),I=Object(p.a)(z,2),B=I[0],A=I[1],P=r.a.useState(null),R=Object(p.a)(P,2),W=R[0],M=R[1],F=r.a.useState(null),q=Object(p.a)(F,2),H=q[0],L=q[1],G=r.a.useState(!1),U=Object(p.a)(G,2),J=U[0],V=U[1];r.a.useEffect((function(){a.isTeamed?K():Y()}),[a]);var Y=function(){N(!0);try{fetch("https://ellipseapp.com"+"/api/event/registeredEvents?id=".concat(a._id),{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){c(e),N(!1)}))}))}catch(e){console.log(e)}},K=function(){N(!0);try{fetch("https://ellipseapp.com"+"/api/event/get_all_teams?id=".concat(a._id),{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){d(e),N(!1)}))}))}catch(e){console.log(e)}},Z=function(e){return function(){b?S!=={}?S===e?(j(!1),_({})):_(e):(j(!1),_({})):(j(!0),_(e))}},Q=function(e,t){return function(){M(e),L(t),A(!0)}},X=function(e,t,r,l){return function(){N(!0);var i,o=new FormData;i=e?{is_teamed:e,event_id:a._id,user_id:t,round_title:r,team_id:l}:{is_teamed:e,event_id:a._id,user_id:t,round_title:r},o=JSON.stringify(i),fetch("https://ellipseapp.com/api/event/give_access_round",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:o}).then((function(e){200===e.status&&e.json().then((function(e){N(!1),a.isTeamed?K():Y()}))}))}},$=function(e,t,r,l){return function(){N(!0);var i,o=new FormData;i=e?{is_teamed:e,event_id:a._id,user_id:t,round_title:r,team_id:l}:{is_teamed:e,event_id:a._id,user_id:t,round_title:r},o=JSON.stringify(i),fetch("https://ellipseapp.com/api/event/remove_access_round",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:o}).then((function(e){200===e.status&&e.json().then((function(e){N(!1),a.isTeamed?K():Y()}))}))}},ee=function(e){return function(){L(e),V(!0)}};return r.a.createElement("div",null,r.a.createElement("div",{className:t.progress},r.a.createElement(Wt.a,{in:T,unmountOnExit:!0},r.a.createElement(D.a,null))),r.a.createElement(O.a,null,"All Submissions"),u.map((function(a){return r.a.createElement(y.a,{container:!0,component:"main",className:t.grid},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{className:t.root0},r.a.createElement(v.a,{className:t.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:t.avatar,alt:a.team_name},a.team_name[0])),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"h5"},a.team_name)),r.a.createElement(v.a,null,r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},a.description),b&&a===S&&r.a.createElement("div",null,r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},"Submissions"),a.submissions.map((function(e,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{onClick:Q(e,a),variant:"outlined",className:t.roundButton},e.title),!e.submission_access&&r.a.createElement(f.a,{disabled:T,onClick:X(!0,a.user_id,e.title,a._id)},"Give Access"),e.submission_access&&r.a.createElement(f.a,{disabled:T,onClick:$(!0,a.user_id,e.title,a._id)},"Remove Access"),r.a.createElement("br",null))})))))))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(f.a,{disabled:T,onClick:Z(a)},b&&a===S?"Hide":"View"),r.a.createElement(f.a,{disabled:T,onClick:ee(a)},"Share")),r.a.createElement(v.a,null,b&&a===S&&r.a.createElement("div",null,r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},"Members"),a.members.map((function(t,n){return r.a.createElement(wi,{admin:!1,event:e.event,id:a,user_id:t})}))))))})),o.map((function(e,a){return r.a.createElement(y.a,{container:!0,component:"main",className:t.grid},r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{className:t.root0},r.a.createElement(v.a,{className:t.adminDetails},r.a.createElement(v.a,null,r.a.createElement(g.a,{className:t.avatar,alt:e.data.Name},e.data.Name[0])),r.a.createElement(v.a,null,r.a.createElement(v.a,null,r.a.createElement(O.a,{variant:"h5"},e.data.Name)),r.a.createElement(v.a,null,r.a.createElement(O.a,{color:"textSecondary",variant:"body2"}," "),b&&e===S&&r.a.createElement("div",null,r.a.createElement(O.a,{color:"textSecondary",variant:"body2"},"Submissions"),e.submissions.map((function(a,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{onClick:Q(a,e),variant:"outlined",className:t.roundButton},a.title),!a.submission_access&&r.a.createElement(f.a,{disabled:T,onClick:X(!1,e.user_id,a.title)},"Give Access"),a.submission_access&&r.a.createElement(f.a,{disabled:T,onClick:$(!1,e.user_id,a.title,e._id)},"Remove Access"),r.a.createElement("br",null))})))))))),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(f.a,{disabled:T,onClick:Z(e)},b&&e===S?"Hide":"View"),r.a.createElement(f.a,{disabled:T,onClick:ee(e)},"Share"))))})),B&&a.isTeamed&&r.a.createElement(Xi,{event:a,reg:H,name:H&&H.team_name,submission:W,open:B,setOpen:A}),B&&!a.isTeamed&&r.a.createElement(Xi,{event:a,reg:H,name:H&&H.data.Name,submission:W,open:B,setOpen:A}),r.a.createElement(eo,{open:J,setOpen:V,reg:H}))};var no=function(e){var t=localStorage.getItem("token"),a=r.a.useContext(We).currentUser,n=e.event,l=r.a.useState({}),i=Object(p.a)(l,2),o=i[0],c=i[1];r.a.useEffect((function(){s()}),[e]);var s=function(){try{fetch("https://ellipseapp.com"+"/api/event/get_team_member_details?id=".concat(e.user_id),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){c(e)}))}))}catch(a){console.log(a)}};return r.a.createElement(da.a,null,r.a.createElement(ga.a,null,r.a.createElement(g.a,null,r.a.createElement(g.a,{alt:o.name,src:o.user_pic?"https://ellipseapp.com"+"/api/image?id=".concat(o.user_pic):"abc.jpg"}))),r.a.createElement(pa.a,{primary:e.id===e.user_id?o.name+" (Team Leader)":o.name,secondary:o.college}),a.user_id===n.user_id&&r.a.createElement(ce.a,{onClick:function(){if("moderator"===e.type){var a=new FormData;a=JSON.stringify({event_id:n._id,moderator_id:e.user_id}),fetch("https://ellipseapp.com/api/event/remove_moderator",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:a}).then((function(t){200===t.status&&t.json().then((function(t){e.setEvent(t.event)}))}))}else{var r=new FormData;r=JSON.stringify({event_id:n._id,blocked_user_id:e.user_id}),fetch("https://ellipseapp.com/api/event/unblock_chat_for_user",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:r}).then((function(t){200===t.status&&t.json().then((function(t){e.setEvent(t.event)}))}))}},edge:"end","aria-label":"delete"},r.a.createElement(ki.a,null)," ",r.a.createElement(O.a,null,"moderator"===e.type?"Remove":"UnBlock")))};function ro(e){return r.a.createElement(N.a,Object.assign({elevation:6,variant:"filled"},e))}var lo=Object(S.a)((function(e){return{root:{marginBottom:e.spacing(2),padding:e.spacing(0)},progress:{display:"flex",flexDirection:"column",alignItems:"center"}}}));var io=function(e){var t=lo(),a=r.a.useState({open:!1,vertical:"top",horizontal:"center",message:"success",type:"error",autoHide:6e3}),n=Object(p.a)(a,2),l=n[0],i=n[1],o=(e.children,e.value),c=(e.url,e.index),s=Object(Ve.a)(e,["children","value","url","index"]),m=localStorage.getItem("token"),d=e.event,g=r.a.useState(!1),h=Object(p.a)(g,2),b=h[0],v=h[1],y=r.a.useState([]),j=Object(p.a)(y,2),x=j[0],C=j[1],S=r.a.useState(null),_=Object(p.a)(S,2),k=_[0],w=_[1],N=r.a.useState(null),z=Object(p.a)(N,2),I=z[0],B=z[1],A=r.a.useState([]),P=Object(p.a)(A,2),R=P[0],W=P[1],M=l.vertical,F=l.horizontal,q=l.open,H=l.message,L=l.type,G=l.autoHide;function J(){i(Object(u.a)(Object(u.a)({},l),{},{open:!1}))}r.a.useEffect((function(){V()}),[]);var V=function(){v(!0);try{fetch("https://ellipseapp.com/api/event/get_all_users",{headers:{Authorization:"Bearer ".concat(m),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){C(e),v(!1)}))})),fetch("https://ellipseapp.com"+"/api/event/get_reg_users_for_blocking?id=".concat(d._id),{headers:{Authorization:"Bearer ".concat(m),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){e.json().then((function(e){W(e),v(!1)}))}))}catch(e){console.log(e)}};return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:o!==c},s),o===c&&r.a.createElement("div",{className:t.root},r.a.createElement(T.a,{anchorOrigin:{vertical:M,horizontal:F},open:q,autoHideDuration:G,onClose:J,key:M+F},r.a.createElement(ro,{onClose:J,severity:L},H)),r.a.createElement("div",{className:t.progress},r.a.createElement(Wt.a,{in:b,unmountOnExit:!0},r.a.createElement(D.a,null))),r.a.createElement("div",null,r.a.createElement(O.a,null,"Add Moderator"),r.a.createElement(U.a,{fullWidth:!0,id:"combo-box-demo",options:x,getOptionLabel:function(e){return e.name+","+e.username},onChange:function(e,t){w(t)},autoComplete:"off",renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,autoComplete:"off",label:"User Name",margin:"dense"},e,{placeholder:"Enter User Name"}))}}),r.a.createElement(f.a,{variant:"contained",onClick:function(){if(v(!0),null===k||void 0===k);else try{var t=new FormData,a={event_id:d._id,moderator_id:k.user_id};t=JSON.stringify(a),fetch("https://ellipseapp.com/api/event/add_moderator",{headers:{Authorization:"Bearer ".concat(m),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(t){v(!1),200===t.status&&t.json().then((function(t){w(null),e.setEvent(t.event)}))}))}catch(n){console.log(n)}},disabled:b,style:{margin:"10px",borderRadius:"15px"}},"Add")),r.a.createElement(O.a,{style:{marginTop:"20px"}},"Moderators"),r.a.createElement("div",null,d.moderators.map((function(t,a){return r.a.createElement(no,{event:e.event,type:"moderator",setEvent:e.setEvent,user_id:t})}))),r.a.createElement(et.a,{style:{margin:"30px 10px",height:"5px"}}),r.a.createElement("div",null,r.a.createElement(O.a,null,"Block User from Chat"),r.a.createElement(U.a,{fullWidth:!0,id:"combo-box-demo",options:R,getOptionLabel:function(e){return e.name+","+e.username},onChange:function(e,t){B(t)},autoComplete:"off",renderInput:function(e){return r.a.createElement(E.a,Object.assign({fullWidth:!0,autoComplete:"off",label:"User Name",margin:"dense"},e,{placeholder:"Enter User Name"}))}}),r.a.createElement(f.a,{variant:"contained",onClick:function(){if(v(!0),null===I||void 0===I);else try{var t=new FormData,a={event_id:d._id,blocked_user_id:I.user_id};t=JSON.stringify(a),fetch("https://ellipseapp.com/api/event/block_chat_for_user",{headers:{Authorization:"Bearer ".concat(m),"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:t}).then((function(t){v(!1),200===t.status&&t.json().then((function(t){w(null),e.setEvent(t.event)}))}))}catch(n){console.log(n)}},disabled:b,style:{margin:"10px",borderRadius:"15px"}},"Block")),r.a.createElement(O.a,{style:{marginTop:"20px"}},"Blocked Users"),r.a.createElement("div",null,d.chat_blocked_users.map((function(t,a){return r.a.createElement(no,{event:e.event,type:"blocked_user",setEvent:e.setEvent,user_id:t})}))),r.a.createElement(O.a,{style:{margin:"10px 0px"}},"Any Queries contact us at support@ellipseapp.com")))},oo=240,co=Object(S.a)((function(e){var t,a,n;return{root:{display:"flex"},root2:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.light,padding:e.spacing(1)},appBar:(t={position:"sticky",top:64},Object(C.a)(t,e.breakpoints.down("sm"),{top:104}),Object(C.a)(t,"transition",e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})),t),appBarShift:(a={position:"sticky",top:64},Object(C.a)(a,e.breakpoints.down("sm"),{top:104}),Object(C.a)(a,"width","calc(100% - ".concat(oo,"px)")),Object(C.a)(a,"marginLeft",oo),Object(C.a)(a,"transition",e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})),a),menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{position:"sticky",width:oo,flexShrink:0},drawerPaper:(n={backgroundColor:e.palette.secondary.main,top:64},Object(C.a)(n,e.breakpoints.down("sm"),{top:104}),Object(C.a)(n,"width",oo),n),drawerHeader:Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:oo},icons:{position:"absolute",right:e.spacing(1),top:e.spacing(.5)},progress:{display:"flex",flexDirection:"column",alignItems:"center"}}}));function so(e){var t=co(),a=Object(W.a)();localStorage.removeItem("eventid");var n=localStorage.getItem("token"),l=e.match.params.eventId,i=localStorage.getItem("theme"),o=r.a.useState(!1),c=Object(p.a)(o,2),s=c[0],m=c[1],u=r.a.useState(!0),d=Object(p.a)(u,2),g=d[0],E=d[1],b=r.a.useState({}),v=Object(p.a)(b,2),y=v[0],j=v[1],x=r.a.useState(!1),S=Object(p.a)(x,2),_=S[0],k=S[1],w=r.a.useState(!1),T=Object(p.a)(w,2),N=T[0],z=T[1],I=r.a.useState(!1),B=Object(p.a)(I,2),A=B[0],P=B[1],R=r.a.useState(!1),M=Object(p.a)(R,2),F=M[0],q=M[1],H=r.a.useContext(We).currentUser,L=r.a.useState(0),G=Object(p.a)(L,2),U=G[0],J=G[1],V=r.a.useState({infoSelected:!0,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1,certificateSelected:!1,submissionSelected:!1,participationSelected:!1,teamsSelected:!1}),Y=Object(p.a)(V,2),K=Y[0],Z=Y[1],Q=r.a.useState(!1),X=Object(p.a)(Q,2),$=X[0],ee=X[1];r.a.useEffect((function(){m(!0),fetch("https://ellipseapp.com"+"/api/event?id=".concat(l),{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status&&e.json().then((function(e){j(e.event),e.event.isTeamed&&e.event.registered&&q(!0),e.event.registered||"form"!==e.event.reg_mode?P(!0):e.event.user_id===H.user_id?(P(!0),q(!1)):P(!1),e.event.moderators.includes(H.user_id)&&(z(!0),P(!0)),m(!1)}))}))}),[n,l,H]),r.a.useEffect((function(){void 0!==y.user_id&&void 0!==H.user_id&&y.user_id===H.user_id&&k(!0)}),[H,y]);var te=function(e){return function(){var t={infoSelected:!1,dashBoardSelected:!1,timilineSelected:!1,announcementSelected:!1,settingsSelected:!1,editEventSelected:!1,chatSelected:!1,certificateSelected:!1,submissionSelected:!1,participationSelected:!1,teamsSelected:!1};t[e]=!0,Z(t)}},ae=K.infoSelected,ne=K.dashBoardSelected,re=K.timilineSelected,le=K.announcementSelected,ie=K.settingsSelected,se=K.editEventSelected,me=K.chatSelected,ue=K.certificateSelected,de=K.submissionSelected,ge=K.participationSelected,fe=K.teamsSelected;return r.a.createElement("div",null,r.a.createElement(h.a,null),r.a.createElement(ye.a,{position:"fixed",color:"secondary",className:Object(Dt.a)(t.appBar,Object(C.a)({},t.appBarShift,g)),elevation:0},r.a.createElement(je.a,null,r.a.createElement(ce.a,{color:"inherit","aria-label":"open drawer",onClick:function(){E(!0)},edge:"start",className:Object(Dt.a)(t.menuButton,g&&t.hide)},r.a.createElement(hl.a,null)),r.a.createElement(O.a,null,y.name),r.a.createElement("div",{className:t.icons},r.a.createElement(ce.a,{"aria-label":"share",onClick:function(){ee(!0)}},r.a.createElement(Fe.a,null)),r.a.createElement(ce.a,{"aria-label":"close",className:t.closeButton,onClick:function(){e.history.goBack()}},r.a.createElement(He.a,{fontSize:"large"})))),y.isTeamed&&F&&ge&&r.a.createElement(pe.a,{className:t.root2},r.a.createElement(he.a,{value:U,onChange:function(e,t){J(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on"},r.a.createElement(Ee.a,{label:"Submissions"}),r.a.createElement(Ee.a,{label:"Your Team"}),r.a.createElement(Ee.a,{label:"Team Chat"})))),r.a.createElement(gl.a,{className:t.drawer,variant:"persistent",anchor:"left",open:g,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(ce.a,{onClick:function(){E(!1)}},"ltr"===a.direction?r.a.createElement(bl.a,null):r.a.createElement(yl.a,null))),r.a.createElement(et.a,null),r.a.createElement(fa.a,null,r.a.createElement(da.a,{button:!0,onClick:te("infoSelected"),selected:ae},r.a.createElement(ba.a,null,r.a.createElement(cn.a,{color:"primary"})),r.a.createElement(pa.a,{primary:"About"})),r.a.createElement(da.a,{button:!0,onClick:te("timilineSelected"),selected:re},r.a.createElement(ba.a,null,r.a.createElement(_l.a,{color:"primary"})),r.a.createElement(pa.a,{primary:"Schedule"})),r.a.createElement(da.a,{button:!0,onClick:te("announcementSelected"),selected:le},r.a.createElement(ba.a,null,r.a.createElement(Nl.a,{color:"primary"})),r.a.createElement(pa.a,{primary:"Announcements"})),r.a.createElement(da.a,{button:!0,onClick:te("chatSelected"),selected:me},r.a.createElement(ba.a,null,r.a.createElement(xl.a,{color:"primary"})),r.a.createElement(pa.a,{primary:"Chat"})),!_&&r.a.createElement(da.a,{button:!0,onClick:te("participationSelected"),selected:ge},r.a.createElement(ba.a,null,r.a.createElement(wl.a,{color:"primary"})),r.a.createElement(pa.a,{primary:"Participation"}))),r.a.createElement(et.a,null),_&&r.a.createElement(fa.a,null,r.a.createElement(da.a,{button:!0,onClick:te("dashBoardSelected"),selected:ne},r.a.createElement(ba.a,null,r.a.createElement(Cl.a,{color:"primary"})),r.a.createElement(pa.a,{primary:"Dashboard"})),r.a.createElement(da.a,{button:!0,onClick:te("submissionSelected"),selected:de},r.a.createElement(ba.a,null,r.a.createElement(zl.a,{color:"primary"})),r.a.createElement(pa.a,{primary:"Submissions"})),r.a.createElement(da.a,{button:!0,onClick:te("teamsSelected"),selected:fe},r.a.createElement(ba.a,null,r.a.createElement(zl.a,{color:"primary"})),r.a.createElement(pa.a,{primary:"Teams"})),r.a.createElement(da.a,{button:!0,onClick:te("editEventSelected"),selected:se},r.a.createElement(ba.a,null,r.a.createElement(oe.a,{color:"primary"})),r.a.createElement(pa.a,{primary:"Edit Event"})),r.a.createElement(da.a,{button:!0,onClick:te("certificateSelected"),selected:ue},r.a.createElement(ba.a,null,r.a.createElement(zl.a,{color:"primary"})),r.a.createElement(pa.a,{primary:"Certificates"})),r.a.createElement(da.a,{button:!0,onClick:te("settingsSelected"),selected:ie},r.a.createElement(ba.a,null,r.a.createElement(De.a,{color:"primary"})),r.a.createElement(pa.a,{primary:"Settings"}))),N&&r.a.createElement(fa.a,null,r.a.createElement(da.a,{button:!0,onClick:te("dashBoardSelected"),selected:ne},r.a.createElement(ba.a,null,r.a.createElement(Cl.a,{color:"primary"})),r.a.createElement(pa.a,{primary:"Dashboard"})))),r.a.createElement("main",{className:Object(Dt.a)(t.content,Object(C.a)({},t.contentShift,g))},r.a.createElement("div",{className:t.progress},r.a.createElement(Wt.a,{in:s,unmountOnExit:!0},r.a.createElement(D.a,null))),ae&&!s&&null!=y&&r.a.createElement(bt,{event:y}),se&&null!=y&&r.a.createElement(ri,{event:y}),re&&null!=y&&r.a.createElement(wt,{event:y}),ne&&null!=y&&r.a.createElement(Zl,{event:y}),me&&null!=y&&A&&r.a.createElement("div",{className:t.chat},r.a.createElement(Xl,{user:H,open:g,event:y})),_&&le&&null!=y&&r.a.createElement(Bl,{event:y}),!_&&le&&null!=y&&r.a.createElement(Nt,{event:y}),y.isTeamed&&F&&ge&&!_&&r.a.createElement(Ui,{subIndexValue:U,value:4,index:4,open:g,event:y}),!y.isTeamed&&y.rounds&&0===y.rounds.length&&ge&&!_&&r.a.createElement(O.a,null,"This event don't have participation in this platform. Contact Event organizer through chat for more details"),!y.isTeamed&&ge&&!_&&r.a.createElement(Ci,{individual:!0,event:y}),_&&ue&&null!=y&&r.a.createElement(fi,{event:y}),ae&&"form"===y.reg_mode&&r.a.createElement(f.a,{disabled:y.registered||_,size:"small",color:"primary",variant:"contained",className:t.button,onClick:function(){e.history.push("/event/register/"+y._id)}},y.registered?"Registered":"Register"),ae&&"form"!==y.reg_mode&&r.a.createElement(f.a,{disabled:y.registered||_,size:"small",color:"primary",variant:"contained",className:t.button},"light"===i?r.a.createElement("a",{href:y.reg_link,style:{textDecoration:"none",color:"#ffffff"},target:"blank"},"Register"):r.a.createElement("a",{href:y.reg_link,style:{textDecoration:"none",color:"#000000"},target:"blank"},"Register")),_&&ie&&r.a.createElement(io,{event:y,setEvent:j}),_&&fe&&r.a.createElement(Yi,{event:y}),_&&de&&r.a.createElement(ao,{event:y})),r.a.createElement(Je,{event:y,open:$,handleClose:function(){ee(!1)}}))}var mo=Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:e.palette.primary.dark},body:{margin:e.spacing(3)},appbar:{backgroundColor:e.palette.secondary.main},root2:{margin:e.spacing(2),padding:e.spacing(2),backgroundColor:e.palette.secondary.main,borderRadius:e.spacing(2)},root3:{display:"flex",justifyContent:"center"},root4:{backgroundColor:e.palette.secondary.main},root5:{display:"flex",justifyContent:"center",marginTop:e.spacing(2),padding:e.spacing(2)},root6:{paddingLeft:e.spacing(2)}}}));function uo(e){var t=mo(),a=e.match.params.sub_id,n=r.a.useState({}),l=Object(p.a)(n,2),i=l[0],o=l[1],c=r.a.useState({}),s=Object(p.a)(c,2),m=s[0],u=s[1],d=r.a.useState(!0),h=Object(p.a)(d,2),E=h[0],b=h[1],y=r.a.useState(!1),j=Object(p.a)(y,2),x=j[0],C=j[1],S=r.a.useState(!1),_=Object(p.a)(S,2),k=_[0],w=_[1],T=r.a.useState(null),N=Object(p.a)(T,2),D=N[0],z=N[1],I=r.a.useState(null),B=Object(p.a)(I,2),A=B[0],P=B[1],R=r.a.useState(null),W=Object(p.a)(R,2),M=W[0],F=W[1],q=r.a.useState(!1),H=Object(p.a)(q,2),L=H[0],G=H[1];r.a.useEffect((function(){G(!0),fetch("https://ellipseapp.com"+"/api/event/get_submission?id=".concat(a),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(e){200===e.status?e.json().then((function(e){e.event.isTeamed&&w(!0),u(e.users),o(e.event),F(e.submission),z(e.submission.submissions),P(e.rounds_info),G(!1)})):(b(!1),G(!1))}))}),[a]);return r.a.createElement("div",{className:t.root},r.a.createElement(ye.a,{position:"sticky",className:t.appbar},r.a.createElement(je.a,null,r.a.createElement(O.a,{variant:"h5",className:t.title},"Ellipse"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){e.history.push("/")}},"Login"),r.a.createElement(f.a,{size:"large",color:"primary",onClick:function(){e.history.push("/signup")}},"Signup"))),r.a.createElement(Br,{loading:L}),!L&&E&&r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement(v.a,{className:t.root5},r.a.createElement(O.a,{variant:"h5",style:{marginBottom:"7px"}},i.name)),r.a.createElement(v.a,{className:t.root5},r.a.createElement("img",{onClick:function(){C(!0)},style:{width:"240px",height:"180px"},alt:"event poster",src:"https://ellipseapp.com"+"/api/image?id=".concat(i.poster_url)}))),k&&r.a.createElement(v.a,{className:t.root6},r.a.createElement(O.a,null,"Team Name: ",M.team_name)),r.a.createElement(v.a,{className:t.root6},r.a.createElement(O.a,null,"Members")),m.length>0&&m.map((function(e,t){return r.a.createElement(da.a,null,r.a.createElement(ga.a,null,r.a.createElement(g.a,null,r.a.createElement(g.a,{alt:e.name,src:e.profile_pic?"https://ellipseapp.com"+"/api/image?id=".concat(e.profile_pic):"abc.jpg"}))),r.a.createElement(pa.a,{primary:e.name,secondary:e.college_name}))})),E&&A&&D&&null!==D&&r.a.createElement(v.a,{className:t.root2},r.a.createElement(O.a,{variant:"h5",style:{marginBottom:"5px"}},"Submissions"),D.map((function(e){if(e.submission_form){var t=Object.keys(e.submission_form);return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,e.title),t.map((function(t,a){return"file"===A[0].fields[a].field?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,t),r.a.createElement(ce.a,{download:!0,target:"_blank",href:"https://ellipseapp.com"+"/api/event/registration/get_file?id=".concat(e[t]),size:"small",color:"primary"},r.a.createElement(Ll.a,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,t),r.a.createElement(O.a,{variant:"h4",color:"primary"},r.a.createElement(Ft.a,{componentDecorator:function(e,t,a){return r.a.createElement("a",{target:"blank",style:{color:"red",fontWeight:"bold"},href:e,key:a},t)}},e.submission_form[t])))})))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,e.title),r.a.createElement(O.a,{color:"textSecondary"},"Team has no submissions"))})))),!E&&r.a.createElement(v.a,{m:1,p:1,className:t.root3},r.a.createElement(v.a,{m:1,p:3,className:t.root4},r.a.createElement(Hr.a,{fontSize:"large"}),r.a.createElement(O.a,{variant:"h4"}," NOT FOUND"))),r.a.createElement(ht,{event:i,open:x,handleClose:function(){C(!1)}}))}var po,go=(po=function(){return r.a.createElement(ae,null,r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:pl}),r.a.createElement(c.b,{exact:!0,path:"/signin",component:q}),r.a.createElement(c.b,{exact:!0,path:"/signup",component:X}),r.a.createElement(c.b,{exact:!0,path:"/forgotpassword",component:ee}),r.a.createElement(c.b,{exact:!0,path:"/userinfo",component:ue}),r.a.createElement(c.b,{exact:!0,path:"/otpverification",component:re}),r.a.createElement(c.b,{exact:!0,path:"/un/event/:eventId",component:Pr}),r.a.createElement(c.b,{exact:!0,path:"/submission/:sub_id",component:uo}),r.a.createElement(c.b,{exact:!0,path:"/verify_certificate/:id",component:Gr}),r.a.createElement(ia,null,r.a.createElement(c.b,{path:"/home",component:Xa}),r.a.createElement(c.b,{exact:!0,path:"/events",component:Ea}),r.a.createElement(c.b,{exact:!0,path:"/post",component:cr}),r.a.createElement(c.b,{exact:!0,path:"/profile",component:Bn}),r.a.createElement(c.b,{exact:!0,path:"/chat",component:kr}),r.a.createElement(c.b,{exact:!0,path:"/event/register/:eventId",component:Nr}),r.a.createElement(c.b,{exact:!0,path:"/yourevents",component:zr}),r.a.createElement(c.b,{exact:!0,path:"/event/:eventId",component:so}))))))},function(e){Object(Mr.a)(a,e);var t=Object(Fr.a)(a);function a(){var e;Object(Rr.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isDisconnected:!1},e.handleConnectionChange=function(){if("online"!==(navigator.onLine?"online":"offline"))return e.setState({isDisconnected:!0});var t=setInterval((function(){fetch("//google.com",{mode:"no-cors"}).then((function(){e.setState({isDisconnected:!1},(function(){return clearInterval(t)}))})).catch((function(){return e.setState({isDisconnected:!0})}))}),2e3)},e}return Object(Wr.a)(a,[{key:"componentDidMount",value:function(){this.handleConnectionChange(),window.addEventListener("online",this.handleConnectionChange),window.addEventListener("offline",this.handleConnectionChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.handleConnectionChange),window.removeEventListener("offline",this.handleConnectionChange)}},{key:"render",value:function(){var e=this.state.isDisconnected;return r.a.createElement("div",null,e&&r.a.createElement("div",{className:"internet-error"},r.a.createElement("p",null,"Internet connection lost")),r.a.createElement(po,this.props))}}]),a}(n.Component)),fo=a(811),ho=a(372),Eo=Object(ho.a)({palette:{type:"dark",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#000000"},secondary:{main:"#1C1C1E"},background:{default:"#000000"}}}),bo=Object(ho.a)({palette:{type:"light",primary:{main:"#00bdaa",dark:"#00bdaa",light:"#ffffff"},secondary:{main:"#e5e5e5"},background:{default:"#ffffff"}}}),vo=localStorage.getItem("theme");i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fo.a,{theme:"light"===vo?bo:Eo},r.a.createElement(h.a,null,r.a.createElement(go,null)))),document.getElementById("root"))}},[[707,1,2]]]);
//# sourceMappingURL=main.b53af02a.chunk.js.map